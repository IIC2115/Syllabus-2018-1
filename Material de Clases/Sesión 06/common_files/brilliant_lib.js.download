require=function t(e,n,o){function r(a,s){if(!n[a]){if(!e[a]){var c="function"==typeof require&&require;if(!s&&c)return c(a,!0);if(i)return i(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var l=n[a]={exports:{}};e[a][0].call(l.exports,function(t){var n=e[a][1][t];return r(n?n:t)},l,l.exports,t,e,n,o)}return n[a].exports}for(var i="function"==typeof require&&require,a=0;a<o.length;a++)r(o[a]);return r}({1:[function(require,module,exports){!function(){function aa(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&"undefined"!=typeof t.splice&&"undefined"!=typeof t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||"undefined"!=typeof t.call&&"undefined"!=typeof t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&"undefined"==typeof t.call)return"object";return e}function h(b){if(b=String(b),/^\s*$/.test(b)?0:/^[\],:{}\s\u2028\u2029]*$/.test(b.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+b+")")}catch(a){}throw Error("Invalid JSON string: "+b)}function m(t){var e=[];return p(new ba,t,e),e.join("")}function ba(){}function p(t,e,n){if(null==e)n.push("null");else{if("object"==typeof e){if("array"==aa(e)){var o=e;e=o.length,n.push("[");for(var r="",i=0;e>i;i++)n.push(r),p(t,o[i],n),r=",";return n.push("]"),void 0}if(!(e instanceof String||e instanceof Number||e instanceof Boolean)){n.push("{"),r="";for(o in e)Object.prototype.hasOwnProperty.call(e,o)&&(i=e[o],"function"!=typeof i&&(n.push(r),q(o,n),n.push(":"),p(t,i,n),r=","));return n.push("}"),void 0}e=e.valueOf()}switch(typeof e){case"string":q(e,n);break;case"number":n.push(isFinite(e)&&!isNaN(e)?String(e):"null");break;case"boolean":n.push(String(e));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof e)}}}function q(t,e){e.push('"',t.replace(ca,function(t){var e=r[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),r[t]=e),e}),'"')}function u(t){t=String(t);try{return"object"==typeof JSON&&"function"==typeof JSON.parse?JSON.parse(t):h(t)}catch(e){}throw Error("Invalid JSON string: "+t)}function da(){function t(){e.length&&e[0](function(){e.shift(),t()})}var e=[];return function(n){e.push(n),1===e.length&&t()}}function w(t,e){return t.replace(/\$(\d)/g,function(t,n){return e[parseInt(n,10)-1]})}function x(t){return{data:t.data||null,data_parsed:t.data_parsed||null,has_app:t.has_app||null,identity:t.identity||null,referring_identity:t.referring_identity||null,referring_link:t.referring_link||null}}function z(t){t.source="web-sdk";var e=t.data;switch(typeof e){case"string":try{e=u(e)}catch(n){e=h(e)}break;case"object":break;default:e={}}e.$canonical_url||(e.$canonical_url=String(window.location)),e.$og_title||(e.$og_title=A("title")),e.$og_description||(e.$og_description=A("description")),e.$og_image_url||(e.$og_image_url=A("image")),e.$og_video||(e.$og_video=A("video")),"string"==typeof e.$desktop_url&&(e.$desktop_url=e.$desktop_url.replace(/#r:[a-z0-9-_]+$/i,"").replace(/([\?\&]_branch_match_id=\d+)/,""));try{u(e)}catch(n){e=m(e)}return t.data=e,t}function B(t,e){if("undefined"==typeof e)return t;for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function ea(){try{var t=window.location.hash.match(/r:([^&]*)/);if(t&&1<=t.length)return t[1]}catch(e){}}function C(){var t=navigator.userAgent;return t.match(/android/i)?"android":t.match(/ipad/i)?"ipad":t.match(/i(os|p(hone|od))/i)?"ios":t.match(/\(BB[1-9][0-9]*\;/i)?"blackberry":t.match(/Windows Phone/i)?"windows_phone":t.match(/Kindle/i)||t.match(/Silk/i)||t.match(/KFTT/i)||t.match(/KFOT/i)||t.match(/KFJWA/i)||t.match(/KFJWI/i)||t.match(/KFSOWI/i)||t.match(/KFTHWA/i)||t.match(/KFTHWI/i)||t.match(/KFAPWA/i)||t.match(/KFAPWI/i)?"kindle":!1}function fa(){try{var t=window.location.search.substring(1).match(/_branch_match_id=([^&]*)/);if(t&&1<=t.length)return t[1]}catch(e){}}function ga(t){return t.replace(/(\-\w)/g,function(t){return t[1].toUpperCase()})}function D(t){var e,n,o,r,i,a,s="",c=0;for(t=t.replace(/\r\n/g,"\n"),n="",o=0;o<t.length;o++)r=t.charCodeAt(o),128>r?n+=String.fromCharCode(r):(r>127&&2048>r?n+=String.fromCharCode(r>>6|192):(n+=String.fromCharCode(r>>12|224),n+=String.fromCharCode(r>>6&63|128)),n+=String.fromCharCode(63&r|128));for(t=n;c<t.length;)e=t.charCodeAt(c++),n=t.charCodeAt(c++),o=t.charCodeAt(c++),r=e>>2,e=(3&e)<<4|n>>4,i=(15&n)<<2|o>>6,a=63&o,isNaN(n)?a=i=64:isNaN(o)&&(a=64),s=s+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(r)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(e)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(i)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(a);return s}function E(t,e,n){"function"==typeof t.addEventListener?t.addEventListener(e,n,void 0):"function"==typeof t.attachEvent?t.attachEvent("on"+e,n):t["on"+e]=n}function ha(t){return t?(-1<t.indexOf("://")&&(t=t.split("://")[1]),t.substring(t.indexOf("/")+1)):null}function A(t){var e;return t=String(t),e=e||null,(t=document.querySelector('meta[property="og:'+t+'"]'))&&t.content&&(e=t.content),e}function F(t,e){return function(n,o,r){if("number"==typeof r||r)if(0===e){if("object"!=typeof r)return w("API request $1, parameter $2 is not $3",[n,o,"an object"])}else if(3===e){if(!(r instanceof Array))return w("API request $1, parameter $2 is not $3",[n,o,"an array"])}else if(2===e){if("number"!=typeof r)return w("API request $1, parameter $2 is not $3",[n,o,"a number"])}else if(4===e){if("boolean"!=typeof r)return w("API request $1, parameter $2 is not $3",[n,o,"a boolean"])}else{if("string"!=typeof r)return w("API request $1, parameter $2 is not $3",[n,o,"a string"]);if(1!==e&&!e.test(r))return w("API request $1, parameter $2 is not $3",[n,o,"in the proper format"])}else if(t)return w("API request $1 missing parameter $2",[n,o]);return!1}}function H(t){return B(t,{browser_fingerprint_id:F(!0,G),identity_id:F(!0,G),sdk:F(!0,1),session_id:F(!0,G)})}function J(t,e){try{return u(t.get(e?"branch_session_first":"branch_session",e))||null}catch(n){return null}}function za(t,e,n){t.set("branch_session",m(e)),n&&t.set("branch_session_first",m(e),!0)}function K(t,e){var n=J(t),n=B(n,e);t.set("branch_session",m(n))}function L(t){for(var e=0;e<t.length;e++){var n=this[t[e]],n="function"==typeof n?n():n;if(n.isEnabled())return n.j={},n}}function M(t){return"branch_session"===t||"branch_session_first"===t?t:"BRANCH_WEBSDK_KEY"+t}function N(t){return"true"===t?!0:"false"===t?!1:t}function Aa(t){var e;try{e=t?localStorage:sessionStorage}catch(n){return{isEnabled:function(){return!1}}}return{getAll:function(){if("undefined"==typeof e)return null;var t,n=null;for(t in e)0===t.indexOf("BRANCH_WEBSDK_KEY")&&(null===n&&(n={}),n[t.replace("BRANCH_WEBSDK_KEY","")]=N(e.getItem(t)));return n},get:function(t,n){return N(n?localStorage.getItem(M(t)):e.getItem(M(t)))},set:function(t,n,o){o?localStorage.setItem(M(t),n):e.setItem(M(t),n)},remove:function(t){e.removeItem(M(t))},clear:function(){Object.keys(e).forEach(function(t){0===t.indexOf("BRANCH_WEBSDK_KEY")&&e.removeItem(t)})},isEnabled:function(){try{return e.setItem("test",""),e.removeItem("test"),!0}catch(t){return!1}}}}function Ba(t){return{getAll:function(){for(var t=document.cookie.split(";"),e={},n=0;n<t.length;n++){var o=t[n].replace(" ",""),o=o.substring(0,o.length);-1!==o.indexOf("BRANCH_WEBSDK_KEY")&&(o=o.split("="),e[o[0].replace("BRANCH_WEBSDK_KEY","")]=N(o[1]))}return e},get:function(t){t=M(t)+"=";for(var e=document.cookie.split(";"),n=0;n<e.length;n++){var o=e[n],o=o.substring(1,o.length);if(0===o.indexOf(t))return N(o.substring(t.length,o.length))}return null},set:function(e,n){var o=M(e),r="";t&&(r=new Date,r.setTime(r.getTime()+31536e6),r="; branch_expiration_date="+r.toGMTString()+"; expires="+r.toGMTString()),document.cookie=o+"="+n+r+"; path=/"},remove:function(t){document.cookie=M(t)+"=; expires=; path=/"},clear:function(){function e(t){document.cookie=t.substring(0,t.indexOf("="))+"=;expires=-1;path=/"}for(var n=document.cookie.split(";"),o=0;o<n.length;o++){var r=n[o],r=r.substring(1,r.length);-1!==r.indexOf("BRANCH_WEBSDK_KEY")&&(t||-1!==r.indexOf("branch_expiration_date=")?t&&0<r.indexOf("branch_expiration_date=")&&e(r):e(r))}},isEnabled:function(){return navigator.cookieEnabled}}}function Ca(){}function Da(t,e,n){if("undefined"==typeof e)return"";var o=[];if(e instanceof Array){for(t=0;t<e.length;t++)o.push(encodeURIComponent(n)+"="+encodeURIComponent(e[t]));return o.join("&")}for(var r in e)e.hasOwnProperty(r)&&(e[r]instanceof Array||"object"==typeof e[r]?o.push(Da(t,e[r],n?n+"."+r:r)):o.push(encodeURIComponent(n?n+"."+r:r)+"="+encodeURIComponent(e[r])));return o.join("&")}function Ea(t,e,n){function o(t,n){if("undefined"==typeof n&&(n={}),t.branch_key&&c.test(t.branch_key))return n.branch_key=t.branch_key,n;if(t.app_id&&s.test(t.app_id))return n.app_id=t.app_id,n;throw Error(w("API request $1 missing parameter $2",[e.endpoint,"branch_key or app_id"]))}var r,i,a=e.destination+e.endpoint,s=/^[0-9]{15,20}$/,c=/key_(live|test)_[A-Za-z0-9]{32}/;if("/v1/has-app"===e.endpoint)try{e.c=o(n,e.c)}catch(u){return{error:u.message}}if("undefined"!=typeof e.c)for(r in e.c)if(e.c.hasOwnProperty(r)){if(i="function"==typeof e.c[r]?e.c[r](e.endpoint,r,n[r]):i)return{error:i};a+="/"+n[r]}var l={};if("undefined"!=typeof e.a)for(r in e.a)if(e.a.hasOwnProperty(r)){if(i=e.a[r](e.endpoint,r,n[r]))return{error:i};i=n[r],"undefined"!=typeof i&&""!==i&&null!==i&&(l[r]=i)}if("POST"===e.method||"/v1/credithistory"===e.endpoint)try{n=o(n,l)}catch(u){return{error:u.message}}return"/v1/event"===e.endpoint&&(l.metadata=JSON.stringify(l.metadata||{})),"/v1/open"===e.endpoint&&(l.options=JSON.stringify(l.options||{})),{data:Da(t,l,""),url:a.replace(/^\//,"")}}function Fa(t,e,n){var o=document.createElement("script");o.type="text/javascript",o.async=!0,o.src=t,t=document.getElementsByTagName("head"),!t||1>t.length?"function"==typeof e&&e():(t[0].appendChild(o),"function"==typeof e&&E(o,"error",e),"function"==typeof n&&E(o,"load",n))}function Ha(t,e,n,o,r){var i="branch_callback__"+t.f++;t=0<=e.indexOf("branch.io")?"&data=":"&post_data=",n="POST"===o?encodeURIComponent(D(m(n))):"";var a=window.setTimeout(function(){window[i]=function(){},r(Error("Request timed out"),null,504)},5e3);window[i]=function(t){window.clearTimeout(a),r(null,t)},Fa(e+(0>e.indexOf("?")?"?":"")+(n?t+n:"")+(0<=e.indexOf("/c/")?"&click=1":"")+"&callback="+i,function(){r(Error("Request blocked by client, probably adblock"),null)},function(){try{"function"==typeof this.remove?this.remove():this.parentNode.removeChild(this)}catch(t){}delete window[i]})}function Ia(t,e,n,o,r,i,a){var s=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");s.ontimeout=function(){i(Error("Request timed out"),null,504)},s.onerror=function(t){i(Error(t.error||"Error in API: "+s.status),null,s.status)},s.onreadystatechange=function(){var t;if(4===s.readyState)if(200===s.status){if(a)t=s.responseText;else try{t=u(s.responseText)}catch(e){t={}}i(null,t,s.status)}else 402===s.status?i(Error("Not enough credits to redeem."),null,s.status):"4"!==s.status.toString().substring(0,1)&&"5"!==s.status.toString().substring(0,1)||i(Error("Error in API: "+s.status),null,s.status)};try{s.open(o,e,!0),s.timeout=5e3,s.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),s.send(n)}catch(c){r.set("use_jsonp",!0),Ha(t,e,n,o,i)}}function Ja(t,e,n,o,r){var i=Ea(t,e,n);if(i.error)r(Error(i.error));else{var a,s="";"GET"===e.method?a=i.url+"?"+i.data:(a=i.url,s=i.data);var c=2,u=function(t,e,n){t&&c>0&&"5"===(n||"").toString().substring(0,1)?(c--,window.setTimeout(function(){l()},200)):r(t,e)},l=function(){o.get("use_jsonp")||e.M?Ha(t,a,n,e.method,u):Ia(t,a,s,e.method,o,u)};l()}}function O(t,e){t&&!t.className.match(new RegExp("(\\s|^)"+e+"(\\s|$)"))&&(t.className+=" "+e)}function P(t,e){t&&t.className.match(new RegExp("(\\s|^)"+e+"(\\s|$)"))&&(t.className=t.className.replace(new RegExp("(\\s|^)"+e+"(\\s|$)")," "))}function Q(t){var e=new Date;return e.setDate(e.getDate()+t)}function Ka(t){return document.body.currentStyle?document.body.currentStyle[ga(t)]:window.getComputedStyle(document.body).getPropertyValue(t)}function La(t){function e(t){function n(){return Math.max(document.documentElement.clientHeight,window.innerHeight||0)/100}function o(){return Math.max(document.documentElement.clientWidth,window.innerWidth||0)/100}if(!t)return 0;var r=t.replace(/[0-9,\.]/g,"");t=t.match(/\d+/g);var i=parseInt(0<t.length?t[0]:"0",10);return parseInt({px:function(t){return t},em:function(t){return document.body.currentStyle?t*e(document.body.currentStyle.fontSize):t*parseFloat(window.getComputedStyle(document.body).fontSize)},rem:function(t){return document.documentElement.currentStyle?t*e(document.documentElement.currentStyle.fontSize):t*parseFloat(window.getComputedStyle(document.documentElement).fontSize)},vw:function(t){return t*o()},vh:function(t){return t*n()},vmin:function(t){return t*Math.min(n(),o())},vmax:function(t){return t*Math.max(n(),o())},"%":function(){return document.body.clientWidth/100*i}}[r](i),10)}return(e("76px")+e(t)).toString()+"px"}function Ma(t,e){var n=t.get("hideBanner",!0);if(e.ba&&navigator&&Number(navigator.doNotTrack))return!1;try{"string"==typeof n&&(n=u(n))}catch(o){n=!1}var n="number"==typeof n?new Date>=new Date(n):!n,r=e.w;return"number"==typeof r&&(r=!1),!document.getElementById("branch-banner")&&!document.getElementById("branch-banner-iframe")&&(n||r)&&(e.da&&!C()||e.C&&"android"===C()||e.ea&&"ipad"===C()||e.H&&"ios"===C()||e.D&&"blackberry"===C()||e.G&&"windows_phone"===C()||e.F&&"kindle"===C())}function Na(t,e){return"#branch-banner-iframe { position: "+("top"!==e||t?"fixed":"absolute")+"; }\n"}function Oa(t,e){var n=".branch-banner-is-active { -webkit-transition: all 0.375s ease; transition: all 00.375s ease; }\n#branch-banner { width:100%; z-index: 99999; font-family: Helvetica Neue, Sans-serif; -webkit-font-smoothing: antialiased; -webkit-user-select: none; -moz-user-select: none; user-select: none; -webkit-transition: all 0.25s ease; transition: all 00.25s ease; }\n#branch-banner .button{ border: 1px solid "+(t.buttonBorderColor||("dark"===t.theme?"transparent":"#ccc"))+"; background: "+(t.buttonBackgroundColor||"#fff")+"; color: "+(t.buttonFontColor||"#000")+"; cursor: pointer; margin-top: 0px; font-size: 14px; display: inline-block; margin-left: 5px; font-weight: 400; text-decoration: none;  border-radius: 4px; padding: 6px 12px; transition: all .2s ease;}\n#branch-banner .button:hover {  border: 1px solid "+(t.buttonBorderColorHover||("dark"===t.theme?"transparent":"#BABABA"))+"; background: "+(t.buttonBackgroundColorHover||"#E0E0E0")+"; color: "+(t.buttonFontColorHover||"#000")+";}\n#branch-banner .button:focus { outline: none; }\n#branch-banner * { margin-right: 4px; position: relative; line-height: 1.2em; }\n#branch-banner-close { font-weight: 400; cursor: pointer; float: left; z-index: 2;padding: 0 5px 0 5px; margin-right: 0; }\n#branch-banner .content { width:100%; overflow: hidden; height: 76px; background: rgba(255, 255, 255, 0.95); color: #333; "+("top"===t.position?"border-bottom":"border-top")+': 1px solid #ddd; }\n#branch-banner-close { color: #000; font-size: 24px; top: 14px; opacity: .5; transition: opacity .3s ease; }\n#branch-banner-close:hover { opacity: 1; }\n#branch-banner .title { font-size: 18px; font-weight:bold; color: #555; }\n#branch-banner .description { font-size: 12px; font-weight: normal; color: #777; max-height: 30px; overflow: hidden; }\n#branch-banner .icon { float: left; padding-bottom: 40px; margin-right: 10px; margin-left: 5px; }\n#branch-banner .icon img { width: 63px; height: 63px; margin-right: 0; }\n#branch-banner .reviews { font-size:13px; margin: 1px 0 3px 0; color: #777; }\n#branch-banner .reviews .star { display:inline-block; position: relative; margin-right:0; }\n#branch-banner .reviews .star span { display: inline-block; margin-right: 0; color: #555; position: absolute; top: 0; left: 0; }\n#branch-banner .reviews .review-count { font-size:10px; }\n#branch-banner .reviews .star .half { width: 50%; overflow: hidden; display: block; }\n#branch-banner .content .left { padding: 6px 5px 6px 5px; }\n#branch-banner .vertically-align-middle { top: 50%; transform: translateY(-50%); -webkit-transform: translateY(-50%); -ms-transform: translateY(-50%); }\n#branch-banner .details > * { display: block; }\n#branch-banner .content .left { height: 63px; }\n#branch-banner .content .right { float: right; height: 63px; margin-bottom: 50px; padding-top: 22px; z-index: 1; }\n#branch-banner .right > div { float: left; }\n#branch-banner-action { top: 17px; }\n#branch-banner .content:after { content: ""; position: absolute; left: 0; right: 0; top: 100%; height: 1px; background: rgba(0, 0, 0, 0.2); }\n#branch-banner .theme-dark.content { background: rgba(51, 51, 51, 0.95); }\n#branch-banner .theme-dark #branch-banner-close{ color: #fff; text-shadow: 0 1px 1px rgba(0, 0, 0, .15); }\n#branch-banner .theme-dark .details { text-shadow: 0 1px 1px rgba(0, 0, 0, .15); }\n#branch-banner .theme-dark .title { color: #fff; }\n#branch-banner .theme-dark .description { color: #fff; }\n#branch-banner .theme-dark .reviews { color: #888; }\n#branch-banner .theme-dark .reviews .star span{ color: #fff; }\n#branch-banner .theme-dark .reviews .review-count{ color: #fff; }\n',o=C();"ios"!==o&&"ipad"!==o||!t.H?"android"===o&&t.C?n+="#branch-banner { position: absolute; }\n#branch-banner .content .left .details .title { font-size: 12px; }\n#branch-mobile-action { white-space: nowrap; }\n#branch-banner .content .left .details .description { font-size: 11px; font-weight: normal; }\n@media only screen and (min-device-width: 320px) and (max-device-width: 350px) { #branch-banner .content .right { max-width: 120px; } }\n@media only screen and (min-device-width: 351px) and (max-device-width: 400px) and (orientation: landscape) { #branch-banner .content .right { max-width: 150px; } }\n@media only screen and (min-device-width: 401px) and (max-device-width: 480px) and (orientation: landscape) { #branch-banner .content .right { max-width: 180px; } }\n#branch-banner #branch-banner-close,#branch-banner .theme-dark #branch-banner-close { height:17px; width: 17px; text-align: center; font-size: 15px; top: 24px;  border-radius:14px; border:0; line-height:14px; color:#b1b1b3; background:#efefef; padding: 0; opacity: 1; }\n#branch-banner .button { top: 0; text-decoration:none; border-bottom: 3px solid #A4C639; padding: 0 10px; height: 24px; line-height: 24px; text-align: center; color: #fff; margin-top: 2px;  font-weight: bold; background-color: #A4C639; border-radius: 5px; }\n#branch-banner .button:hover { border-bottom:3px solid #8c9c29; background-color: #c1d739; }\n":"blackberry"===o&&t.D?n+="#branch-banner { position: absolute; }\n#branch-banner .content .left .details .title { font-size: 12px; }\n#branch-mobile-action { white-space: nowrap; }\n#branch-banner .content .left .details .description { font-size: 11px; font-weight: normal; }\n@media only screen and (min-device-width: 320px) and (max-device-width: 350px) { #branch-banner .content .right { max-width: 120px; } }\n@media only screen and (min-device-width: 351px) and (max-device-width: 400px) and (orientation: landscape) { #branch-banner .content .right { max-width: 150px; } }\n@media only screen and (min-device-width: 401px) and (max-device-width: 480px) and (orientation: landscape) { #branch-banner .content .right { max-width: 180px; } }\n":"windows_phone"===o&&t.G?n+="#branch-banner { position: absolute; }\n#branch-banner .content .left .details .title { font-size: 12px; }\n#branch-mobile-action { white-space: nowrap; }\n#branch-banner .content .left .details .description { font-size: 11px; font-weight: normal; }\n@media only screen and (min-device-width: 320px) and (max-device-width: 350px) { #branch-banner .content .right { max-width: 120px; } }\n@media only screen and (min-device-width: 351px) and (max-device-width: 400px) and (orientation: landscape) { #branch-banner .content .right { max-width: 150px; } }\n@media only screen and (min-device-width: 401px) and (max-device-width: 480px) and (orientation: landscape) { #branch-banner .content .right { max-width: 180px; } }\n":"kindle"===o&&t.F?n+="#branch-banner { position: absolute; }\n#branch-banner .content .left .details .title { font-size: 12px; }\n#branch-mobile-action { white-space: nowrap; }\n#branch-banner .content .left .details .description { font-size: 11px; font-weight: normal; }\n@media only screen and (min-device-width: 320px) and (max-device-width: 350px) { #branch-banner .content .right { max-width: 120px; } }\n@media only screen and (min-device-width: 351px) and (max-device-width: 400px) and (orientation: landscape) { #branch-banner .content .right { max-width: 150px; } }\n@media only screen and (min-device-width: 401px) and (max-device-width: 480px) and (orientation: landscape) { #branch-banner .content .right { max-width: 180px; } }\n":(n+="#branch-banner { position: fixed; min-width: 600px; }\n#branch-sms-block * { vertical-align: bottom; font-size: 15px; }\n#branch-sms-block { display: inline-block; }\n#branch-banner input{ border: 1px solid #ccc;  font-weight: 400;  border-radius: 4px; height: 30px; padding: 5px 7px 4px; width: 145px; font-size: 14px;}\n#branch-banner input:focus { outline: none; }\n#branch-banner input.error { color: rgb(194, 0, 0); border-color: rgb(194, 0, 0); }\n#branch-banner .branch-icon-wrapper { width:25px; height: 25px; vertical-align: middle; display: inline-block; margin-top: -18px; }\n@keyframes branch-spinner { 0% { transform: rotate(0deg); -webkit-transform: rotate(0deg); -ms-transform: rotate(0deg); } 100% { transform: rotate(360deg); -webkit-transform: rotate(360deg); -ms-transform: rotate(360deg); } }\n@-webkit-keyframes branch-spinner { 0% { transform: rotate(0deg); -webkit-transform: rotate(0deg); -ms-transform: rotate(0deg); } 100% { transform: rotate(360deg); -webkit-transform: rotate(360deg); -ms-transform: rotate(360deg); } }\n#branch-spinner { -webkit-animation: branch-spinner 1s ease-in-out infinite; animation: branch-spinner 1s ease-in-out infinite; transition: all 0.7s ease-in-out; border:2px solid #ddd; border-bottom-color:#428bca; width:80%; height:80%; border-radius:50%; -webkit-font-smoothing: antialiased !important; }\n#branch-banner .theme-dark input { border-color: transparent; }\n",n=window.ActiveXObject?n+"#branch-banner .checkmark { color: #428bca; font-size: 22px; }\n":n+"#branch-banner .checkmark { stroke: #428bca; stroke-dashoffset: 745.74853515625; stroke-dasharray: 745.74853515625; -webkit-animation: dash 2s ease-out forwards; animation: dash 2s ease-out forwards; }\n@-webkit-keyframes dash { 0% { stroke-dashoffset: 745.748535 15625; } 100% { stroke-dashoffset: 0; } }\n@keyframes dash { 0% { stroke-dashoffset: 745.74853515625; } 100% { stroke-dashoffset: 0; } }\n"):n+="#branch-banner { position: absolute; }\n#branch-banner .content .left .details .title { font-size: 12px; }\n#branch-mobile-action { white-space: nowrap; }\n#branch-banner .content .left .details .description { font-size: 11px; font-weight: normal; }\n@media only screen and (min-device-width: 320px) and (max-device-width: 350px) { #branch-banner .content .right { max-width: 120px; } }\n@media only screen and (min-device-width: 351px) and (max-device-width: 400px) and (orientation: landscape) { #branch-banner .content .right { max-width: 150px; } }\n@media only screen and (min-device-width: 401px) and (max-device-width: 480px) and (orientation: landscape) { #branch-banner .content .right { max-width: 180px; } }\n",n+=t.R,t.s&&(n+="body { margin: 0; }\n",o=document.createElement("style"),o.type="text/css",o.id="branch-iframe-css",o.innerHTML="body { -webkit-transition: all 0.375s ease; transition: all 00.375s ease; }\n#branch-banner-iframe { box-shadow: 0 0 5px rgba(0, 0, 0, .35); width: 1px; min-width:100%; left: 0; right: 0; border: 0; height: 76px; z-index: 99999; -webkit-transition: all 0.25s ease; transition: all 00.25s ease; }\n"+(C()?Na(t.Y,t.position):Na(t.S,t.position)),document.head.appendChild(o)),o=document.createElement("style"),o.type="text/css",o.id="branch-css",o.innerHTML=n,(t.s?e.contentWindow.document:document).head.appendChild(o),"top"===t.position?e.style.top="-76px":"bottom"===t.position&&(e.style.bottom="-76px")}function Pa(t,e){var n;if(t.l||t.A){if(t.l){n="";for(var o=0;5>o;o++)n+='<span class="star"><svg class="star" fill="#555555" height="12" viewBox="3 2 20 19" width="12" xmlns="http://www.w3.org/2000/svg"><path d="M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"/><path d="M0 0h24v24H0z" fill="none"/><foreignObject display="none"><span class="star">☆</span></foreignObject></svg>',t.l>o&&(n+=o+1>t.l&&t.l%1?'<span class="half"><svg fill="#555555" height="12" viewBox="3 2 20 19" width="12" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M0 0h24v24H0V0z" id="a"/></defs><clipPath id="b"><use overflow="visible" xlink:href="#a"/></clipPath><path clip-path="url(#b)" d="M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4V6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"/></svg><foreignObject display="none"><span class="half">★</span></foreignObject></span>':'<span class="full"><svg fill="#555555" height="12" viewBox="3 2 20 19" width="12" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"/><path d="M0 0h24v24H0z" fill="none"/><foreignObject display="none"><span class="full">★</span></foreignObject></svg> </span>'),n+="</span>";n='<span class="stars">'+n+"</span>"}else n="";n='<div class="reviews">'+n+(t.A?'<span class="review-count">'+t.A+"</span>":"")+"</div>"}else n="";return'<div class="content'+(t.theme?" theme-"+t.theme:"")+'"><div class="right">'+e+'</div><div class="left">'+(t.T?"":'<div id="branch-banner-close" class="branch-animation">&times;</div>')+'<div class="icon"><img src="'+t.icon+'"></div><div class="details vertically-align-middle"><div class="title">'+t.title+"</div>"+n+'<div class="description">'+t.description+"</div></div></div></div>"}function Qa(t,e){var n='<div id="branch-sms-form-container">'+(C()?'<a id="branch-mobile-action" class="button" href="#" target="_parent">'+((J(e)||{}).has_app?t.Z:t.U)+"</a>":'<div class="branch-icon-wrapper" id="branch-loader-wrapper" style="opacity: 0;"><div id="branch-spinner"></div></div><div id="branch-sms-block"><form id="sms-form"><input type="phone" class="branch-animation" name="branch-sms-phone" id="branch-sms-phone" placeholder="'+t.aa+'"><button type="submit" id="branch-sms-send" class="branch-animation button">'+t.ca+"</button></form></div>")+"</div>";if(t.s){var o=document.createElement("iframe");o.src="about:blank",o.style.overflow="hidden",o.scrolling="no",o.id="branch-banner-iframe",o.className="branch-animation",document.body.appendChild(o);var r=C(),n='<html><head></head><body class="'+("ios"===r||"ipad"===r?"branch-banner-ios":"android"===r?"branch-banner-android":"branch-banner-desktop")+'"><div id="branch-banner" class="branch-animation">'+Pa(t,n)+"</body></html>";o.contentWindow.document.open(),o.contentWindow.document.write(n),o.contentWindow.document.close()}else o=document.createElement("div"),o.id="branch-banner",o.className="branch-animation",o.innerHTML=Pa(t,n),document.body.appendChild(o);return n=o}function Ra(t,e,n,o){function r(){a(),u.style.background="#FFD4D4",c.className="error",setTimeout(function(){u.style.background="#FFFFFF",c.className=""},2e3)}function i(){s=t.createElement("div"),s.className="branch-icon-wrapper",s.id="branch-checkmark",s.style="opacity: 0;",s.innerHTML=window.ActiveXObject?'<span class="checkmark">&#x2713;</span>':'<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 98.5 98.5" enable-background="new 0 0 98.5 98.5" xml:space="preserve"><path class="checkmark" fill="none" stroke-width="8" stroke-miterlimit="10" d="M81.7,17.8C73.5,9.3,62,4,49.2,4C24.3,4,4,24.3,4,49.2s20.3,45.2,45.2,45.2s45.2-20.3,45.2-45.2c0-8.6-2.4-16.6-6.5-23.4l0,0L45.6,68.2L24.7,47.3"/></svg>',p.appendChild(s),u.style.opacity="0",c.style.opacity="0",l.style.opacity="0",setTimeout(function(){s.style.opacity="1"},20),c.value=""}function a(){u.removeAttribute("disabled"),c.removeAttribute("disabled"),u.style.opacity="1",c.style.opacity="1",l.style.opacity="0"}var s,c=t.getElementById("branch-sms-phone"),u=t.getElementById("branch-sms-send"),l=t.getElementById("branch-loader-wrapper"),p=t.getElementById("branch-sms-form-container");if(c){var d=c.value;/^\d{7,}$/.test(d.replace(/[\s()+\-\.]|ext/gi,""))?(R(e,"willSendBannerSMS"),u.setAttribute("disabled",""),c.setAttribute("disabled",""),u.style.opacity=".4",c.style.opacity=".4",l.style.opacity="1",c.className="",e.sendSMS(d,o,n,function(t){t?(R(e,"sendBannerSMSError"),r()):(R(e,"didSendBannerSMS"),i(),setTimeout(function(){p.removeChild(s),a()},3e3))})):r()}}function Sa(t,e,n,o){function r(t){setTimeout(function(){i&&i.parentNode.removeChild(i);var e=document.getElementById("branch-css");e&&e.parentNode.removeChild(e),t()},270),setTimeout(function(){"top"===e.position?document.body.style.marginTop=c:"bottom"===e.position&&(document.body.style.marginBottom=l),P(document.body,"branch-banner-is-active")},20),"top"===e.position?i.style.top="-76px":"bottom"===e.position&&(i.style.bottom="-76px"),"number"==typeof e.w?o.set("hideBanner",Q(e.w),!0):o.set("hideBanner",!0,!0)}if(!Ma(o,e))return R(t,"willNotShowBanner"),null;R(t,"willShowBanner");var i=Qa(e,o);Oa(e,i),n.channel=n.channel||"app banner";var a=e.s?i.contentWindow.document:document;C()?(e.open_app=e.$,e.append_deeplink_path=e.fa,e.make_new_link=e.X,t.deepview(n,e),a.getElementById("branch-mobile-action").onclick=function(e){e.preventDefault(),t.deepviewCta()}):a.getElementById("sms-form").addEventListener("submit",function(o){o.preventDefault(),Ra(a,t,e,n)});var s=Ka("margin-top"),c=document.body.style.marginTop,u=Ka("margin-bottom"),l=document.body.style.marginBottom,p=a.getElementById("branch-banner-close");return p&&(p.onclick=function(e){e.preventDefault(),R(t,"willCloseBanner"),r(function(){R(t,"didCloseBanner")})}),O(document.body,"branch-banner-is-active"),"top"===e.position?document.body.style.marginTop=La(s):"bottom"===e.position&&(document.body.style.marginBottom=La(u)),setTimeout(function(){"top"===e.position?i.style.top="0":"bottom"===e.position&&(i.style.bottom="0"),R(t,"didShowBanner")},20),r}function Ta(t){var e,n,o=document.body;if(e=/<script type="application\/json">((.|\s)*?)<\/script>/,(n=t.match(e))&&(n=n[1],t=t.replace(e,""),(e=u(n))&&e.W)){if(!(o=document.querySelector(e.W)))return null;o.innerHTML=""}e=/<script type="text\/javascript">((.|\s)*?)<\/script>/,(n=t.match(e))&&(n=n[1],t=t.replace(e,""),e=document.createElement("script"),e.innerHTML=n,document.body.appendChild(e));var o=o||document.body,r=document.createElement("div");return r.id="branch-banner-container",r.className="branch-animation",r.innerHTML=t,o.appendChild(r),O(r,"branch-banner-is-active"),setTimeout(function(){r.style.top="0"},100),r}function S(t,e,n,o){if(n=n||{},n.feature="journeys",n=z(n),n.open_app=!0,!(document.getElementById("branch-banner")||document.getElementById("branch-banner-iframe")||document.getElementById("branch-banner-container"))){var r=document.createElement("div");
if(r.id="branch-banner",document.body.insertBefore(r,null),O(r,"branch-banner-is-active"),!o.get("hideBanner",!0))if(e.html)Ta(e.html);else if(e.url){var i=function(t,e){if(t&&e){setTimeout(function(){P(e.querySelector("#branch-banner"),"branch-animation-out"),O(e.querySelector("#branch-banner"),"branch-animation-in")},250),Array.prototype.forEach.call(e.querySelectorAll("#branch-mobile-action"),function(e){e.addEventListener("click",function(){t(),a()})});var n=e.querySelectorAll(".branch-banner-continue");Array.prototype.forEach.call(n,function(t){t.addEventListener("click",function(){a(),o.set("hideBanner",Q(1),!0)})}),n=e.querySelectorAll(".branch-banner-close"),Array.prototype.forEach.call(n,function(t){t.addEventListener("click",function(){a(),o.set("hideBanner",Q(1),!0)})})}},a=function(){O(s.querySelector("#branch-banner"),"branch-animation-out"),P(s.querySelector("#branch-banner"),"branch-animation-in"),setTimeout(function(){s.parentElement.removeChild(s)},250)},s=null,c=null,u="branch_view_callback__"+Ga++;n=encodeURIComponent(D(m(n))),e=e.url+"&callback="+u,Ia(t,e+("&data="+n),{},"GET",{},function(t,e){var n=!1;if(!t&&e){var o=window.setTimeout(function(){window[u]=function(){}},5e3);if(window[u]=function(t){window.clearTimeout(o),n||(c=t,i(c,s))},s=Ta(e),null===s)return n=!0,void 0;i(c,s)}document.body.removeChild(r)},!0)}}}function U(t,e,n){return function(){var o,r,i=this,a=arguments[arguments.length-1];0===t||"function"!=typeof a?(r=function(t){if(t)throw t},o=Array.prototype.slice.call(arguments)):(o=Array.prototype.slice.call(arguments,0,arguments.length-1)||[],r=a),i.O(function(a){function s(e,n){try{if(e&&0===t)throw e;1===t?r(e):2===t&&r(e,n)}finally{a()}}if(!n){if(1===i.g)return s(Error(w("Branch SDK initialization pending and a Branch method was called outside of the queue order")),null);if(2===i.g)return s(Error(w("Branch SDK initialization failed, so further methods cannot be called")),null);if(0===i.g||!i.g)return s(Error(w("Branch SDK not initialized")),null)}o.unshift(s),e.apply(i,o)})}}function V(){return this instanceof V?(this.O=da(),this.b=new L(["session","cookie","pojo"]),this.m=new Ca,this.f=[],this.J="web2.3.0",this.g=0,void 0):(T||(T=new V),T)}function W(t,e,n,o){t.I&&(n.app_id=t.I),t.v&&(n.branch_key=t.v),(e.a&&e.a.session_id||e.c&&e.c.session_id)&&t.B&&(n.session_id=t.B),(e.a&&e.a.identity_id||e.c&&e.c.identity_id)&&t.o&&(n.identity_id=t.o),(e.a&&e.a.link_click_id||e.c&&e.c.link_click_id)&&t.P&&(n.link_click_id=t.P),(e.a&&e.a.sdk||e.c&&e.c.sdk)&&t.J&&(n.sdk=t.J),(e.a&&e.a.browser_fingerprint_id||e.c&&e.c.browser_fingerprint_id)&&t.K&&(n.browser_fingerprint_id=t.K),Ja(t.m,e,n,t.b,function(t,e){o(t,e)})}function X(t){var e=J(t.b);return(e=e&&e.referring_link)?e:(t=t.b.get("click_id"))?"https://bnc.lt/c/"+t:null}function R(t,e){for(var n=0;n<t.f.length;n++)t.f[n].event&&t.f[n].event!==e||t.f[n].listener(e)}var r={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","":"\\u000b"},ca=/\uffff/.test("￿")?/[\\\"\x00-\x1f\x7f-\uffff]/g:/[\\\"\x00-\x1f\x7f-\xff]/g,v=["light","dark"],G=/^[0-9]{15,20}$/,ja={destination:"https://api.branch.io",endpoint:"/v1/open",method:"POST",a:{browser_fingerprint_id:F(!0,G),identity_id:F(!1,G),is_referrable:F(!0,2),link_identifier:F(!1,1),sdk:F(!1,1),options:F(!1,0)}},I={destination:"https://app.link",endpoint:"/_r",method:"GET",M:!0,a:{sdk:F(!0,1),_t:F(!1,G)}},ka={destination:"",endpoint:"",method:"GET",c:{link_url:F(!0,1)},a:{click:F(!0,1)}},la={destination:"https://bnc.lt",endpoint:"/c",method:"POST",c:{link_url:F(!0,1)},a:{sdk:F(!1,1),phone:F(!0,1)}},ma={destination:"https://api.branch.io",endpoint:"/v1/referralcode",method:"POST",a:H({amount:F(!0,2),bucket:F(!1,1),calculation_type:F(!0,2),creation_source:F(!0,2),expiration:F(!1,1),location:F(!0,2),prefix:F(!1,1),type:F(!0,1)})},na={destination:"https://api.branch.io",endpoint:"/v1/referralcode",method:"POST",c:{code:F(!0,1)},a:H({})},oa={destination:"https://api.branch.io",endpoint:"/v1/applycode",method:"POST",c:{code:F(!0,1)},a:H({})},pa={destination:"https://api.branch.io",endpoint:"/v1/logout",method:"POST",a:H({session_id:F(!0,G)})},qa={destination:"https://api.branch.io",endpoint:"/v1/profile",method:"POST",a:H({identity_id:F(!0,G),identity:F(!0,1)})},ra={destination:"https://api.branch.io",endpoint:"/v1/referrals",method:"GET",c:{identity_id:F(!0,G)},a:H({})},sa={destination:"https://api.branch.io",endpoint:"/v1/credithistory",method:"GET",a:H({begin_after_id:F(!1,G),bucket:F(!1,1),direction:F(!1,2),length:F(!1,2),link_click_id:F(!1,G)})},ta={destination:"https://api.branch.io",endpoint:"/v1/credits",method:"GET",c:{identity_id:F(!0,G)},a:H({})},ua={destination:"https://api.branch.io",endpoint:"/v1/redeem",method:"POST",a:H({amount:F(!0,2),bucket:F(!0,1),identity_id:F(!0,G)})},va={destination:"https://api.branch.io",endpoint:"/v1/url",method:"POST",na:"obj",a:H({alias:F(!1,1),campaign:F(!1,1),channel:F(!1,1),data:F(!1,1),feature:F(!1,1),identity_id:F(!0,G),stage:F(!1,1),tags:F(!1,3),type:F(!1,2)})},wa={destination:"https://api.branch.io",endpoint:"/v1/deepview",M:!0,method:"POST",a:H({campaign:F(!1,1),_t:F(!1,G),channel:F(!1,1),data:F(!0,1),feature:F(!1,1),link_click_id:F(!1,1),open_app:F(!1,4),append_deeplink_path:F(!1,4),stage:F(!1,1),tags:F(!1,3)})},xa={destination:"https://api.branch.io",endpoint:"/v1/has-app",method:"GET",a:{browser_fingerprint_id:F(!0,G)}},ya={destination:"https://api.branch.io",endpoint:"/v1/event",method:"POST",a:H({event:F(!0,1),metadata:F(!0,0)})};L.prototype.local=function(){return Aa(!0)},L.prototype.session=function(){return Aa(!1)},L.prototype.cookie=function(){return Ba(!1)},L.prototype.permcookie=function(){return Ba(!0)},L.prototype.pojo={getAll:function(){return this.j},get:function(t){return this.j[t]||null},set:function(t,e){this.j[t]=e},remove:function(t){delete this.j[t]},clear:function(){this.j={}},isEnabled:function(){return!0}},Ca.prototype.f=0;var Ga=0,T;V.prototype.init=U(2,function(t,e,n){function o(){var t,e;"undefined"!=typeof document.hidden?(t="hidden",e="visibilitychange"):"undefined"!=typeof document.mozHidden?(t="mozHidden",e="mozvisibilitychange"):"undefined"!=typeof document.msHidden?(t="msHidden",e="msvisibilitychange"):"undefined"!=typeof document.webkitHidden&&(t="webkitHidden",e="webkitvisibilitychange"),e&&document.addEventListener(e,function(){document[t]||i(null,null)},!1)}function r(e,n){n&&(n=a(n),za(s.b,n,l),s.g=3,n.data_parsed=n.data?u(n.data):null),e&&(s.g=2),W(s,ya,{event:"pageview",metadata:{url:document.URL,user_agent:navigator.userAgent,language:navigator.language}},function(e,o){e||"object"!=typeof o||(s.h=!!o.branch_view_enabled,s.b.set("branch_view_enabled",s.h),o.hasOwnProperty("branch_view_data")&&S(s.m,o.branch_view_data,s.i,s.b));try{t(e,n&&x(n))}catch(r){}})}function i(t,e){var n={sdk:"2.3.0"},o=t||J(s.b)||{},r=J(s.b,!0)||{};r.browser_fingerprint_id&&(n._t=r.browser_fingerprint_id),W(s,I,n,function(t,e){e&&(o.browser_fingerprint_id=e)}),W(s,xa,{browser_fingerprint_id:o.browser_fingerprint_id},function(t,n){n&&!o.has_app&&(o.has_app=!0,K(s.b,o),R(s,"didDownloadApp")),e&&e(t,o)})}function a(t){if(t.session_id&&(s.B=t.session_id.toString()),t.identity_id&&(s.o=t.identity_id.toString()),t.link&&(s.N=t.link),t.referring_link){var e=t.referring_link;t.referring_link=e?"http"!==e.substring(0,4)?"https://bnc.lt"+e:e:null}return!t.click_id&&t.referring_link&&(e=t.referring_link,t.click_id=e?e.substring(e.lastIndexOf("/")+1,e.length):null),s.K=t.browser_fingerprint_id,t}var s=this;s.g=1,-1<e.indexOf("key_")?s.v=e:s.I=e,n=n&&"function"==typeof n?{}:n,e=J(s.b);var c=fa()||ea(),l=!e||!e.identity_id;if(s.h=!!s.b.get("branch_view_enabled"),e&&e.session_id&&!c)o(),i(e,r);else{e={sdk:"2.3.0"};var p=J(s.b,!0)||{};p.browser_fingerprint_id&&(e._t=p.browser_fingerprint_id),W(s,I,e,function(t,e){return t?r(t,null):(W(s,ja,{link_identifier:c,is_referrable:1,browser_fingerprint_id:e,options:n},function(t,e){t||"object"!=typeof e||(s.h=!!e.branch_view_enabled,s.b.set("branch_view_enabled",s.h),e.hasOwnProperty("branch_view_data")&&S(s.m,e.branch_view_data,s.i,s.b),c&&(e.click_id=c)),o(),r(t,e)}),void 0)})}},!0),V.prototype.data=U(2,function(t){var e=x(J(this.b));e.referring_link=X(this),t(null,e)}),V.prototype.first=U(2,function(t){t(null,x(J(this.b,!0)))}),V.prototype.setIdentity=U(2,function(t,e){var n=this;W(this,qa,{identity:e},function(o,r){o&&t(o),r=r||{},n.o=r.identity_id?r.identity_id.toString():null,n.N=r.link,n.V=e,r.referring_data_parsed=r.referring_data?u(r.referring_data):null,K(n.b,r),t(null,r)})}),V.prototype.logout=U(1,function(t){var e=this;W(this,pa,{},function(n,o){n&&t(n),o=o||{},o={data_parsed:null,data:null,referring_link:null,click_id:null,link_click_id:null,identity:null,session_id:o.session_id,identity_id:o.identity_id,link:o.link,device_fingerprint_id:e.ma||null},e.N=o.link,e.B=o.session_id,e.o=o.identity_id,e.V=o.identity,K(e.b,o),t(null)})}),V.prototype.track=U(1,function(t,e,n){var o=this;n||(n={}),W(o,ya,{event:e,metadata:B({url:document.URL,user_agent:navigator.userAgent,language:navigator.language},n||{})},function(e,n){e||"object"!=typeof n||(o.h=!!n.branch_view_enabled,o.b.set("branch_view_enabled",o.h),n.hasOwnProperty("branch_view_data")&&S(o.m,n.branch_view_data,o.i,o.b)),"function"==typeof t&&t.apply(this,arguments)})}),V.prototype.link=U(2,function(t,e){W(this,va,z(e),function(e,n){t(e,n&&n.url)})}),V.prototype.sendSMS=U(1,function(t,e,n,o){function r(n){W(i,la,{link_url:n,phone:e},function(e){t(e||null)})}var i=this;"function"==typeof o?o={}:("undefined"==typeof o||null===o)&&(o={}),o.make_new_link=o.make_new_link||!1,n.channel&&"app banner"!==n.channel||(n.channel="sms");var a=X(i);a&&!o.make_new_link?r(a.substring(a.lastIndexOf("/")+1,a.length)):W(i,va,z(n),function(e,n){if(e)return t(e);var o=n.url;/(bnc.lt\/|app\.link\/)/.test(o)||(o="https://bnc.lt/"+ha(o)),W(i,ka,{link_url:o,click:"click"},function(e,n){return e?t(e):(i.b.set("click_id",n.click_id),r(n.click_id),void 0)})})}),V.prototype.deepview=U(1,function(t,e,n){var o=this;n||(n={});var r,i="https://bnc.lt/a/"+o.v,a=!0;for(r in e)e.hasOwnProperty(r)&&"data"!==r&&(a?(i+="?",a=!1):i+="&",i+=encodeURIComponent(r)+"="+encodeURIComponent(e[r]));e=z(e),(n.open_app||null===n.open_app||"undefined"==typeof n.open_app)&&(e.open_app=!0),e.append_deeplink_path=!!n.append_deeplink_path,(a=X(o))&&!n.make_new_link&&(e.link_click_id=a.substring(a.lastIndexOf("/")+1,a.length)),W(this,wa,e,function(e,n){return e?(o.u=function(){window.location=i},t(e)):("function"==typeof n&&(o.u=n),t(null),void 0)})}),V.prototype.deepviewCta=U(0,function(t){if("undefined"==typeof this.u)throw Error("Cannot call Deepview CTA, please call branch.deepview() first.");window.event&&(window.event.preventDefault?window.event.preventDefault():window.event.returnValue=!1),R(this,"didDeepviewCTA"),this.u(),t()}),V.prototype.referrals=U(2,function(t){W(this,ra,{},t)}),V.prototype.getCode=U(2,function(t,e){e.type="credit",e.creation_source=e.creation_source||2,W(this,ma,e,t)}),V.prototype.validateCode=U(1,function(t,e){W(this,na,{code:e},t)}),V.prototype.applyCode=U(1,function(t,e){W(this,oa,{code:e},t)}),V.prototype.credits=U(2,function(t){W(this,ta,{},t)}),V.prototype.creditHistory=U(2,function(t,e){W(this,sa,e||{},t)}),V.prototype.redeem=U(1,function(t,e,n){W(this,ua,{amount:e,bucket:n},function(e){t(e||null)})}),V.prototype.addListener=function(t,e){"function"==typeof t&&void 0===e&&(e=t),e&&this.f.push({listener:e,event:t||null})},V.prototype.removeListener=function(t){t&&(this.f=this.f.filter(function(e){return e.listener!==t?e:void 0}))},V.prototype.setBranchViewData=U(0,function(t,e){e=e||{};try{this.i=JSON.parse(JSON.stringify(e))}finally{this.i=this.i||{}}t()}),V.prototype.banner=U(0,function(t,e,n){this.setBranchViewData(n),"undefined"==typeof e.showAgain&&"undefined"!=typeof e.forgetHide&&(e.showAgain=e.forgetHide);var o={icon:e.icon||"",title:e.title||"",description:e.description||"",A:"number"==typeof e.reviewCount&&0<e.reviewCount?Math.floor(e.reviewCount):null,l:"number"==typeof e.rating&&5>=e.rating&&0<e.rating?Math.round(2*e.rating)/2:null,Z:e.openAppButtonText||"View in app",U:e.downloadAppButtonText||"Download App",ca:e.sendLinkText||"Send Link",aa:e.phonePreviewText||"(999) 999-9999",s:"undefined"==typeof e.iframe?!0:e.iframe,H:"undefined"==typeof e.showiOS?!0:e.showiOS,ea:"undefined"==typeof e.showiPad?!0:e.showiPad,C:"undefined"==typeof e.showAndroid?!0:e.showAndroid,D:"undefined"==typeof e.showBlackberry?!0:e.showBlackberry,G:"undefined"==typeof e.showWindowsPhone?!0:e.showWindowsPhone,F:"undefined"==typeof e.showKindle?!0:e.showKindle,da:"undefined"==typeof e.showDesktop?!0:e.showDesktop,T:!!e.disableHide,w:"number"==typeof e.forgetHide?e.forgetHide:!!e.forgetHide,ba:"undefined"==typeof e.respectDNT?!1:e.respectDNT,position:e.position||"top",R:e.customCSS||"",Y:"undefined"==typeof e.mobileSticky?!1:e.mobileSticky,S:"undefined"==typeof e.desktopSticky?!0:e.desktopSticky,oa:"string"==typeof e.theme&&-1<v.indexOf(e.theme)?e.theme:v[0],ia:e.buttonBorderColor||"",ga:e.buttonBackgroundColor||"",ka:e.buttonFontColor||"",ja:e.buttonBorderColorHover||"",ha:e.buttonBackgroundColorHover||"",la:e.buttonFontColorHover||"",X:!!e.make_new_link,$:!!e.open_app};"undefined"!=typeof e.showMobile&&(o.H=e.showMobile,o.C=e.showMobile,o.D=e.showMobile,o.G=e.showMobile,o.F=e.showMobile),this.L=Sa(this,o,n,this.b),t()}),V.prototype.closeBanner=U(0,function(t){if(this.L){var e=this;R(this,"willCloseBanner"),this.L(function(){R(e,"didCloseBanner")})}t()});var Y=new V;if(window.branch&&window.branch._q)for(var Ua=window.branch._q,Z=0;Z<Ua.length;Z++){var Va=Ua[Z];Y[Va[0]].apply(Y,Va[1])}"function"==typeof define&&define.amd?define("branch",function(){return Y}):"object"==typeof exports&&(module.exports=Y),window&&(window.branch=Y)}()},{}],2:[function(t,e){function n(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function r(t){if(l===setTimeout)return setTimeout(t,0);if((l===n||!l)&&setTimeout)return l=setTimeout,setTimeout(t,0);try{return l(t,0)}catch(e){try{return l.call(null,t,0)}catch(e){return l.call(this,t,0)}}}function i(t){if(p===clearTimeout)return clearTimeout(t);if((p===o||!p)&&clearTimeout)return p=clearTimeout,clearTimeout(t);try{return p(t)}catch(e){try{return p.call(null,t)}catch(e){return p.call(this,t)}}}function a(){m&&f&&(m=!1,f.length?h=f.concat(h):g=-1,h.length&&s())}function s(){if(!m){var t=r(a);m=!0;for(var e=h.length;e;){for(f=h,h=[];++g<e;)f&&f[g].run();g=-1,e=h.length}f=null,m=!1,i(t)}}function c(t,e){this.fun=t,this.array=e}function u(){}var l,p,d=e.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:n}catch(t){l=n}try{p="function"==typeof clearTimeout?clearTimeout:o}catch(t){p=o}}();var f,h=[],m=!1,g=-1;d.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];h.push(new c(t,e)),1!==h.length||m||r(s)},c.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=u,d.addListener=u,d.once=u,d.off=u,d.removeListener=u,d.removeAllListeners=u,d.emit=u,d.prependListener=u,d.prependOnceListener=u,d.listeners=function(){return[]},d.binding=function(){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},{}],3:[function(t){t("lib/bootstrap"),t("lib/wafer"),t("lib/podio-mentions-input-1.6.0"),t("lib/autosize"),t("lib/segmentio/analytics"),t("util/jquery_custom_plugins"),t("util/global"),t("util/ui"),t("util/analytics"),t("util/branch"),t("util/polyfills"),t("util/csrf"),t("util/content_type"),t("util/latex"),t("util/autosave"),t("util/sticky"),t("util/flags"),t("util/modal_helpers"),t("util/cookies"),t("util/mathjax_loader"),t("util/text_formatter"),t("util/app_version"),t("util/urls"),t("util/cursor")},{"lib/autosize":"lib/autosize","lib/bootstrap":"lib/bootstrap","lib/podio-mentions-input-1.6.0":"lib/podio-mentions-input-1.6.0","lib/segmentio/analytics":"lib/segmentio/analytics","lib/wafer":"lib/wafer","util/analytics":"util/analytics","util/app_version":"util/app_version","util/autosave":"util/autosave","util/branch":"util/branch","util/content_type":"util/content_type","util/cookies":"util/cookies","util/csrf":"util/csrf","util/cursor":"util/cursor","util/flags":"util/flags","util/global":"util/global","util/jquery_custom_plugins":"util/jquery_custom_plugins","util/latex":"util/latex","util/mathjax_loader":"util/mathjax_loader","util/modal_helpers":"util/modal_helpers","util/polyfills":"util/polyfills","util/sticky":"util/sticky","util/text_formatter":"util/text_formatter","util/ui":"util/ui","util/urls":"util/urls"}],"lib/autosize":[function(t){!function(t){var e,n={className:"autosizejs",id:"autosizejs",append:"\n",callback:!1,resizeDelay:10,placeholder:!0},o=["fontFamily","fontSize","fontWeight","fontStyle","letterSpacing","textTransform","wordSpacing","textIndent","whiteSpace"],r=t('<textarea tabindex="-1"/>').data("autosize",!0)[0];r.style.cssText="position:absolute; top:-999px; left:0; right:auto; bottom:auto; border:0; padding: 0; box-sizing:content-box; word-wrap:break-word; height:0 !important; min-height:0 !important; overflow:hidden; transition:none; -webkit-transition:none;",r.style.lineHeight="99px","99px"===t(r).css("lineHeight")&&o.push("lineHeight"),r.style.lineHeight="",t.fn.autosize=function(i){return this.length?(i=t.extend({},n,i||{}),r.parentNode!==document.body&&t(document.body).append(r),this.each(function(){function n(){var e,n=window.getComputedStyle?window.getComputedStyle(d,null):null;n?(e=parseFloat(n.width),("border-box"===n.boxSizing||"border-box"===n.webkitBoxSizing||"border-box"===n.mozBoxSizing)&&t.each(["paddingLeft","paddingRight","borderLeftWidth","borderRightWidth"],function(t,o){e-=parseFloat(n[o])})):e=f.width(),r.style.width=Math.max(e,0)+"px"}function a(){var a={};if(e=d,r.className=i.className,r.id=i.id,u=parseFloat(f.css("maxHeight")),t.each(o,function(t,e){a[e]=f.css(e)}),t(r).css(a).attr("wrap",f.attr("wrap")),n(),window.chrome){var s=d.style.width;d.style.width="0px";{d.offsetWidth}d.style.width=s}}function s(){var t,o;e!==d?a():n(),r.value=!d.value&&i.placeholder?f.attr("placeholder")||"":d.value,r.value+=i.append||"",r.style.overflowY=d.style.overflowY,o=parseFloat(d.style.height)||0,r.scrollTop=0,r.scrollTop=9e4,t=r.scrollTop,u&&t>u?(d.style.overflowY="scroll",t=u):(d.style.overflowY="hidden",l>t&&(t=l)),t+=h,Math.abs(o-t)>.01&&(d.style.height=t+"px",r.className=r.className,m&&i.callback.call(d,d),f.trigger("autosize.resized"))}function c(){clearTimeout(p),p=setTimeout(function(){var t=f.width();t!==v&&(v=t,s())},parseInt(i.resizeDelay,10))}var u,l,p,d=this,f=t(d),h=0,m=t.isFunction(i.callback),g={height:d.style.height,overflow:d.style.overflow,overflowY:d.style.overflowY,wordWrap:d.style.wordWrap,resize:d.style.resize},v=f.width(),y=f.css("resize");f.data("autosize")||(f.data("autosize",!0),"border-box"===f.css("box-sizing")&&(h=f.outerHeight()-f.height()),l=Math.max(parseFloat(f.css("minHeight"))-h||0,f.height()),f.css({overflow:"hidden",overflowY:"hidden",wordWrap:"break-word"}),"vertical"===y?f.css("resize","none"):"both"===y&&f.css("resize","horizontal"),"onpropertychange"in d?"oninput"in d?f.on("input.autosize keyup.autosize",s):f.on("propertychange.autosize",function(){"value"===event.propertyName&&s()}):f.on("input.autosize",s),i.resizeDelay!==!1&&t(window).on("resize.autosize",c),f.on("autosize.resize",s),f.on("autosize.resizeIncludeStyle",function(){e=null,s()}),f.on("autosize.destroy",function(){e=null,clearTimeout(p),t(window).off("resize",c),f.off("autosize").off(".autosize").css(g).removeData("autosize")}),s())})):this}}(t("jquery"))},{jquery:"jquery"}],"lib/bootstrap":[function(t){function e(){s(p).parent().removeClass("open").trigger(s.Event("close"))}function n(){var t=this,e=setTimeout(function(){t.$element.off(s.support.transition.end),o.call(t)},500);this.$element.one(s.support.transition.end,function(){clearTimeout(e),o.call(t)})}function o(){this.$element.hide().trigger("hidden"),r.call(this)}function r(t){var e=this,n=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var o=s.support.transition&&n;this.$backdrop=s('<div class="modal-bg '+n+'" />').appendTo(document.body),6===window.ie_version&&(this.$backdrop.css({position:"absolute",background:"#666",top:0,left:0,width:"100%",height:1e3}),s(".carousel-control.left").css("left",5),s(".carousel-control.right").css("left",750)),"static"!=this.options.backdrop&&this.$backdrop.on("click",function(t){s(t.target).is(e.$backdrop)&&e.hide()}),o&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),o?this.$backdrop.one(s.support.transition.end,t):t()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),s.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(s.support.transition.end,s.proxy(i,this)):i.call(this)):t&&t()}function i(){this.$backdrop.hide(),this.$backdrop.detach()}function a(){var t=this;this.isShown&&this.options.keyboard?s(document).on("keyup.dismiss.modal",function(e){27==e.which&&t.hide()}):this.isShown||s(document).off("keyup.dismiss.modal")}var s=t("jquery"),c=t("util/ui");s.support.transition=function(){var t=function(){var t,e=document.createElement("bootstrap"),n={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"};for(t in n)if(void 0!==e.style[t])return n[t]}();return t&&{end:t}}();var u='[data-dismiss="alert"]',l=function(t){s(t).on("click",u,this.close)};l.prototype.close=function(t){function e(){n.trigger("closed").remove()}var n,o=s(this),r=o.attr("data-target");r||(r=o.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,"")),n=s(r),t&&t.preventDefault(),n.length||(n=o.hasClass("alert")?o:o.parent()),n.trigger(t=s.Event("close")),t.isDefaultPrevented()||(n.removeClass("in"),s.support.transition&&n.hasClass("fade")?n.on(s.support.transition.end,e):e())},s.fn.alert=function(t){return this.each(function(){var e=s(this),n=e.data("alert");n||e.data("alert",n=new l(this)),"string"==typeof t&&n[t].call(e)})},s.fn.alert.Constructor=l,s(function(){s("body").on("click.alert.data-api",u,l.prototype.close)});var p='[data-toggle="dropdown"]',d=function(t){var e=s(t).on("click.dropdown.data-api",this.toggle);s("html").on("click.dropdown.data-api",function(){e.parent().removeClass("open").trigger(s.Event("close"))})};d.prototype={constructor:d,toggle:function(t){var n,o,r,i=s(this);if(!i.is(".disabled, :disabled"))return o=i.attr("data-target"),o||(o=i.attr("href"),o=o&&o.replace(/.*(?=#[^\s]*$)/,"")),n=s(o),n.length||(n=i.parent()),r=n.hasClass("open"),e(),r?(t&&t.stopPropagation(),n.trigger(s.Event("close"))):(n.trigger(s.Event("open")),n.toggleClass("open"),n.trigger(s.Event("opened"))),!1}},s.fn.dropdown=function(t){return this.each(function(){var e=s(this),n=e.data("dropdown");n||e.data("dropdown",n=new d(this)),"string"==typeof t&&n[t].call(e)})},s.fn.dropdown.Constructor=d,s(function(){s("html").on("click.dropdown.data-api",e),s("body").on("click.dropdown",".dropdown form",function(t){t.stopPropagation()}).on("click.dropdown.data-api",p,d.prototype.toggle)});var f=function(t,e){this.options=e,this.$element=s(t).delegate('[data-dismiss="modal"]',"click.dismiss.modal",s.proxy(this.hide,this))};f.prototype={constructor:f,toggle:function(){return this[this.isShown?"hide":"show"]()},show:function(){var t=this,e=s.Event("show");this.$element.trigger(e),6===window.ie_version&&(t.$element.css("position","absolute"),s.body.scrollTop(0)),this.isShown||e.isDefaultPrevented()||(s("body").addClass("modal-open"),this.isShown=!0,a.call(this),r.call(this,function(){var e=s.support.transition&&t.$element.hasClass("fade");t.$element.parent().length||t.$element.appendTo(document.body),t.$element.appendTo(t.$backdrop),c.crop(),t.$element.show(),e&&t.$element[0].offsetWidth,t.$element.addClass("in"),e?t.$element.one(s.support.transition.end,function(){t.$element.trigger("shown")}):t.$element.trigger("shown")}))},hide:function(t){t&&t.preventDefault();t=s.Event("hide"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,s("body").removeClass("modal-open"),c.crop(!1),a.call(this),this.$element.removeClass("in"),s.support.transition&&this.$element.hasClass("fade")?n.call(this):o.call(this))}},s.fn.modal=function(t){return this.each(function(){var e=s(this),n=e.data("modal"),o=s.extend({},s.fn.modal.defaults,e.data(),"object"==typeof t&&t);n||e.data("modal",n=new f(this,o)),"string"==typeof t?n[t]():o.show&&n.show()})},s.fn.modal.defaults={backdrop:!0,keyboard:!0,show:!0},s.fn.modal.Constructor=f,s(function(){s("body").on("click.modal.data-api",'[data-toggle="modal"]',function(t){var e,n=s(this),o=s(n.attr("data-target")||(e=n.attr("href"))&&e.replace(/.*(?=#[^\s]+$)/,"")),r=o.data("modal")?"toggle":s.extend({},o.data(),n.data());t.preventDefault(),o.modal(r)})});var h=function(t,e){this.init("tooltip",t,e)};h.prototype={constructor:h,init:function(t,e,n){var o,r;this.type=t,this.$element=s(e),this.options=this.getOptions(n),this.enabled=!0,"manual"!=this.options.trigger&&("hover"==this.options.trigger&&/iphone|ipad/i.test(navigator.userAgent)?(o="touchstart",r="touchend"):(o="hover"==this.options.trigger?"mouseenter":"focus",r="hover"==this.options.trigger?"mouseleave":"blur"),this.$element.on(o,this.options.selector,s.proxy(this.enter,this)),this.$element.on(r,this.options.selector,s.proxy(this.leave,this))),this.options.selector?this._options=s.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(t){return t=s.extend({},s.fn[this.type].defaults,t,this.$element.data()),t.delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},enter:function(t){var e=s(t.currentTarget)[this.type](this._options).data(this.type);return e.options.delay&&e.options.delay.show?(clearTimeout(this.timeout),e.hoverState="in",this.timeout=setTimeout(function(){"in"==e.hoverState&&e.show()},e.options.delay.show),void 0):e.show()},leave:function(t){var e=s(t.currentTarget)[this.type](this._options).data(this.type);return this.timeout&&clearTimeout(this.timeout),e.options.delay&&e.options.delay.hide?(e.hoverState="out",this.timeout=setTimeout(function(){"out"==e.hoverState&&e.hide()},e.options.delay.hide),void 0):e.hide()},show:function(){var t,e,n,o,r,i,a;if(this.hasContent()&&this.enabled){switch(t=this.tip(),this.setContent(),this.options.animation&&t.addClass("fade"),i="function"==typeof this.options.placement?this.options.placement.call(this,t[0],this.$element[0]):this.options.placement,e=/in/.test(i),t.remove().css({top:0,left:0,display:"block"}).appendTo(e?this.$element:document.body),n=this.getPosition(e),o=t[0].offsetWidth,r=t[0].offsetHeight,e?i.split(" ")[1]:i){case"bottom":a={top:n.top+n.height,left:n.left+n.width/2-o/2};break;case"top":a={top:n.top-r,left:n.left+n.width/2-o/2};break;case"left":a={top:n.top+n.height/2-r/2,left:n.left-o};break;case"right":a={top:n.top+n.height/2-r/2,left:n.left+n.width}}t.css(a).addClass(i).addClass("in"),this.$element.trigger(s.Event("show"))}},isHTML:function(t){return"string"!=typeof t||"<"===t.charAt(0)&&">"===t.charAt(t.length-1)&&t.length>=3||/^(?:[^<]*<[\w\W]+>[^>]*$)/.exec(t)},setContent:function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.isHTML(e)?"html":"text"](e),t.removeClass("fade in top bottom left right")},hide:function(){function t(){var t=setTimeout(function(){e.off(s.support.transition.end).remove()},500);e.one(s.support.transition.end,function(){clearTimeout(t),e.remove()})}var e=this.tip();e.removeClass("in"),s.support.transition&&this.$tip.hasClass("fade")?t():e.remove(),this.$element.trigger(s.Event("hide"))},fixTitle:function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").removeAttr("title")},hasContent:function(){return this.getTitle()},getPosition:function(t){return s.extend({},t?{top:0,left:0}:this.$element.offset(),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight})},getTitle:function(){var t,e=this.$element,n=this.options;return t=e.attr("data-original-title")||("function"==typeof n.title?n.title.call(e[0]):n.title)},tip:function(){return this.$tip=this.$tip||s(this.options.template)},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(){this[this.tip().hasClass("in")?"hide":"show"]()}},s.fn.tooltip=function(t){return this.each(function(){var e=s(this),n=e.data("tooltip"),o="object"==typeof t&&t;n||e.data("tooltip",n=new h(this,o)),"string"==typeof t&&n[t]()})},s.fn.tooltip.Constructor=h,s.fn.tooltip.defaults={animation:!1,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover",title:"",delay:0};var m=function(t,e){this.$element=s(t),this.options=s.extend({},s.fn.typeahead.defaults,e),this.matcher=this.options.matcher||this.matcher,this.sorter=this.options.sorter||this.sorter,this.highlighter=this.options.highlighter||this.highlighter,this.updater=this.options.updater||this.updater,this.$menu=s(this.options.menu).appendTo("body"),this.source=this.options.source,this.shown=!1,this.listen()},g=function(){var t=/[àáâãäåæçèéêëìíîïñòóôõöœùúûüýÿ]/g;return function(e){var n={à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",æ:"ae",ç:"c",è:"e",é:"e",ê:"e",ë:"e",ì:"i",í:"i",î:"i",ï:"i",ñ:"n",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",œ:"oe",ù:"u",ú:"u",û:"u",ü:"u",ý:"y",ÿ:"y"};return e.replace(t,function(t){return n[t]})}}();m.prototype={constructor:m,select:function(){var t=this.$menu.find(".active").attr("data-value");return t&&t.length>0?this.$element.val(this.updater(t)).change():this.$element.val(),this.$element.trigger("ta_select"),this.hide()},updater:function(t){return t},show:function(){var t=s.extend({},this.$element.offset(),{height:this.$element[0].offsetHeight}),e={top:t.top+t.height,left:t.left};return this.options.matchWidth&&(e.width=this.$element.width()),this.$menu.css(e),this.$menu.show(),this.shown=!0,this.$element.trigger("menued"),this},hide:function(){return this.$menu.hide(),this.shown=!1,this.$element.trigger("unmenued"),this},lookup:function(){var t,e=this;return this.query=this.$element.val(),this.query?(t=s.grep(this.source,function(t){return e.matcher(t)}),t=this.sorter(t),t.length?this.render(t.slice(0,this.options.items)).show():this.shown?this.hide():this):this.shown?this.hide():this},matcher:function(t){return~g(t.toLowerCase()).indexOf(g(this.query.toLowerCase()))},sorter:function(t){for(var e,n=[],o=[],r=[];e=t.shift();)e.toLowerCase().indexOf(this.query.toLowerCase())?~e.indexOf(this.query)?o.push(e):r.push(e):n.push(e);return n.concat(o,r)},highlighter:function(t){var e=g(t.toLowerCase()),n=g(this.query.toLowerCase()),o=n.replace(/\[|\]|\{|\}/g,function(t){return"\\"+t});e=e.replace(new RegExp("("+o+")","ig"),function(t,e){return"<strong>"+e+"</strong>"}),t=t.split("");for(var r=new RegExp("<strong>("+o+")</strong>","ig"),i=0,a=0,s=0,c=[];c=r.exec(e);){var u=r.lastIndex-c[0].length-i+a;i+=c[0].length,t.splice(s+u,0,"<strong>"),s+=1,t.splice(s+u+c[1].length,0,"</strong>"),s+=1,a+=1}return t=t.join("")},render:function(t){var e=this;return t=s(t).map(function(t,n){return t=s(e.options.item).attr("data-value",n),t.find("a").html(e.highlighter(n)),t[0]}),this.$menu.html(t),this},next:function(){var t=this.$menu.find(".active").removeClass("active"),e=t.next();e.length||(e=s(this.$menu.find("li")[0])),e.addClass("active")},prev:function(){var t=this.$menu.find(".active").removeClass("active"),e=t.prev();
e.length||(e=this.$menu.find("li").last()),e.addClass("active")},listen:function(){this.$element.on("keypress",s.proxy(this.keypress,this)).on("keyup",s.proxy(this.keyup,this)),this.options.ignore_blur||this.$element.on("blur",s.proxy(this.blur,this)),this.eventSupported("keydown")&&this.$element.on("keydown",s.proxy(this.keypress,this)),this.$menu.on("click",s.proxy(this.click,this)).on("mouseenter","li",s.proxy(this.mouseenter,this))},eventSupported:function(t){var e=t in this.$element;return e||(this.$element.setAttribute(t,"return;"),e="function"==typeof this.$element[t]),e},keyup:function(t){switch(t.keyCode){case 40:case 38:break;case 9:case 13:if(!this.shown)return;this.select();break;case 27:if(!this.shown)return;this.hide();break;default:this.lookup()}t.stopPropagation(),t.preventDefault()},keypress:function(t){if(this.shown){switch(t.keyCode){case 9:case 13:case 27:t.preventDefault();break;case 38:if("keydown"!=t.type)break;t.preventDefault(),this.prev();break;case 40:if("keydown"!=t.type)break;t.preventDefault(),this.next()}t.stopPropagation()}},blur:function(){var t=this;setTimeout(function(){t.hide()},150)},click:function(t){t.stopPropagation(),t.preventDefault(),this.$element.data("has_blurred",!0),this.select()},mouseenter:function(t){this.$menu.find(".active").removeClass("active"),s(t.currentTarget).addClass("active")}},s.fn.typeahead=function(t){return this.each(function(){var e=s(this),n=e.data("typeahead"),o="object"==typeof t&&t;n||e.data("typeahead",n=new m(this,o)),"string"==typeof t&&n[t]()})},s.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu"></ul>',item:'<li><a href="#"></a></li>',ignore_blur:!0,matchWidth:!1},s.fn.typeahead.Constructor=m,s(function(){s("body").on("focus.typeahead.data-api",'[data-provide="typeahead"]',function(){var t=s(this);t.data("typeahead")||t.typeahead(t.data())})});var v=function(t,e){this.options=s.extend({},s.fn.affix.defaults,e),this.$window=s(window).on("scroll.affix.data-api",s.proxy(this.checkPosition,this)).on("click.affix.data-api",s.proxy(function(){setTimeout(s.proxy(this.checkPosition,this),1)},this)),this.$element=s(t),this.checkPosition()};v.prototype.checkPosition=function(){if(this.$element.is(":visible")){var t,e=s(document).height(),n=this.$window.scrollTop(),o=this.$element.offset(),r=this.options.offset,i=r.bottom,a=r.top,c="affix affix-top affix-bottom";"object"!=typeof r&&(i=a=r),"function"==typeof a&&(a=r.top()),"function"==typeof i&&(i=r.bottom()),t=null!=this.unpin&&n+this.unpin<=o.top?!1:null!=i&&o.top+this.$element.height()>=e-i?"bottom":null!=a&&a>=n?"top":!1,this.affixed!==t&&(this.affixed=t,this.unpin="bottom"==t?o.top-n:null,this.$element.removeClass(c).addClass("affix"+(t?"-"+t:"")))}};s.fn.affix;s.fn.affix=function(t){return this.each(function(){var e=s(this),n=e.data("affix"),o="object"==typeof t&&t;n||e.data("affix",n=new v(this,o)),"string"==typeof t&&n[t]()})},s.fn.affix.Constructor=v,s.fn.affix.defaults={offset:0}},{jquery:"jquery","util/ui":"util/ui"}],"lib/podio-mentions-input-1.6.0":[function(t){var e=t("jquery"),n=t("underscore"),o={BACKSPACE:8,TAB:9,RETURN:13,ESC:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,COMMA:188,SPACE:32,HOME:36,END:35},r={triggerChar:"@",stopTriggerRegex:!1,onDataRequest:e.noop,mentionsStorage:{get:e.noop,set:e.noop},minChars:2,allowRepeat:!1,showAvatars:!0,elastic:!0,onCaret:!1,classes:{autoCompleteItemActive:"active"},highlightFunction:function(t){return t},templates:{wrapper:n.template('<div class="mentions-input-box"></div>'),autocompleteList:n.template('<div class="mentions-autocomplete-list"></div>'),autocompleteListItem:n.template('<li data-ref-id="<%= id %>" data-ref-type="<%= type %>" data-display="<%= display %>"><%= content %></li>'),autocompleteListItemAvatar:n.template('<img src="<%= avatar %>" />'),autocompleteListItemIcon:n.template('<div class="icon <%= icon %>"></div>'),mentionsOverlay:n.template('<div class="mentions"><div></div></div>'),mentionItemSyntax:n.template("@[<%= value %>](<%= type %>:<%= id %>)"),mentionItemHighlight:n.template("<strong><span><%= value %></span></strong>")}},i={htmlEncode:function(t){return n.escape(t)},regexpEncode:function(t){return t.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")},highlightTerm:function(t,e){return e||e.length?t.replace(new RegExp("(?![^&;]+;)(?!<[^<>]*)("+i.regexpEncode(e)+")(?![^<>]*>)(?![^&;]+;)","gi"),"<b>$1</b>"):t},setCaratPosition:function(t,e){if(t.createTextRange){var n=t.createTextRange();n.move("character",e),n.select()}else t.selectionStart?(t.focus(),t.setSelectionRange(e,e)):t.focus()},rtrim:function(t){return t.replace(/\s+$/,"")}},a=function(t){var e=t.match(/mention\[[\d]+:(.*?)\]/g)||null;return null!==e&&e.forEach(function(e){t=t.replace(e,e.replace(/mention\[[\d]+:/,"").replace(/\]/,""))}),t},s=function(t){function s(){I=e(O),A=I.clone(),A.val()==A.attr("placeholder")&&A.val(""),"true"!==I.attr("data-mentions-input")&&(I.addClass("inited"),A.addClass("inited"),I.attr("name",I.attr("name")+"__copy"),I.attr("id",I.attr("id")+"__copy"),A.addClass("clone"),A.val().trim().length&&(I.val(a(A.val())),I.val(I.val()+" ")),P=I.parent(),z=e(t.templates.wrapper()),I.wrapAll(z),z=P.find("> div.mentions-input-box"),I.after(A),I.attr("data-mentions-input","true"),navigator.userAgent.toLowerCase().indexOf("android")>=0?I.on("input",function(){x.apply(this,arguments),w.apply(this,arguments),b.apply(this,arguments)}):(I.on("keydown",x),I.on("keypress",w)),I.bind("click",v),I.bind("blur",y),navigator.userAgent.indexOf("MSIE 8")>-1?I.bind("propertychange",b):I.bind("input",b),t.elastic&&I.elastic(),I.trigger(e.Event("mentions.ready")),A.trigger(e.Event("mentions.ready")))}function c(){$=e(t.templates.autocompleteList()),$.appendTo(z),$.delegate("li","mousedown",g)}function u(){D=e(t.templates.mentionsOverlay()),D.prependTo(z)}function l(){var e=h();n.each(L,function(n){var o;o=n.isUser&&t.mentions?t.mentions:n.isWiki&&t.wikiLinks?t.wikiLinks:t;var r=o.templates.mentionItemSyntax(n),a=n.value?new RegExp(i.regexpEncode(n.value),"g"):n.value;e=e.replace(a,r)});var o=i.htmlEncode(e);n.each(L,function(e){var r,a=n.extend({},e,{value:i.htmlEncode(e.value)});r=e.isUser&&t.mentions?t.mentions:e.isWiki&&t.wikiLinks?t.wikiLinks:t;var s=r.templates.mentionItemSyntax(a),c=r.templates.mentionItemHighlight(a);o=o.replace(new RegExp(i.regexpEncode(s),"g"),c)}),o=o.replace(/\n/g,"<br />"),o=o.replace(/ {2}/g,"&nbsp; "),o=t.highlightFunction(o),I.data("messageText",e),A.val(I.data("messageText")),D.find("div").html(o)}function p(){F=[]}function d(){var t=h();L=n.reject(L,function(e){return!e.value||-1==t.indexOf(e.value)}),L=n.compact(L),R.mentionsStorage.set(L)}function f(t){var e=h();M=M||"";var o;o=0===R.triggerChar.indexOf("@")?new RegExp("[^\\w]"+i.regexpEncode(R.triggerChar)+i.regexpEncode(M),"gi"):new RegExp(i.regexpEncode(R.triggerChar)+i.regexpEncode(M),"gi");for(var r=[];o.exec(" "+e);)r.push(o.lastIndex);var a=r[r.length-1]-1,s=R.triggerChar.length,c=a-M.length-s,u=I.prop("selectionStart")?I.prop("selectionStart"):a,d=e.substr(0,c),f=e.substr(u,e.length),m=(d+t.value).length+1;n.find(L,function(e){return e.id==t.id})||L.push(t),p(),M="",_();var g=t.value;t.isUser&&(g=R.triggerChar+g);var v=d+g+" "+f;I.val(v),I.trigger("autosave.save"),A.val(I.data("messageText")),l(),I.focus(),i.setCaratPosition(I[0],m)}function h(){return e.trim(I.val())}function m(t){var n,o,r,i,a,s,c,u,l,p,d;if((l=t[0])&&e(l).is("textarea")&&null!=l.selectionEnd){for(c={position:"absolute",overflow:"auto",whiteSpace:"pre-wrap",wordWrap:"break-word",boxSizing:"content-box",top:0,left:-9999},u=["boxSizing","fontFamily","fontSize","fontStyle","fontVariant","fontWeight","height","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","textDecoration","textIndent","textTransform","width","word-spacing"],p=0,d=u.length;d>p;p++)a=u[p],c[a]=e(l).css(a);return r=document.createElement("div"),e(r).css(c),e(l).after(r),o=document.createTextNode(l.value.substring(0,l.selectionEnd)),n=document.createTextNode(l.value.substring(l.selectionEnd)),i=document.createElement("span"),i.innerHTML="&nbsp;",r.appendChild(o),r.appendChild(i),r.appendChild(n),r.scrollTop=l.scrollTop,s=e(i).position(),e(r).remove(),s}}function g(){var t=e(this),n=N[t.attr("data-uid")];return f(n),!1}function v(){p()}function y(){_()}function b(){l(),d();var e=I.val();F=e.split("");var o=e;I.prop("selectionStart")&&(o=e.slice(0,I.prop("selectionStart")));var r;if(t.mentions&&t.wikiLinks){var a=o.lastIndexOf(t.mentions.triggerChar),s=a>-1,c=o.lastIndexOf(t.wikiLinks.triggerChar),u=c>-1;s&&u&&a>c||s&&!u?(r=a,R=t.mentions):s&&u&&c>a||u&&!s?(r=c,R=t.wikiLinks):r=-1}else if(0===t.triggerChar.indexOf("@")){for(var p=new RegExp("[^\\w]"+t.triggerChar,"gi"),f=[];p.exec(" "+o);)f.push(p.lastIndex);r=f[f.length-1]-2}else r=o.lastIndexOf(t.triggerChar);if(r>-1){var h=R.triggerChar.length;M=e.slice(r+h),M=i.rtrim(M);var m=M;if(I.prop("selectionStart")&&(m=o.slice(r+h),m=i.rtrim(m)),R.stopTriggerRegex){var g=m.search(R.stopTriggerRegex);if(g>-1)return}n.defer(n.bind(S,this,m))}}function w(t){if(t.keyCode!==o.BACKSPACE){var e=String.fromCharCode(t.which||t.keyCode);0===e.charCodeAt(0)?F.push(I.val().split("").pop()):(window.typedValue=e,F.push(e))}}function x(t){if(t.keyCode===o.LEFT||t.keyCode===o.RIGHT||t.keyCode===o.HOME||t.keyCode===o.END)return n.defer(p),navigator.userAgent.indexOf("MSIE 9")>-1&&n.defer(l),void 0;if(t.keyCode===o.BACKSPACE)return F=F.slice(0,-1+F.length),void 0;if(!$.is(":visible"))return!0;switch(t.keyCode){case o.UP:case o.DOWN:var r=null;return r=t.keyCode===o.DOWN?q&&q.length?q.next():$.find("li").first():e(q).prev(),r.length&&k(r),!1;case o.RETURN:case o.TAB:if(q&&q.length)return q.trigger("mousedown"),!1}return!0}function _(){q=null,$.empty().hide();var t=e.Event("mentions.hide");I.trigger(t),A.trigger(t)}function k(e){e.addClass(t.classes.autoCompleteItemActive),e.siblings().removeClass(t.classes.autoCompleteItemActive),q=e}function C(o,r){if($.show(),!R.allowRepeat){var a=n.pluck(L,"value");r=n.reject(r,function(t){return n.include(a,t.name)})}if(!r.length)return _(),void 0;$.empty();var s=e("<ul>").appendTo($).hide();n.each(r,function(t,r){var a=n.uniqueId("mention_");N[a]=n.extend({},t,{value:t.value||t.name});var c=e(R.templates.autocompleteListItem(n.extend({},t,{id:i.htmlEncode(t.id),display:i.htmlEncode(t.name),type:i.htmlEncode(t.type),content:i.highlightTerm(i.htmlEncode(t.name),o)}))).attr("data-uid",a);if(0===r&&k(c),R.showAvatars){var u;u=t.avatar?e(R.templates.autocompleteListItemAvatar({avatar:t.avatar})):e(R.templates.autocompleteListItemIcon({icon:t.icon})),u.prependTo(c)}c=c.appendTo(s)}),$.show(),t.onCaret&&j($,I),s.show();var c=e.Event("mentions.show");I.trigger(c),A.trigger(c)}function S(t){t&&t.length&&t.length>=R.minChars?R.onDataRequest.call(this,"search",t,function(e){C(t,e)}):_()}function j(t,e){var n=m(e),o=parseInt(e.css("line-height"),10)||18;t.css("top",o+n.top)}function E(){I.val(""),L=[],l()}function T(){var e=A.val().trim(),n=t.mentions?t.mentions.mentionRegex:t.mentionRegex,o=e.match(n);null!==o&&(o.forEach(function(t){var e=t.split(/[\[|\]|:]/g);L.push({id:e[1],user_id:e[1],name:e[2],value:e[2],isUser:!0})}),l())}var O,I,A,P,$,z,D,q,L=[],N={},F=[],M="";t=e.extend(!0,{},r,t),t.mentions&&(t.mentions=e.extend(!0,{},r,t.mentions)),t.wikiLinks&&(t.wikiLinks=e.extend(!0,{},r,t.wikiLinks));var R=t;return{init:function(n){O=n,e(O).hasClass("inited")||(s(),c(),u(),t.mentions&&t.mentions.mentionsStorage.get||t.mentionsStorage.get?(L=t.mentions?t.mentions.mentionsStorage.get():t.mentionsStorage.get(),I.data("messageText",A.val()),l()):I.val().trim().length?T():E(),t.prefillMention&&f(t.prefillMention))},val:function(t){n.isFunction(t)&&t.call(this,L.length?I.data("messageText"):h())},reset:function(){E()},getMentions:function(t){n.isFunction(t)&&t.call(this,L)}}};e.fn.mentionsInput=function(t,o){var r=arguments;return"object"!=typeof t&&t||(o=t),this.each(function(){var i=e.data(this,"mentionsInput")||e.data(this,"mentionsInput",new s(o));return n.isFunction(i[t])?i[t].apply(this,Array.prototype.slice.call(r,1)):"object"!=typeof t&&t?(e.error("Method "+t+" does not exist"),void 0):i.init.call(this,this)})}},{jquery:"jquery",underscore:"underscore"}],"lib/segmentio/analytics":[function(require,module,exports){(function(process){!function(t){"object"==typeof exports?module.exports=t("1"):"function"==typeof define&&(define.amd||define.cmd)?define(function(){return t("1")}):this.analytics=t("1")}(function t(e,n,o){function r(t){if(n[t])return n[t].exports;if(e[t])return i(t,r);throw new Error('cannot find module "'+t+'"')}function i(r,i){var a=n[r]={exports:{}},s=e[r],c=s[2],u=s[0],l=!0;try{u.call(a.exports,function(t){var n=e[r][1][t];return i(n||t)},a,a.exports,t,e,n,o),l=!1}finally{l?delete n[r]:c&&(n[c]=n[r])}return n[r].exports}var a=function(){return this}();for(var s in o)o[s]?a[o[s]]=r(s):r(s);return r.duo=!0,r.cache=n,r.modules=e,r}({1:[function(t,e,n){var o=t("segmentio/analytics.js-core"),r=t("./integrations"),i=t("each");e.exports=n=o,o._require=t,n.VERSION=t("../bower.json").version,i(r,function(t,e){o.use(e)})},{"segmentio/analytics.js-core":2,"./integrations":3,each:4,"../bower.json":5}],2:[function(t,e,n){var o=t("./analytics"),r=e.exports=n=new o;r._require=t,n.VERSION=t("../bower.json").version},{"./analytics":6,"../bower.json":7}],6:[function(t,e,n){function o(){this._options({}),this.Integrations={},this._integrations={},this._readied=!1,this._timeout=300,this._user=T,this.log=d("analytics.js"),c.all(this);var t=this;this.on("initialize",function(e,n){n.initialPageview&&t.page(),t._parseQuery()})}var r=window.analytics,i=t("emitter"),a=t("facade"),s=t("after"),c=t("bind"),u=t("callback"),l=t("clone"),p=t("./cookie"),d=t("debug"),f=t("defaults"),h=t("each"),m=t("./group"),g=t("is"),v=t("is-meta"),y=t("object").keys,b=t("./memory"),w=t("./normalize"),x=t("event").bind,_=t("./pageDefaults"),k=t("pick"),C=t("prevent"),S=t("querystring"),j=t("object").length,E=t("./store"),T=t("./user"),O=a.Alias,I=a.Group,A=a.Identify,P=a.Page,$=a.Track;n=e.exports=o,n.cookie=p,n.store=E,n.memory=b,i(o.prototype),o.prototype.use=function(t){return t(this),this},o.prototype.addIntegration=function(t){var e=t.prototype.name;if(!e)throw new TypeError("attempted to add an invalid integration");return this.Integrations[e]=t,this},o.prototype.init=o.prototype.initialize=function(t,e){t=t||{},e=e||{},this._options(e),this._readied=!1;var n=this;h(t,function(e){var o=n.Integrations[e];o||delete t[e]}),h(t,function(t,e){var o=n.Integrations[t],r=new o(l(e));n.log("initialize %o - %o",t,e),n.add(r)});var o=this._integrations;T.load(),m.load();var r=s(j(o),function(){n._readied=!0,n.emit("ready")});return h(o,function(t,o){e.initialPageview&&o.options.initialPageview===!1&&(o.page=s(2,o.page)),o.analytics=n,o.once("ready",r),o.initialize()}),this.initialized=!0,this.emit("initialize",t,e),this},o.prototype.setAnonymousId=function(t){return this.user().anonymousId(t),this},o.prototype.add=function(t){return this._integrations[t.name]=t,this},o.prototype.identify=function(t,e,n,o){g.fn(n)&&(o=n,n=null),g.fn(e)&&(o=e,n=null,e=null),g.object(t)&&(n=e,e=t,t=T.id()),T.identify(t,e);var r=this.normalize({options:n,traits:T.traits(),userId:T.id()});return this._invoke("identify",new A(r)),this.emit("identify",t,e,n),this._callback(o),this},o.prototype.user=function(){return T},o.prototype.group=function(t,e,n,o){if(!arguments.length)return m;g.fn(n)&&(o=n,n=null),g.fn(e)&&(o=e,n=null,e=null),g.object(t)&&(n=e,e=t,t=m.id()),m.identify(t,e);var r=this.normalize({options:n,traits:m.traits(),groupId:m.id()});return this._invoke("group",new I(r)),this.emit("group",t,e,n),this._callback(o),this},o.prototype.track=function(t,e,n,o){g.fn(n)&&(o=n,n=null),g.fn(e)&&(o=e,n=null,e=null);var r=this.options.plan||{},i=r.track||{},a=this.normalize({properties:e,options:n,event:t});if(r=i[t]){if(this.log("plan %o - %o",t,r),r.enabled===!1)return this._callback(o);f(a.integrations,r.integrations||{})}return this._invoke("track",new $(a)),this.emit("track",t,e,n),this._callback(o),this},o.prototype.trackClick=o.prototype.trackLink=function(t,e,n){if(!t)return this;g.element(t)&&(t=[t]);var o=this;return h(t,function(t){if(!g.element(t))throw new TypeError("Must pass HTMLElement to `analytics.trackLink`.");x(t,"click",function(r){var i=g.fn(e)?e(t):e,a=g.fn(n)?n(t):n,s=t.getAttribute("href")||t.getAttributeNS("http://www.w3.org/1999/xlink","href")||t.getAttribute("xlink:href");o.track(i,a),s&&"_blank"!==t.target&&!v(r)&&(C(r),o._callback(function(){window.location.href=s}))})}),this},o.prototype.trackSubmit=o.prototype.trackForm=function(t,e,n){if(!t)return this;g.element(t)&&(t=[t]);var o=this;return h(t,function(t){function r(r){C(r);var i=g.fn(e)?e(t):e,a=g.fn(n)?n(t):n;o.track(i,a),o._callback(function(){t.submit()})}if(!g.element(t))throw new TypeError("Must pass HTMLElement to `analytics.trackForm`.");var i=window.jQuery||window.Zepto;i?i(t).submit(r):x(t,"submit",r)}),this},o.prototype.page=function(t,e,n,o,r){g.fn(o)&&(r=o,o=null),g.fn(n)&&(r=n,o=n=null),g.fn(e)&&(r=e,o=n=e=null),g.object(t)&&(o=e,n=t,e=t=null),g.object(e)&&(o=n,n=e,e=null),g.string(t)&&!g.string(e)&&(e=t,t=null),n=l(n)||{},e&&(n.name=e),t&&(n.category=t);var i=_();f(n,i);var a=k(y(i),n);g.empty(a)||(o=o||{},o.context=o.context||{},o.context.page=a);var s=this.normalize({properties:n,category:t,options:o,name:e});return this._invoke("page",new P(s)),this.emit("page",t,e,n,o),this._callback(r),this},o.prototype.pageview=function(t){var e={};return t&&(e.path=t),this.page(e),this},o.prototype.alias=function(t,e,n,o){g.fn(n)&&(o=n,n=null),g.fn(e)&&(o=e,n=null,e=null),g.object(e)&&(n=e,e=null);var r=this.normalize({options:n,previousId:e,userId:t});return this._invoke("alias",new O(r)),this.emit("alias",t,e,n),this._callback(o),this},o.prototype.ready=function(t){return g.fn(t)&&(this._readied?u.async(t):this.once("ready",t)),this},o.prototype.timeout=function(t){this._timeout=t},o.prototype.debug=function(t){!arguments.length||t?d.enable("analytics:"+(t||"*")):d.disable()},o.prototype._options=function(t){return t=t||{},this.options=t,p.options(t.cookie),E.options(t.localStorage),T.options(t.user),m.options(t.group),this},o.prototype._callback=function(t){return u.async(t,this._timeout),this},o.prototype._invoke=function(t,e){return this.emit("invoke",e),h(this._integrations,function(n,o){e.enabled(n)&&o.invoke.call(o,t,e)}),this},o.prototype.push=function(t){var e=t.shift();this[e]&&this[e].apply(this,t)},o.prototype.reset=function(){this.user().logout(),this.group().logout()},o.prototype._parseQuery=function(){var t=S.parse(window.location.search);return t.ajs_uid&&this.identify(t.ajs_uid),t.ajs_event&&this.track(t.ajs_event),t.ajs_aid&&T.anonymousId(t.ajs_aid),this},o.prototype.normalize=function(t){return t=w(t,y(this._integrations)),t.anonymousId&&T.anonymousId(t.anonymousId),t.anonymousId=T.anonymousId(),t.context.page=f(t.context.page||{},_()),t},o.prototype.noConflict=function(){return window.analytics=r,this}},{emitter:8,facade:9,after:10,bind:11,callback:12,clone:13,"./cookie":14,debug:15,defaults:16,each:4,"./group":17,is:18,"is-meta":19,object:20,"./memory":21,"./normalize":22,event:23,"./pageDefaults":24,pick:25,prevent:26,querystring:27,"./store":28,"./user":29}],8:[function(t,e){function n(t){return t?o(t):void 0}function o(t){for(var e in n.prototype)t[e]=n.prototype[e];return t}var r=t("indexof");e.exports=n,n.prototype.on=n.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks[t]=this._callbacks[t]||[]).push(e),this},n.prototype.once=function(t,e){function n(){o.off(t,n),e.apply(this,arguments)}var o=this;return this._callbacks=this._callbacks||{},e._off=n,this.on(t,n),this},n.prototype.off=n.prototype.removeListener=n.prototype.removeAllListeners=n.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks[t];if(!n)return this;if(1==arguments.length)return delete this._callbacks[t],this;var o=r(n,e._off||e);return~o&&n.splice(o,1),this},n.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),n=this._callbacks[t];if(n){n=n.slice(0);for(var o=0,r=n.length;r>o;++o)n[o].apply(this,e)}return this},n.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks[t]||[]},n.prototype.hasListeners=function(t){return!!this.listeners(t).length}},{indexof:30}],30:[function(t,e){e.exports=function(t,e){if(t.indexOf)return t.indexOf(e);for(var n=0;n<t.length;++n)if(t[n]===e)return n;return-1}},{}],9:[function(t,e){var n=t("./facade");e.exports=n,n.Alias=t("./alias"),n.Group=t("./group"),n.Identify=t("./identify"),n.Track=t("./track"),n.Page=t("./page"),n.Screen=t("./screen")},{"./facade":31,"./alias":32,"./group":33,"./identify":34,"./track":35,"./page":36,"./screen":37}],31:[function(t,e){function n(t){t=a(t),t.timestamp=t.hasOwnProperty("timestamp")?l(t.timestamp):new Date,r(t),this.obj=t}function o(t){var e=a(t);return e}var r=t("isodate-traverse"),i=t("./is-enabled"),a=t("./utils").clone,s=t("./utils").type,c=t("./address"),u=t("obj-case"),l=t("new-date");e.exports=n,c(n.prototype),n.prototype.proxy=function(t){var e=t.split(".");t=e.shift();var n=this[t]||this.field(t);return n?("function"==typeof n&&(n=n.call(this)||{}),0===e.length?o(n):(n=u(n,e.join(".")),o(n))):n},n.prototype.field=function(t){var e=this.obj[t];return o(e)},n.proxy=function(t){return function(){return this.proxy(t)}},n.field=function(t){return function(){return this.field(t)}},n.multi=function(t){return function(){var e=this.proxy(t+"s");if("array"==s(e))return e;var n=this.proxy(t);return n&&(n=[a(n)]),n||[]}},n.one=function(t){return function(){var e=this.proxy(t);if(e)return e;var n=this.proxy(t+"s");return"array"==s(n)?n[0]:void 0}},n.prototype.json=function(){var t=a(this.obj);return this.type&&(t.type=this.type()),t},n.prototype.context=n.prototype.options=function(t){var e=a(this.obj.options||this.obj.context)||{};if(!t)return a(e);if(this.enabled(t)){var n=this.integrations(),o=n[t]||u(n,t);return"boolean"==typeof o&&(o={}),o||{}}},n.prototype.enabled=function(t){var e=this.proxy("options.providers.all");"boolean"!=typeof e&&(e=this.proxy("options.all")),"boolean"!=typeof e&&(e=this.proxy("integrations.all")),"boolean"!=typeof e&&(e=!0);var n=e&&i(t),o=this.integrations();if(o.providers&&o.providers.hasOwnProperty(t)&&(n=o.providers[t]),o.hasOwnProperty(t)){var r=o[t];n="boolean"==typeof r?r:!0}return n?!0:!1},n.prototype.integrations=function(){return this.obj.integrations||this.proxy("options.providers")||this.options()},n.prototype.active=function(){var t=this.proxy("options.active");return(null===t||void 0===t)&&(t=!0),t},n.prototype.sessionId=n.prototype.anonymousId=function(){return this.field("anonymousId")||this.field("sessionId")},n.prototype.groupId=n.proxy("options.groupId"),n.prototype.traits=function(t){var e=this.proxy("options.traits")||{},n=this.userId();t=t||{},n&&(e.id=n);for(var o in t){var r=null==this[o]?this.proxy("options.traits."+o):this[o]();null!=r&&(e[t[o]]=r,delete e[o])}return e},n.prototype.library=function(){var t=this.proxy("options.library");return t?"string"==typeof t?{name:t,version:null}:t:{name:"unknown",version:null}},n.prototype.userId=n.field("userId"),n.prototype.channel=n.field("channel"),n.prototype.timestamp=n.field("timestamp"),n.prototype.userAgent=n.proxy("options.userAgent"),n.prototype.ip=n.proxy("options.ip")},{"isodate-traverse":38,"./is-enabled":39,"./utils":40,"./address":41,"obj-case":42,"new-date":43}],38:[function(t,e){function n(t,e){return void 0===e&&(e=!0),a.object(t)?o(t,e):a.array(t)?r(t,e):t}function o(t,e){return i(t,function(o,r){s.is(r,e)?t[o]=s.parse(r):(a.object(r)||a.array(r))&&n(r,e)}),t}function r(t,e){return i(t,function(o,r){a.object(o)?n(o,e):s.is(o,e)&&(t[r]=s.parse(o))}),t}var i,a=t("is"),s=t("isodate");try{i=t("each")}catch(c){i=t("each-component")}e.exports=n},{is:44,isodate:45,each:4}],44:[function(t,e,n){function o(t){return function(e){return t===i(e)}}var r=t("is-empty");try{var i=t("type")}catch(a){t("component-type")}for(var s,c=["arguments","array","boolean","date","element","function","null","number","object","regexp","string","undefined"],u=0;s=c[u];u++)n[s]=o(s);n.fn=n["function"],n.empty=r,n.nan=function(t){return n.number(t)&&t!=t}},{"is-empty":46,type:47,"component-type":47}],46:[function(t,e){function n(t){if(null==t)return!0;if("number"==typeof t)return 0===t;if(void 0!==t.length)return 0===t.length;for(var e in t)if(o.call(t,e))return!1;return!0}e.exports=n;var o=Object.prototype.hasOwnProperty},{}],47:[function(t,e){var n=Object.prototype.toString;e.exports=function(t){switch(n.call(t)){case"[object Date]":return"date";case"[object RegExp]":return"regexp";case"[object Arguments]":return"arguments";case"[object Array]":return"array";case"[object Error]":return"error"}return null===t?"null":void 0===t?"undefined":t!==t?"nan":t&&1===t.nodeType?"element":(t=t.valueOf?t.valueOf():Object.prototype.valueOf.apply(t),typeof t)}},{}],45:[function(t,e,n){var o=/^(\d{4})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:([ T])(\d{2}):?(\d{2})(?::?(\d{2})(?:[,\.](\d{1,}))?)?(?:(Z)|([+\-])(\d{2})(?::?(\d{2}))?)?)?$/;n.parse=function(t){var e=[1,5,6,7,11,12],n=o.exec(t),r=0;if(!n)return new Date(t);for(var i,a=0;i=e[a];a++)n[i]=parseInt(n[i],10)||0;n[2]=parseInt(n[2],10)||1,n[3]=parseInt(n[3],10)||1,n[2]--,n[8]=n[8]?(n[8]+"00").substring(0,3):0," "==n[4]?r=(new Date).getTimezoneOffset():"Z"!==n[9]&&n[10]&&(r=60*n[11]+n[12],"+"==n[10]&&(r=0-r));var s=Date.UTC(n[1],n[2],n[3],n[5],n[6]+r,n[7],n[8]);return new Date(s)},n.is=function(t,e){return e&&!1===/^\d{4}-\d{2}-\d{2}/.test(t)?!1:o.test(t)}},{}],4:[function(t,e){function n(t,e){for(var n=0;n<t.length;++n)e(t.charAt(n),n)}function o(t,e){for(var n in t)a.call(t,n)&&e(n,t[n])}function r(t,e){for(var n=0;n<t.length;++n)e(t[n],n)}var i=t("type"),a=Object.prototype.hasOwnProperty;e.exports=function(t,e){switch(i(t)){case"array":return r(t,e);case"object":return"number"==typeof t.length?r(t,e):o(t,e);case"string":return n(t,e)}}},{type:47}],39:[function(t,e){var n={Salesforce:!0};e.exports=function(t){return!n[t]}},{}],40:[function(t,e,n){try{n.inherit=t("inherit"),n.clone=t("clone"),n.type=t("type")}catch(o){n.inherit=t("inherit-component"),n.clone=t("clone-component"),n.type=t("type-component")}},{inherit:48,clone:49,type:47}],48:[function(t,e){e.exports=function(t,e){var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},{}],49:[function(t,e){function n(t){switch(o(t)){case"object":var e={};for(var r in t)t.hasOwnProperty(r)&&(e[r]=n(t[r]));return e;case"array":for(var e=new Array(t.length),i=0,a=t.length;a>i;i++)e[i]=n(t[i]);return e;case"regexp":var s="";return s+=t.multiline?"m":"",s+=t.global?"g":"",s+=t.ignoreCase?"i":"",new RegExp(t.source,s);case"date":return new Date(t.getTime());default:return t}}var o;try{o=t("component-type")}catch(r){o=t("type")}e.exports=n},{"component-type":47,type:47}],41:[function(t,e){var n=t("obj-case");e.exports=function(t){function e(t,e){return function(){var o=this.traits(),r=this.properties?this.properties():{};return n(o,"address."+t)||n(o,t)||(e?n(o,"address."+e):null)||(e?n(o,e):null)||n(r,"address."+t)||n(r,t)||(e?n(r,"address."+e):null)||(e?n(r,e):null)}}t.zip=e("postalCode","zip"),t.country=e("country"),t.street=e("street"),t.state=e("state"),t.city=e("city")}},{"obj-case":42}],42:[function(t,e){function n(t){return function(e,n,o,r){function i(){for(u in e){var t=c(u);if(0===n.indexOf(t)){var o=n.substr(t.length);if("."===o.charAt(0)||0===o.length){n=o.substr(1);var r=e[u];return null==r?(l=!0,void 0):n.length?(e=r,void 0):(l=!0,void 0)}}}u=void 0,l=!0}var c=r&&s(r.normalizer)?r.normalizer:a;n=c(n);for(var u,l=!1;!l;)i();return u?null==e?e:t(e,u,o):void 0}}function o(t,e){return t.hasOwnProperty(e)?t[e]:void 0}function r(t,e){return t.hasOwnProperty(e)&&delete t[e],t}function i(t,e,n){return t.hasOwnProperty(e)&&(t[e]=n),t}function a(t){return t.replace(/[^a-zA-Z0-9\.]+/g,"").toLowerCase()}function s(t){return"function"==typeof t}e.exports=n(o),e.exports.find=e.exports,e.exports.replace=function(t,e,o,r){return n(i).call(this,t,e,o,r),t},e.exports.del=function(t,e,o){return n(r).call(this,t,e,null,o),t}},{}],43:[function(t,e){function n(t){return 315576e5>t?1e3*t:t}var o=t("is"),r=t("isodate"),i=t("./milliseconds"),a=t("./seconds");e.exports=function(t){return o.date(t)?t:o.number(t)?new Date(n(t)):r.is(t)?r.parse(t):i.is(t)?i.parse(t):a.is(t)?a.parse(t):new Date(t)}},{is:50,isodate:45,"./milliseconds":51,"./seconds":52}],50:[function(t,e,n){function o(t){return function(e){return t===a(e)}}for(var r,i=t("is-empty"),a=t("type"),s=["arguments","array","boolean","date","element","function","null","number","object","regexp","string","undefined"],c=0;r=s[c];c++)n[r]=o(r);n.fn=n["function"],n.empty=i,n.nan=function(t){return n.number(t)&&t!=t}},{"is-empty":46,type:47}],51:[function(t,e,n){var o=/\d{13}/;n.is=function(t){return o.test(t)},n.parse=function(t){return t=parseInt(t,10),new Date(t)}},{}],52:[function(t,e,n){var o=/\d{10}/;n.is=function(t){return o.test(t)},n.parse=function(t){var e=1e3*parseInt(t,10);return new Date(e)}},{}],32:[function(t,e){function n(t){r.call(this,t)}var o=t("./utils").inherit,r=t("./facade");e.exports=n,o(n,r),n.prototype.type=n.prototype.action=function(){return"alias"},n.prototype.from=n.prototype.previousId=function(){return this.field("previousId")||this.field("from")},n.prototype.to=n.prototype.userId=function(){return this.field("userId")||this.field("to")}},{"./utils":40,"./facade":31}],33:[function(t,e){function n(t){a.call(this,t)}var o=t("./utils").inherit,r=(t("./address"),t("is-email")),i=t("new-date"),a=t("./facade");e.exports=n,o(n,a),n.prototype.type=n.prototype.action=function(){return"group"},n.prototype.groupId=a.field("groupId"),n.prototype.created=function(){var t=this.proxy("traits.createdAt")||this.proxy("traits.created")||this.proxy("properties.createdAt")||this.proxy("properties.created");return t?i(t):void 0},n.prototype.email=function(){var t=this.proxy("traits.email");if(t)return t;var e=this.groupId();return r(e)?e:void 0},n.prototype.traits=function(t){var e=this.properties(),n=this.groupId();t=t||{},n&&(e.id=n);for(var o in t){var r=null==this[o]?this.proxy("traits."+o):this[o]();null!=r&&(e[t[o]]=r,delete e[o])}return e},n.prototype.name=a.proxy("traits.name"),n.prototype.industry=a.proxy("traits.industry"),n.prototype.employees=a.proxy("traits.employees"),n.prototype.properties=function(){return this.field("traits")||this.field("properties")||{}}},{"./utils":40,"./address":41,"is-email":53,"new-date":43,"./facade":31}],53:[function(t,e){function n(t){return o.test(t)}e.exports=n;var o=/.+\@.+\..+/},{}],34:[function(t,e){function n(t){o.call(this,t)}var o=(t("./address"),t("./facade")),r=t("is-email"),i=t("new-date"),a=t("./utils"),s=t("obj-case"),c=t("trim"),u=a.inherit,l=(a.clone,a.type);e.exports=n,u(n,o),n.prototype.type=n.prototype.action=function(){return"identify"},n.prototype.traits=function(t){var e=this.field("traits")||{},n=this.userId();t=t||{},n&&(e.id=n);for(var o in t){var r=null==this[o]?this.proxy("traits."+o):this[o]();null!=r&&(e[t[o]]=r,o!==t[o]&&delete e[o])}return e},n.prototype.email=function(){var t=this.proxy("traits.email");if(t)return t;var e=this.userId();return r(e)?e:void 0},n.prototype.created=function(){var t=this.proxy("traits.created")||this.proxy("traits.createdAt");return t?i(t):void 0},n.prototype.companyCreated=function(){var t=this.proxy("traits.company.created")||this.proxy("traits.company.createdAt");return t?i(t):void 0},n.prototype.name=function(){var t=this.proxy("traits.name");if("string"==typeof t)return c(t);var e=this.firstName(),n=this.lastName();return e&&n?c(e+" "+n):void 0
},n.prototype.firstName=function(){var t=this.proxy("traits.firstName");if("string"==typeof t)return c(t);var e=this.proxy("traits.name");return"string"==typeof e?c(e).split(" ")[0]:void 0},n.prototype.lastName=function(){var t=this.proxy("traits.lastName");if("string"==typeof t)return c(t);var e=this.proxy("traits.name");if("string"==typeof e){var n=c(e).indexOf(" ");if(-1!==n)return c(e.substr(n+1))}},n.prototype.uid=function(){return this.userId()||this.username()||this.email()},n.prototype.description=function(){return this.proxy("traits.description")||this.proxy("traits.background")},n.prototype.age=function(){var t=this.birthday(),e=s(this.traits(),"age");if(null!=e)return e;if("date"==l(t)){var n=new Date;return n.getFullYear()-t.getFullYear()}},n.prototype.avatar=function(){var t=this.traits();return s(t,"avatar")||s(t,"photoUrl")||s(t,"avatarUrl")},n.prototype.position=function(){var t=this.traits();return s(t,"position")||s(t,"jobTitle")},n.prototype.username=o.proxy("traits.username"),n.prototype.website=o.one("traits.website"),n.prototype.websites=o.multi("traits.website"),n.prototype.phone=o.one("traits.phone"),n.prototype.phones=o.multi("traits.phone"),n.prototype.address=o.proxy("traits.address"),n.prototype.gender=o.proxy("traits.gender"),n.prototype.birthday=o.proxy("traits.birthday")},{"./address":41,"./facade":31,"is-email":53,"new-date":43,"./utils":40,"obj-case":42,trim:54}],54:[function(t,e,n){function o(t){return t.trim?t.trim():t.replace(/^\s*|\s*$/g,"")}n=e.exports=o,n.left=function(t){return t.trimLeft?t.trimLeft():t.replace(/^\s*/,"")},n.right=function(t){return t.trimRight?t.trimRight():t.replace(/\s*$/,"")}},{}],35:[function(t,e){function n(t){a.call(this,t)}function o(t){if(t){if("number"==typeof t)return t;if("string"==typeof t)return t=t.replace(/\$/g,""),t=parseFloat(t),isNaN(t)?void 0:t}}var r=t("./utils").inherit,i=(t("./utils").clone,t("./utils").type),a=t("./facade"),s=t("./identify"),c=t("is-email"),u=t("obj-case");e.exports=n,r(n,a),n.prototype.type=n.prototype.action=function(){return"track"},n.prototype.event=a.field("event"),n.prototype.value=a.proxy("properties.value"),n.prototype.category=a.proxy("properties.category"),n.prototype.id=a.proxy("properties.id"),n.prototype.sku=a.proxy("properties.sku"),n.prototype.tax=a.proxy("properties.tax"),n.prototype.name=a.proxy("properties.name"),n.prototype.price=a.proxy("properties.price"),n.prototype.total=a.proxy("properties.total"),n.prototype.coupon=a.proxy("properties.coupon"),n.prototype.shipping=a.proxy("properties.shipping"),n.prototype.discount=a.proxy("properties.discount"),n.prototype.description=a.proxy("properties.description"),n.prototype.plan=a.proxy("properties.plan"),n.prototype.orderId=function(){return this.proxy("properties.id")||this.proxy("properties.orderId")},n.prototype.subtotal=function(){var t,e=u(this.properties(),"subtotal"),n=this.total();return e?e:n?((t=this.tax())&&(n-=t),(t=this.shipping())&&(n-=t),(t=this.discount())&&(n+=t),n):0},n.prototype.products=function(){var t=this.properties(),e=u(t,"products");return"array"==i(e)?e:[]},n.prototype.quantity=function(){var t=this.obj.properties||{};return t.quantity||1},n.prototype.currency=function(){var t=this.obj.properties||{};return t.currency||"USD"},n.prototype.referrer=a.proxy("properties.referrer"),n.prototype.query=a.proxy("options.query"),n.prototype.properties=function(t){var e=this.field("properties")||{};t=t||{};for(var n in t){var o=null==this[n]?this.proxy("properties."+n):this[n]();null!=o&&(e[t[n]]=o,delete e[n])}return e},n.prototype.username=function(){return this.proxy("traits.username")||this.proxy("properties.username")||this.userId()||this.sessionId()},n.prototype.email=function(){var t=this.proxy("traits.email");if(t=t||this.proxy("properties.email"))return t;var e=this.userId();return c(e)?e:void 0},n.prototype.revenue=function(){var t=this.proxy("properties.revenue"),e=this.event();return!t&&e&&e.match(/completed ?order/i)&&(t=this.proxy("properties.total")),o(t)},n.prototype.cents=function(){var t=this.revenue();return"number"!=typeof t?this.value()||0:100*t},n.prototype.identify=function(){var t=this.json();return t.traits=this.traits(),new s(t)}},{"./utils":40,"./facade":31,"./identify":34,"is-email":53,"obj-case":42}],36:[function(t,e){function n(t){r.call(this,t)}var o=t("./utils").inherit,r=t("./facade"),i=t("./track");e.exports=n,o(n,r),n.prototype.type=n.prototype.action=function(){return"page"},n.prototype.category=r.field("category"),n.prototype.name=r.field("name"),n.prototype.title=r.proxy("properties.title"),n.prototype.path=r.proxy("properties.path"),n.prototype.url=r.proxy("properties.url"),n.prototype.referrer=function(){return this.proxy("properties.referrer")||this.proxy("context.referrer.url")},n.prototype.properties=function(){var t=this.field("properties")||{},e=this.category(),n=this.name();return e&&(t.category=e),n&&(t.name=n),t},n.prototype.fullName=function(){var t=this.category(),e=this.name();return e&&t?t+" "+e:e},n.prototype.event=function(t){return t?"Viewed "+t+" Page":"Loaded a Page"},n.prototype.track=function(t){var e=this.properties();return new i({event:this.event(t),timestamp:this.timestamp(),context:this.context(),properties:e})}},{"./utils":40,"./facade":31,"./track":35}],37:[function(t,e){function n(t){r.call(this,t)}var o=t("./utils").inherit,r=t("./page"),i=t("./track");e.exports=n,o(n,r),n.prototype.type=n.prototype.action=function(){return"screen"},n.prototype.event=function(t){return t?"Viewed "+t+" Screen":"Loaded a Screen"},n.prototype.track=function(t){var e=this.properties();return new i({event:this.event(t),timestamp:this.timestamp(),context:this.context(),properties:e})}},{"./utils":40,"./page":36,"./track":35}],10:[function(t,e){e.exports=function(t,e){return 0>=t?e():function(){return--t<1?e.apply(this,arguments):void 0}}},{}],11:[function(t,e,n){function o(t,e){e=[].slice.call(arguments,1);for(var n,o=0;n=e[o];o++)t[n]=r(t,t[n]);return t}try{var r=t("bind")}catch(i){t("bind-component")}var a=t("bind-all");e.exports=n=r,n.all=a,n.methods=o},{bind:55,"bind-all":56}],55:[function(t,e){var n=[].slice;e.exports=function(t,e){if("string"==typeof e&&(e=t[e]),"function"!=typeof e)throw new Error("bind() _requires a function");var o=n.call(arguments,2);return function(){return e.apply(t,o.concat(n.call(arguments)))}}},{}],56:[function(t,e){try{var n=t("bind"),o=t("type")}catch(r){t("bind-component"),t("type-component")}e.exports=function(t){for(var e in t){var r=t[e];"function"===o(r)&&(t[e]=n(t,t[e]))}return t}},{bind:55,type:47}],12:[function(t,e){function n(t){"function"==typeof t&&t()}var o=t("next-tick");e.exports=n,n.async=function(t,e){return"function"==typeof t?e?(setTimeout(t,e),void 0):o(t):void 0},n.sync=n},{"next-tick":57}],57:[function(t,e){"use strict";if("function"==typeof setImmediate)e.exports=function(t){setImmediate(t)};else if("undefined"!=typeof process&&"function"==typeof process.nextTick)e.exports=process.nextTick;else if("undefined"==typeof window||window.ActiveXObject||!window.postMessage)e.exports=function(t){setTimeout(t)};else{var n=[];window.addEventListener("message",function(){for(var t=0;t<n.length;)try{n[t++]()}catch(e){throw n=n.slice(t),window.postMessage("tic!","*"),e}n.length=0},!0),e.exports=function(t){n.length||window.postMessage("tic!","*"),n.push(t)}}},{}],13:[function(t,e){function n(t){switch(o(t)){case"object":var e={};for(var r in t)t.hasOwnProperty(r)&&(e[r]=n(t[r]));return e;case"array":for(var e=new Array(t.length),i=0,a=t.length;a>i;i++)e[i]=n(t[i]);return e;case"regexp":var s="";return s+=t.multiline?"m":"",s+=t.global?"g":"",s+=t.ignoreCase?"i":"",new RegExp(t.source,s);case"date":return new Date(t.getTime());default:return t}}var o;try{o=t("type")}catch(r){o=t("type-component")}e.exports=n},{type:47}],14:[function(t,e){function n(t){this.options(t)}var o=t("bind"),r=t("clone"),i=t("cookie"),a=t("debug")("analytics.js:cookie"),s=t("defaults"),c=t("json"),u=t("top-domain");n.prototype.options=function(t){if(0===arguments.length)return this._options;t=t||{};var e="."+u(window.location.href);"."===e&&(e=null),this._options=s(t,{maxage:31536e6,path:"/",domain:e}),this.set("ajs:test",!0),this.get("ajs:test")||(a("fallback to domain=null"),this._options.domain=null),this.remove("ajs:test")},n.prototype.set=function(t,e){try{return e=c.stringify(e),i(t,e,r(this._options)),!0}catch(n){return!1}},n.prototype.get=function(t){try{var e=i(t);return e=e?c.parse(e):null}catch(n){return null}},n.prototype.remove=function(t){try{return i(t,null,r(this._options)),!0}catch(e){return!1}},e.exports=o.all(new n),e.exports.Cookie=n},{bind:11,clone:13,cookie:58,debug:15,defaults:16,json:59,"top-domain":60}],58:[function(t,e){function n(t,e,n){n=n||{};var o=a(t)+"="+a(e);null==e&&(n.maxage=-1),n.maxage&&(n.expires=new Date(+new Date+n.maxage)),n.path&&(o+="; path="+n.path),n.domain&&(o+="; domain="+n.domain),n.expires&&(o+="; expires="+n.expires.toUTCString()),n.secure&&(o+="; secure"),document.cookie=o}function o(){return i(document.cookie)}function r(t){return o()[t]}function i(t){var e,n={},o=t.split(/ *; */);if(""==o[0])return n;for(var r=0;r<o.length;++r)e=o[r].split("="),n[s(e[0])]=s(e[1]);return n}function a(t){try{return encodeURIComponent(t)}catch(e){c("error `encode(%o)` - %o",t,e)}}function s(t){try{return decodeURIComponent(t)}catch(e){c("error `decode(%o)` - %o",t,e)}}var c=t("debug")("cookie");e.exports=function(t,e,i){switch(arguments.length){case 3:case 2:return n(t,e,i);case 1:return r(t);default:return o()}}},{debug:15}],15:[function(t,e){e.exports="undefined"==typeof window?t("./lib/debug"):t("./debug")},{"./lib/debug":61,"./debug":62}],61:[function(t,e){function n(){return u[p++%u.length]}function o(t){var e=1e3,n=6e4,o=60*n;return t>=o?(t/o).toFixed(1)+"h":t>=n?(t/n).toFixed(1)+"m":t>=e?(t/e|0)+"s":t+"ms"}function r(t){function e(){}function r(e){e=i(e);var n=new Date,r=n-(l[t]||n);l[t]=n,e="  [9"+p+"m"+t+" [3"+p+"m[90m"+e+"[3"+p+"m +"+o(r)+"[0m",console.error.apply(this,arguments)}function a(e){e=i(e),e=(new Date).toUTCString()+" "+t+" "+e,console.error.apply(this,arguments)}e.enabled=!1;var u=c.some(function(e){return e.test(t)});if(u)return e;if(u=s.some(function(e){return e.test(t)}),!u)return e;var p=n();return r.enabled=a.enabled=!0,d||process.env.DEBUG_COLORS?r:a}function i(t){return t instanceof Error?t.stack||t.message:t}var a=t("tty");e.exports=r;var s=[],c=[];(process.env.DEBUG||"").split(/[\s,]+/).forEach(function(t){t=t.replace("*",".*?"),"-"===t[0]?c.push(new RegExp("^"+t.substr(1)+"$")):s.push(new RegExp("^"+t+"$"))});var u=[6,2,3,4,5,1],l={},p=0,d=a.isatty(2)},{}],62:[function(t,e){function n(t){return n.enabled(t)?function(e){e=o(e);var r=new Date,i=r-(n[t]||r);n[t]=r,e=t+" "+e+" +"+n.humanize(i),window.console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}:function(){}}function o(t){return t instanceof Error?t.stack||t.message:t}e.exports=n,n.names=[],n.skips=[],n.enable=function(t){try{localStorage.debug=t}catch(e){}for(var o=(t||"").split(/[\s,]+/),r=o.length,i=0;r>i;i++)t=o[i].replace("*",".*?"),"-"===t[0]?n.skips.push(new RegExp("^"+t.substr(1)+"$")):n.names.push(new RegExp("^"+t+"$"))},n.disable=function(){n.enable("")},n.humanize=function(t){var e=1e3,n=6e4,o=60*n;return t>=o?(t/o).toFixed(1)+"h":t>=n?(t/n).toFixed(1)+"m":t>=e?(t/e|0)+"s":t+"ms"},n.enabled=function(t){for(var e=0,o=n.skips.length;o>e;e++)if(n.skips[e].test(t))return!1;for(var e=0,o=n.names.length;o>e;e++)if(n.names[e].test(t))return!0;return!1};try{window.localStorage&&n.enable(localStorage.debug)}catch(r){}},{}],16:[function(t,e){"use strict";var n=function(t,e,o){for(var r in e)o&&t[r]instanceof Object&&e[r]instanceof Object?t[r]=n(t[r],e[r],!0):r in t||(t[r]=e[r]);return t};e.exports=n},{}],59:[function(t,e){var n=window.JSON||{},o=n.stringify,r=n.parse;e.exports=r&&o?JSON:t("json-fallback")},{"json-fallback":63}],63:[function(_require,module,exports){!function(){"use strict";function f(t){return 10>t?"0"+t:t}function quote(t){return escapable.lastIndex=0,escapable.test(t)?'"'+t.replace(escapable,function(t){var e=meta[t];return"string"==typeof e?e:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+t+'"'}function str(t,e){var n,o,r,i,a,s=gap,c=e[t];switch(c&&"object"==typeof c&&"function"==typeof c.toJSON&&(c=c.toJSON(t)),"function"==typeof rep&&(c=rep.call(e,t,c)),typeof c){case"string":return quote(c);case"number":return isFinite(c)?String(c):"null";case"boolean":case"null":return String(c);case"object":if(!c)return"null";if(gap+=indent,a=[],"[object Array]"===Object.prototype.toString.apply(c)){for(i=c.length,n=0;i>n;n+=1)a[n]=str(n,c)||"null";return r=0===a.length?"[]":gap?"[\n"+gap+a.join(",\n"+gap)+"\n"+s+"]":"["+a.join(",")+"]",gap=s,r}if(rep&&"object"==typeof rep)for(i=rep.length,n=0;i>n;n+=1)"string"==typeof rep[n]&&(o=rep[n],r=str(o,c),r&&a.push(quote(o)+(gap?": ":":")+r));else for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(r=str(o,c),r&&a.push(quote(o)+(gap?": ":":")+r));return r=0===a.length?"{}":gap?"{\n"+gap+a.join(",\n"+gap)+"\n"+s+"}":"{"+a.join(",")+"}",gap=s,r}}var JSON=module.exports={};"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var cx,escapable,gap,indent,meta,rep;"function"!=typeof JSON.stringify&&(escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},JSON.stringify=function(t,e,n){var o;if(gap="",indent="","number"==typeof n)for(o=0;n>o;o+=1)indent+=" ";else"string"==typeof n&&(indent=n);if(rep=e,e&&"function"!=typeof e&&("object"!=typeof e||"number"!=typeof e.length))throw new Error("JSON.stringify");return str("",{"":t})}),"function"!=typeof JSON.parse&&(cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,JSON.parse=function(text,reviver){function walk(t,e){var n,o,r=t[e];if(r&&"object"==typeof r)for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o=walk(r,n),void 0!==o?r[n]=o:delete r[n]);return reviver.call(t,e,r)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}()},{}],60:[function(t,e,n){function o(t){for(var e=n.cookie,o=n.levels(t),r=0;r<o.length;++r){var i="__tld__",a=o[r],s={domain:"."+a};if(e(i,1,s),e(i))return e(i,null,s),a}return""}var r=t("url").parse,i=t("cookie");n=e.exports=o,n.cookie=i,o.levels=function(t){var e=r(t).hostname,n=e.split("."),o=n[n.length-1],i=[];if(4==n.length&&parseInt(o,10)==o)return i;if(1>=n.length)return i;for(var a=n.length-2;a>=0;--a)i.push(n.slice(a).join("."));return i}},{url:64,cookie:65}],64:[function(t,e,n){function o(t){switch(t){case"http:":return 80;case"https:":return 443;default:return location.port}}n.parse=function(t){var e=document.createElement("a");return e.href=t,{href:e.href,host:e.host||location.host,port:"0"===e.port||""===e.port?o(e.protocol):e.port,hash:e.hash,hostname:e.hostname||location.hostname,pathname:"/"!=e.pathname.charAt(0)?"/"+e.pathname:e.pathname,protocol:e.protocol&&":"!=e.protocol?e.protocol:location.protocol,search:e.search,query:e.search.slice(1)}},n.isAbsolute=function(t){return 0==t.indexOf("//")||!!~t.indexOf("://")},n.isRelative=function(t){return!n.isAbsolute(t)},n.isCrossDomain=function(t){t=n.parse(t);var e=n.parse(window.location.href);return t.hostname!==e.hostname||t.port!==e.port||t.protocol!==e.protocol}},{}],65:[function(t,e){function n(t,e,n){n=n||{};var o=a(t)+"="+a(e);null==e&&(n.maxage=-1),n.maxage&&(n.expires=new Date(+new Date+n.maxage)),n.path&&(o+="; path="+n.path),n.domain&&(o+="; domain="+n.domain),n.expires&&(o+="; expires="+n.expires.toUTCString()),n.secure&&(o+="; secure"),document.cookie=o}function o(){var t;try{t=document.cookie}catch(e){return"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e.stack||e),{}}return i(t)}function r(t){return o()[t]}function i(t){var e,n={},o=t.split(/ *; */);if(""==o[0])return n;for(var r=0;r<o.length;++r)e=o[r].split("="),n[s(e[0])]=s(e[1]);return n}function a(t){try{return encodeURIComponent(t)}catch(e){c("error `encode(%o)` - %o",t,e)}}function s(t){try{return decodeURIComponent(t)}catch(e){c("error `decode(%o)` - %o",t,e)}}var c=t("debug")("cookie");e.exports=function(t,e,i){switch(arguments.length){case 3:case 2:return n(t,e,i);case 1:return r(t);default:return o()}}},{debug:15}],17:[function(t,e){function n(t){this.defaults=n.defaults,this.debug=i,o.call(this,t)}var o=t("./entity"),r=t("bind"),i=t("debug")("analytics:group"),a=t("inherit");n.defaults={persist:!0,cookie:{key:"ajs_group_id"},localStorage:{key:"ajs_group_properties"}},a(n,o),e.exports=r.all(new n),e.exports.Group=n},{"./entity":66,bind:11,debug:15,inherit:67}],66:[function(t,e){function n(t){this.options(t),this.initialize()}var o=t("clone"),r=t("./cookie"),i=t("debug")("analytics:entity"),a=t("defaults"),s=t("extend"),c=t("./memory"),u=t("./store"),l=t("isodate-traverse");e.exports=n,n.prototype.initialize=function(){return r.set("ajs:cookies",!0),r.get("ajs:cookies")?(r.remove("ajs:cookies"),this._storage=r,void 0):u.enabled?(this._storage=u,void 0):(i("warning using memory store both cookies and localStorage are disabled"),this._storage=c,void 0)},n.prototype.storage=function(){return this._storage},n.prototype.options=function(t){return 0===arguments.length?this._options:(this._options=a(t||{},this.defaults||{}),void 0)},n.prototype.id=function(t){switch(arguments.length){case 0:return this._getId();case 1:return this._setId(t)}},n.prototype._getId=function(){var t=this._options.persist?this.storage().get(this._options.cookie.key):this._id;return void 0===t?null:t},n.prototype._setId=function(t){this._options.persist?this.storage().set(this._options.cookie.key,t):this._id=t},n.prototype.properties=n.prototype.traits=function(t){switch(arguments.length){case 0:return this._getTraits();case 1:return this._setTraits(t)}},n.prototype._getTraits=function(){var t=this._options.persist?u.get(this._options.localStorage.key):this._traits;return t?l(o(t)):{}},n.prototype._setTraits=function(t){t=t||{},this._options.persist?u.set(this._options.localStorage.key,t):this._traits=t},n.prototype.identify=function(t,e){e=e||{};var n=this.id();(null===n||n===t)&&(e=s(this.traits(),e)),t&&this.id(t),this.debug("identify %o, %o",t,e),this.traits(e),this.save()},n.prototype.save=function(){return this._options.persist?(r.set(this._options.cookie.key,this.id()),u.set(this._options.localStorage.key,this.traits()),!0):!1},n.prototype.logout=function(){this.id(null),this.traits({}),r.remove(this._options.cookie.key),u.remove(this._options.localStorage.key)},n.prototype.reset=function(){this.logout(),this.options({})},n.prototype.load=function(){this.id(r.get(this._options.cookie.key)),this.traits(u.get(this._options.localStorage.key))}},{clone:13,"./cookie":14,debug:15,defaults:16,extend:68,"./memory":21,"./store":28,"isodate-traverse":38}],68:[function(t,e){e.exports=function(t){for(var e,n=Array.prototype.slice.call(arguments,1),o=0;e=n[o];o++)if(e)for(var r in e)t[r]=e[r];return t}},{}],21:[function(t,e){function n(){this.store={}}var o=t("bind"),r=t("clone"),i=Object.prototype.hasOwnProperty;e.exports=o.all(new n),n.prototype.set=function(t,e){return this.store[t]=r(e),!0},n.prototype.get=function(t){return i.call(this.store,t)?r(this.store[t]):void 0},n.prototype.remove=function(t){return delete this.store[t],!0}},{bind:11,clone:13}],28:[function(t,e){function n(t){this.options(t)}var o=t("bind"),r=t("defaults"),i=t("store.js");n.prototype.options=function(t){return 0===arguments.length?this._options:(t=t||{},r(t,{enabled:!0}),this.enabled=t.enabled&&i.enabled,this._options=t,void 0)},n.prototype.set=function(t,e){return this.enabled?i.set(t,e):!1},n.prototype.get=function(t){return this.enabled?i.get(t):null},n.prototype.remove=function(t){return this.enabled?i.remove(t):!1},e.exports=o.all(new n),e.exports.Store=n},{bind:11,defaults:16,"store.js":69}],69:[function(t,e){function n(){try{return l in c&&c[l]}catch(t){return!1}}function o(t){return function(){var e=Array.prototype.slice.call(arguments,0);e.unshift(i),d.appendChild(i),i.addBehavior("#default#userData"),i.load(l);var n=t.apply(s,e);return d.removeChild(i),n}}function r(t){return t.replace(m,"___")}var i,a=t("json"),s={},c=window,u=c.document,l="localStorage",p="__storejs__";if(s.disabled=!1,s.set=function(){},s.get=function(){},s.remove=function(){},s.clear=function(){},s.transact=function(t,e,n){var o=s.get(t);null==n&&(n=e,e=null),"undefined"==typeof o&&(o=e||{}),n(o),s.set(t,o)},s.getAll=function(){},s.serialize=function(t){return a.stringify(t)},s.deserialize=function(t){if("string"!=typeof t)return void 0;try{return a.parse(t)}catch(e){return t||void 0}},n())i=c[l],s.set=function(t,e){return void 0===e?s.remove(t):(i.setItem(t,s.serialize(e)),e)},s.get=function(t){return s.deserialize(i.getItem(t))},s.remove=function(t){i.removeItem(t)},s.clear=function(){i.clear()},s.getAll=function(){for(var t={},e=0;e<i.length;++e){var n=i.key(e);t[n]=s.get(n)}return t};else if(u.documentElement.addBehavior){var d,f;try{f=new ActiveXObject("htmlfile"),f.open(),f.write('<script>document.w=window</script><iframe src="/favicon.ico"></iframe>'),f.close(),d=f.w.frames[0].document,i=d.createElement("div")}catch(h){i=u.createElement("div"),d=u.body}var m=new RegExp("[!\"#$%&'()*+,/\\\\:;<=>?@[\\]^`{|}~]","g");s.set=o(function(t,e,n){return e=r(e),void 0===n?s.remove(e):(t.setAttribute(e,s.serialize(n)),t.save(l),n)}),s.get=o(function(t,e){return e=r(e),s.deserialize(t.getAttribute(e))}),s.remove=o(function(t,e){e=r(e),t.removeAttribute(e),t.save(l)}),s.clear=o(function(t){var e=t.XMLDocument.documentElement.attributes;t.load(l);for(var n,o=0;n=e[o];o++)t.removeAttribute(n.name);t.save(l)}),s.getAll=o(function(t){for(var e,n=t.XMLDocument.documentElement.attributes,o={},i=0;e=n[i];++i){var a=r(e.name);o[e.name]=s.deserialize(t.getAttribute(a))}return o})}try{s.set(p,p),s.get(p)!=p&&(s.disabled=!0),s.remove(p)}catch(h){s.disabled=!0}s.enabled=!s.disabled,e.exports=s},{json:59}],67:[function(t,e){e.exports=function(t,e){var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},{}],18:[function(t,e,n){function o(t){return function(e){return t===i(e)}}var r=t("is-empty");try{var i=t("type")}catch(a){t("component-type")}for(var s,c=["arguments","array","boolean","date","element","function","null","number","object","regexp","string","undefined"],u=0;s=c[u];u++)n[s]=o(s);n.fn=n["function"],n.empty=r,n.nan=function(t){return n.number(t)&&t!=t}},{"is-empty":46,type:47,"component-type":47}],19:[function(t,e){e.exports=function(t){if(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)return!0;var e=t.which,n=t.button;return e||void 0===n?2===e?!0:!1:1&!n&&2&!n&&4&n}},{}],20:[function(t,e,n){var o=Object.prototype.hasOwnProperty;n.keys=Object.keys||function(t){var e=[];for(var n in t)o.call(t,n)&&e.push(n);return e},n.values=function(t){var e=[];for(var n in t)o.call(t,n)&&e.push(t[n]);return e},n.merge=function(t,e){for(var n in e)o.call(e,n)&&(t[n]=e[n]);return t},n.length=function(t){return n.keys(t).length},n.isEmpty=function(t){return 0==n.length(t)}},{}],22:[function(t,e){function n(t,e){function n(t){return!(!a(t,e)&&"all"!==t.toLowerCase()&&!a(t.toLowerCase(),p))}var p=c(e,function(t){return t.toLowerCase()}),d=t.options||{},f=d.integrations||{},h=d.providers||{},m=d.context||{},g={};return o("<-",t),i(d,function(t,e){n(t)&&(u.call(f,t)||(f[t]=e),delete d[t])}),delete d.providers,i(h,function(t,e){n(t)&&(s.object(f[t])||u.call(f,t)&&"boolean"==typeof h[t]||(f[t]=e))}),i(d,function(t){a(t,l)?g[t]=d[t]:m[t]=d[t]}),delete t.options,g.integrations=f,g.context=m,g=r(g,t),o("->",g),g}var o=t("debug")("analytics.js:normalize"),r=t("defaults"),i=t("each"),a=t("includes"),s=t("is"),c=t("component/map"),u=Object.prototype.hasOwnProperty;e.exports=n;var l=["integrations","anonymousId","timestamp","context"]},{debug:15,defaults:16,each:4,includes:70,is:18,"component/map":71}],70:[function(t,e){"use strict";var n;try{n=t("@ndhoule/each")}catch(o){n=t("each")}var r=String.prototype.indexOf,i=function(t,e){return t===e?0!==t||1/t===1/e:t!==t&&e!==e},a=function(t,e){var o=!1;return"string"==typeof e?-1!==r.call(e,t):(n(function(e){return i(e,t)?(o=!0,!1):void 0},e),o)};e.exports=a},{each:72}],72:[function(t,e){"use strict";var n;try{n=t("@ndhoule/keys")}catch(o){n=t("keys")}var r=Object.prototype.toString,i=function(t){var e=typeof t;return"number"===e||"object"===e&&"[object Number]"===r.call(t)},a="function"==typeof Array.isArray?Array.isArray:function(t){return"[object Array]"===r.call(t)},s=function(t){return null!=t&&(a(t)||"function"!==t&&i(t.length))},c=function(t,e){for(var n=0;n<e.length&&t(e[n],n,e)!==!1;n+=1);},u=function(t,e){for(var o=n(e),r=0;r<o.length&&t(e[o[r]],o[r],e)!==!1;r+=1);},l=function(t,e){return(s(e)?c:u).call(this,t,e)};e.exports=l},{keys:73}],73:[function(t,e){"use strict";var n=String.prototype.charAt,o=function(t,e){return n.call(t,e)},r=Object.prototype.hasOwnProperty,i=Object.prototype.toString,a=function(t,e){return r.call(t,e)},s=function(t){return"[object String]"===i.call(t)},c=function(t){return null!=t&&"function"!=typeof t&&"number"==typeof t.length},u=function(t,e){e=e||a;for(var n=[],o=0,r=t.length;r>o;o+=1)e(t,o)&&n.push(String(o));return n},l=function(t,e){e=e||a;var n=[];for(var o in t)e(t,o)&&n.push(String(o));return n};e.exports=function(t){return null==t?[]:s(t)?u(t,o):c(t)?u(t,a):l(t)}},{}],71:[function(t,e){var n=t("to-function");e.exports=function(t,e){var o=[];e=n(e);for(var r=0;r<t.length;++r)o.push(e(t[r],r));return o}},{"to-function":74}],74:[function(t,e){function n(t){switch({}.toString.call(t)){case"[object Object]":return a(t);case"[object Function]":return t;case"[object String]":return i(t);case"[object RegExp]":return r(t);default:return o(t)}}function o(t){return function(e){return t===e}}function r(t){return function(e){return t.test(e)}}function i(t){return/^ *\W+/.test(t)?new Function("_","return _ "+t):new Function("_","return "+s(t))}function a(t){var e={};for(var r in t)e[r]="string"==typeof t[r]?o(t[r]):n(t[r]);return function(t){if("object"!=typeof t)return!1;for(var n in e){if(!(n in t))return!1;if(!e[n](t[n]))return!1}return!0}}function s(t){var e=u(t);if(!e.length)return"_."+t;var n,o,r;for(o=0;o<e.length;o++)r=e[o],n="_."+r,n="('function' == typeof "+n+" ? "+n+"() : "+n+")",t=c(r,t,n);return t}function c(t,e,n){return e.replace(new RegExp("(\\.)?"+t,"g"),function(t,e){return e?t:n})}var u;try{u=t("props")}catch(l){u=t("component-props")}e.exports=n},{props:75,"component-props":75}],75:[function(t,e){function n(t){return t.replace(/\.\w+|\w+ *\(|"[^"]*"|'[^']*'|\/([^/]+)\//g,"").replace(a,"").match(/[$a-zA-Z_]\w*/g)||[]}function o(t,e,n){var o=/\.\w+|\w+ *\(|"[^"]*"|'[^']*'|\/([^/]+)\/|[a-zA-Z_]\w*/g;return t.replace(o,function(t){return"("==t[t.length-1]?n(t):~e.indexOf(t)?n(t):t})}function r(t){for(var e=[],n=0;n<t.length;n++)~e.indexOf(t[n])||e.push(t[n]);return e}function i(t){return function(e){return t+e}}var a=/\b(this|Array|Date|Object|Math|JSON)\b/g;e.exports=function(t,e){var a=r(n(t));return e&&"string"==typeof e&&(e=i(e)),e?o(t,a,e):a}},{}],23:[function(t,e,n){n.bind=function(t,e,n,o){return t.addEventListener?t.addEventListener(e,n,o||!1):t.attachEvent("on"+e,n),n},n.unbind=function(t,e,n,o){return t.removeEventListener?t.removeEventListener(e,n,o||!1):t.detachEvent("on"+e,n),n}},{}],24:[function(t,e){function n(){return{path:o(),referrer:document.referrer,search:location.search,title:document.title,url:r(location.search)}}function o(){var t=i();if(!t)return window.location.pathname;var e=s.parse(t);return e.pathname}function r(t){var e=i();if(e)return a("?",e)?e:e+t;var n=window.location.href,o=n.indexOf("#");return-1===o?n:n.slice(0,o)}var i=t("canonical"),a=t("includes"),s=t("url");e.exports=n},{canonical:76,includes:70,url:77}],76:[function(t,e){e.exports=function(){for(var t,e=document.getElementsByTagName("link"),n=0;t=e[n];n++)if("canonical"==t.getAttribute("rel"))return t.getAttribute("href")}},{}],77:[function(t,e,n){function o(t){switch(t){case"http:":return 80;case"https:":return 443;default:return location.port}}n.parse=function(t){var e=document.createElement("a");return e.href=t,{href:e.href,host:e.host||location.host,port:"0"===e.port||""===e.port?o(e.protocol):e.port,hash:e.hash,hostname:e.hostname||location.hostname,pathname:"/"!=e.pathname.charAt(0)?"/"+e.pathname:e.pathname,protocol:e.protocol&&":"!=e.protocol?e.protocol:location.protocol,search:e.search,query:e.search.slice(1)}},n.isAbsolute=function(t){return 0==t.indexOf("//")||!!~t.indexOf("://")},n.isRelative=function(t){return!n.isAbsolute(t)},n.isCrossDomain=function(t){t=n.parse(t);var e=n.parse(window.location.href);return t.hostname!==e.hostname||t.port!==e.port||t.protocol!==e.protocol}},{}],25:[function(t,e){"use strict";var n=Object.prototype.toString,o=function(t){return null!=t},r=function(t){return"[object Array]"===n.call(t)},i=function(t){return"string"==typeof t||"[object String]"===n.call(t)},a=function(t){return null!=t&&"object"==typeof t},s=function(t,e){if(!o(e)||!a(e))return{};i(t)&&(t=[t]),r(t)||(t=[]);for(var n={},s=0;s<t.length;s+=1)i(t[s])&&t[s]in e&&(n[t[s]]=e[t[s]]);return n};e.exports=s},{}],26:[function(t,e){e.exports=function(t){return t=t||window.event,t.preventDefault?t.preventDefault():t.returnValue=!1}},{}],27:[function(t,e,n){var o=t("trim"),r=t("type"),i=/(\w+)\[(\d+)\]/,a=function(t){try{return encodeURIComponent(t)}catch(e){return t}},s=function(t){try{return decodeURIComponent(t.replace(/\+/g," "))}catch(e){return t}};n.parse=function(t){if("string"!=typeof t)return{};if(t=o(t),""==t)return{};"?"==t.charAt(0)&&(t=t.slice(1));for(var e={},n=t.split("&"),r=0;r<n.length;r++){var a,c=n[r].split("="),u=s(c[0]);(a=i.exec(u))?(e[a[1]]=e[a[1]]||[],e[a[1]][a[2]]=s(c[1])):e[c[0]]=null==c[1]?"":s(c[1])}return e},n.stringify=function(t){if(!t)return"";var e=[];for(var n in t){var o=t[n];if("array"!=r(o))e.push(a(n)+"="+a(t[n]));else for(var i=0;i<o.length;++i)e.push(a(n+"["+i+"]")+"="+a(o[i]))}return e.join("&")}},{trim:54,type:47}],29:[function(t,e){function n(t){this.defaults=n.defaults,this.debug=a,o.call(this,t)}var o=t("./entity"),r=t("bind"),i=t("./cookie"),a=t("debug")("analytics:user"),s=t("inherit"),c=t("cookie"),u=t("uuid");n.defaults={persist:!0,cookie:{key:"ajs_user_id",oldKey:"ajs_user"},localStorage:{key:"ajs_user_traits"}},s(n,o),n.prototype.id=function(t){var e=this._getId(),n=o.prototype.id.apply(this,arguments);return null==e?n:(e!=t&&t&&this.anonymousId(null),n)},n.prototype.anonymousId=function(t){var e=this.storage();return arguments.length?(e.set("ajs_anonymous_id",t),this):(t=e.get("ajs_anonymous_id"))?t:(t=c("_sio"))?(t=t.split("----")[0],e.set("ajs_anonymous_id",t),e.remove("_sio"),t):(t=u(),e.set("ajs_anonymous_id",t),e.get("ajs_anonymous_id"))},n.prototype.logout=function(){o.prototype.logout.call(this),this.anonymousId(null)},n.prototype.load=function(){this._loadOldCookie()||o.prototype.load.call(this)},n.prototype._loadOldCookie=function(){var t=i.get(this._options.cookie.oldKey);return t?(this.id(t.id),this.traits(t.traits),i.remove(this._options.cookie.oldKey),!0):!1
},e.exports=r.all(new n),e.exports.User=n},{"./entity":66,bind:11,"./cookie":14,debug:15,inherit:67,cookie:58,uuid:78}],78:[function(t,e){e.exports=function n(t){return t?(t^16*Math.random()>>t/4).toString(16):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,n)}},{}],7:[function(t,e){e.exports={name:"analytics-core",version:"2.10.0",main:"analytics.js",dependencies:{},devDependencies:{}}},{}],3:[function(t,e){"use strict";e.exports={amplitude:t("analytics.js-integration-amplitude"),segmentio:t("analytics.js-integration-segmentio")}},{"analytics.js-integration-amplitude":82,"analytics.js-integration-segmentio":149}],166:[function(t,e){function n(t){function e(n){return n&&n.addIntegration?n.addIntegration(e):(this.debug=i("analytics:integration:"+c(t)),this.options=a(r(n)||{},this.defaults),this._queue=[],this.once("ready",o(this,this.flush)),e.emit("construct",this),this.ready=o(this,this.ready),this._wrapInitialize(),this._wrapPage(),this._wrapTrack(),void 0)}return e.prototype.defaults={},e.prototype.globals=[],e.prototype.templates={},e.prototype.name=t,s(e,l),s(e.prototype,u),e}var o=t("bind"),r=t("clone"),i=t("debug"),a=t("defaults"),s=t("extend"),c=t("slug"),u=t("./protos"),l=t("./statics");e.exports=n},{bind:169,clone:13,debug:170,defaults:16,extend:171,slug:172,"./protos":173,"./statics":174}],169:[function(t,e,n){function o(t,e){e=[].slice.call(arguments,1);for(var n,o=0;n=e[o];o++)t[n]=r(t,t[n]);return t}var r=t("bind"),i=t("bind-all");e.exports=n=r,n.all=i,n.methods=o},{bind:55,"bind-all":56}],170:[function(t,e){e.exports="undefined"==typeof window?t("./lib/debug"):t("./debug")},{"./lib/debug":175,"./debug":176}],175:[function(t,e){function n(){return u[p++%u.length]}function o(t){var e=1e3,n=6e4,o=60*n;return t>=o?(t/o).toFixed(1)+"h":t>=n?(t/n).toFixed(1)+"m":t>=e?(t/e|0)+"s":t+"ms"}function r(t){function e(){}function r(e){e=i(e);var n=new Date,r=n-(l[t]||n);l[t]=n,e="  [9"+p+"m"+t+" [3"+p+"m[90m"+e+"[3"+p+"m +"+o(r)+"[0m",console.error.apply(this,arguments)}function a(e){e=i(e),e=(new Date).toUTCString()+" "+t+" "+e,console.error.apply(this,arguments)}e.enabled=!1;var u=c.some(function(e){return e.test(t)});if(u)return e;if(u=s.some(function(e){return e.test(t)}),!u)return e;var p=n();return r.enabled=a.enabled=!0,d||process.env.DEBUG_COLORS?r:a}function i(t){return t instanceof Error?t.stack||t.message:t}var a=t("tty");e.exports=r;var s=[],c=[];(process.env.DEBUG||"").split(/[\s,]+/).forEach(function(t){t=t.replace("*",".*?"),"-"===t[0]?c.push(new RegExp("^"+t.substr(1)+"$")):s.push(new RegExp("^"+t+"$"))});var u=[6,2,3,4,5,1],l={},p=0,d=a.isatty(2)},{}],176:[function(t,e){function n(t){return n.enabled(t)?function(e){e=o(e);var r=new Date,i=r-(n[t]||r);n[t]=r,e=t+" "+e+" +"+n.humanize(i),window.console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}:function(){}}function o(t){return t instanceof Error?t.stack||t.message:t}e.exports=n,n.names=[],n.skips=[],n.enable=function(t){try{localStorage.debug=t}catch(e){}for(var o=(t||"").split(/[\s,]+/),r=o.length,i=0;r>i;i++)t=o[i].replace("*",".*?"),"-"===t[0]?n.skips.push(new RegExp("^"+t.substr(1)+"$")):n.names.push(new RegExp("^"+t+"$"))},n.disable=function(){n.enable("")},n.humanize=function(t){var e=1e3,n=6e4,o=60*n;return t>=o?(t/o).toFixed(1)+"h":t>=n?(t/n).toFixed(1)+"m":t>=e?(t/e|0)+"s":t+"ms"},n.enabled=function(t){for(var e=0,o=n.skips.length;o>e;e++)if(n.skips[e].test(t))return!1;for(var e=0,o=n.names.length;o>e;e++)if(n.names[e].test(t))return!0;return!1};try{window.localStorage&&n.enable(localStorage.debug)}catch(r){}},{}],171:[function(t,e){e.exports=function(t){for(var e,n=Array.prototype.slice.call(arguments,1),o=0;e=n[o];o++)if(e)for(var r in e)t[r]=e[r];return t}},{}],172:[function(t,e){e.exports=function(t,e){return e||(e={}),t.toLowerCase().replace(e.replace||/[^a-z0-9]/g," ").replace(/^ +| +$/g,"").replace(/ +/g,e.separator||"-")}},{}],173:[function(t,e,n){function o(){}function r(t,e){e=e||function(){};var n=new Image;return n.onerror=i(e,"failed to load pixel",n),n.onload=function(){e()},n.src=t.src,n.width=1,n.height=1,n}function i(t,e,n){return function(o){o=o||window.event;var r=new Error(e);r.event=o,r.source=n,t(r)}}function a(t,e){return d(function(t,n,o){return t[o]=n.replace(/\{\{\ *(\w+)\ *\}\}/g,function(t,n){return e[n]}),t},{},t.attrs)}var s=t("emitter"),c=t("after"),u=t("each"),l=t("analytics-events"),p=t("fmt"),d=t("foldl"),f=t("load-iframe"),h=t("load-script"),m=t("to-no-case"),g=t("next-tick"),v=t("type"),y=Object.prototype.hasOwnProperty,b=window.onerror,w=null,x=window.setInterval,_=window.setTimeout;s(n),n.initialize=function(){var t=this.ready;g(t)},n.loaded=function(){return!1},n.page=function(){},n.track=function(){},n.map=function(t,e){var n=m(e);return d(function(t,e,o,r){if("array"===v(r)){if(!e.key)return t;o=e.key,e=e.value}return m(o)===n&&t.push(e),t},[],t)},n.invoke=function(t){if(this[t]){var e=Array.prototype.slice.call(arguments,1);if(!this._ready)return this.queue(t,e);var n;try{this.debug("%s with %o",t,e),n=this[t].apply(this,e)}catch(o){this.debug("error %o calling %s with %o",o,t,e)}return n}},n.queue=function(t,e){return"page"===t&&this._assumesPageview&&!this._initialized?this.page.apply(this,e):(this._queue.push({method:t,args:e}),void 0)},n.flush=function(){this._ready=!0;var t=this;u(this._queue,function(e){t[e.method].apply(t,e.args)}),this._queue.length=0},n.reset=function(){for(var t=0;t<this.globals.length;t++)window[this.globals[t]]=void 0;window.setTimeout=_,window.setInterval=x,window.onerror=b,window.onload=w},n.load=function(t,e,n){"function"==typeof t&&(n=t,e=null,t=null),t&&"object"==typeof t&&(n=e,e=t,t=null),"function"==typeof e&&(n=e,e=null),t=t||"library",e=e||{},e=this.locals(e);var i=this.templates[t];if(!i)throw new Error(p('template "%s" not defined.',t));var s=a(i,e);n=n||o;var c,l=this;switch(i.type){case"img":s.width=1,s.height=1,c=r(s,n);break;case"script":c=h(s,function(t){return t?(l.debug('error loading "%s" error="%s"',l.name,t),void 0):n()}),delete s.src,u(s,function(t,e){c.setAttribute(t,e)});break;case"iframe":c=f(s,n)}return c},n.locals=function(t){t=t||{};var e=Math.floor((new Date).getTime()/36e5);return t.hasOwnProperty("cache")||(t.cache=e),u(this.options,function(e,n){t.hasOwnProperty(e)||(t[e]=n)}),t},n.ready=function(){this.emit("ready")},n._wrapInitialize=function(){var t=this.initialize;this.initialize=function(){this.debug("initialize"),this._initialized=!0;var e=t.apply(this,arguments);return this.emit("initialize"),e},this._assumesPageview&&(this.initialize=c(2,this.initialize))},n._wrapPage=function(){var t=this.page;this.page=function(){return this._assumesPageview&&!this._initialized?this.initialize.apply(this,arguments):t.apply(this,arguments)}},n._wrapTrack=function(){var t=this.track;this.track=function(e){var n,o,r=e.event();for(var i in l)if(y.call(l,i)){var a=l[i];if(!this[i])continue;if(!a.test(r))continue;o=this[i].apply(this,arguments),n=!0;break}return n||(o=t.apply(this,arguments)),o}}},{emitter:8,after:10,each:177,"analytics-events":178,fmt:179,foldl:180,"load-iframe":181,"load-script":182,"to-no-case":183,"next-tick":57,type:184}],177:[function(t,e){function n(t,e,n){for(var o=0;o<t.length;++o)e.call(n,t.charAt(o),o)}function o(t,e,n){for(var o in t)c.call(t,o)&&e.call(n,o,t[o])}function r(t,e,n){for(var o=0;o<t.length;++o)e.call(n,t[o],o)}try{var i=t("type")}catch(a){t("component-type")}var s=t("to-function"),c=Object.prototype.hasOwnProperty;e.exports=function(t,e,a){switch(e=s(e),a=a||this,i(t)){case"array":return r(t,e,a);case"object":return"number"==typeof t.length?r(t,e,a):o(t,e,a);case"string":return n(t,e,a)}}},{type:184,"component-type":184,"to-function":74}],184:[function(t,e){var n=Object.prototype.toString;e.exports=function(t){switch(n.call(t)){case"[object Function]":return"function";case"[object Date]":return"date";case"[object RegExp]":return"regexp";case"[object Arguments]":return"arguments";case"[object Array]":return"array";case"[object String]":return"string"}return null===t?"null":void 0===t?"undefined":t&&1===t.nodeType?"element":t===Object(t)?"object":typeof t}},{}],178:[function(t,e){e.exports={removedProduct:/^[ _]?removed[ _]?product[ _]?$/i,viewedProduct:/^[ _]?viewed[ _]?product[ _]?$/i,viewedProductCategory:/^[ _]?viewed[ _]?product[ _]?category[ _]?$/i,addedProduct:/^[ _]?added[ _]?product[ _]?$/i,completedOrder:/^[ _]?completed[ _]?order[ _]?$/i,startedOrder:/^[ _]?started[ _]?order[ _]?$/i,updatedOrder:/^[ _]?updated[ _]?order[ _]?$/i,refundedOrder:/^[ _]?refunded?[ _]?order[ _]?$/i,viewedProductDetails:/^[ _]?viewed[ _]?product[ _]?details?[ _]?$/i,clickedProduct:/^[ _]?clicked[ _]?product[ _]?$/i,viewedPromotion:/^[ _]?viewed[ _]?promotion?[ _]?$/i,clickedPromotion:/^[ _]?clicked[ _]?promotion?[ _]?$/i,viewedCheckoutStep:/^[ _]?viewed[ _]?checkout[ _]?step[ _]?$/i,completedCheckoutStep:/^[ _]?completed[ _]?checkout[ _]?step[ _]?$/i}},{}],179:[function(t,e){function n(t){var e=[].slice.call(arguments,1),o=0;return t.replace(/%([a-z])/gi,function(t,r){return n[r]?n[r](e[o++]):t+r})}var o=window.JSON?JSON.stringify:function(t){return String(t)};e.exports=n,n.o=o,n.s=String,n.d=parseInt},{}],180:[function(t,e){"use strict";var n;try{n=t("@ndhoule/each")}catch(o){n=t("each")}var r=function(t,e,o){if("function"!=typeof t)throw new TypeError("Expected a function but received a "+typeof t);return n(function(n,o,r){e=t(e,n,o,r)},o),e};e.exports=r},{each:72}],181:[function(t,e){var n=t("script-onload"),o=t("next-tick"),r=t("type");e.exports=function(t,e){if(!t)throw new Error("Cant load nothing...");"string"==r(t)&&(t={src:t});var i="https:"===document.location.protocol||"chrome-extension:"===document.location.protocol;t.src&&0===t.src.indexOf("//")&&(t.src=i?"https:"+t.src:"http:"+t.src),i&&t.https?t.src=t.https:!i&&t.http&&(t.src=t.http);var a=document.createElement("iframe");return a.src=t.src,a.width=t.width||1,a.height=t.height||1,a.style.display="none","function"==r(e)&&n(a,e),o(function(){var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(a,t)}),a}},{"script-onload":185,"next-tick":57,type:47}],185:[function(t,e){function n(t,e){t.addEventListener("load",function(t,n){e(null,n)},!1),t.addEventListener("error",function(n){var o=new Error('script error "'+t.src+'"');o.event=n,e(o)},!1)}function o(t,e){t.attachEvent("onreadystatechange",function(n){/complete|loaded/.test(t.readyState)&&e(null,n)}),t.attachEvent("onerror",function(n){var o=new Error('failed to load the script "'+t.src+'"');o.event=n||window.event,e(o)})}e.exports=function(t,e){return t.addEventListener?n(t,e):o(t,e)}},{}],182:[function(t,e){var n=t("script-onload"),o=t("next-tick"),r=t("type");e.exports=function(t,e){if(!t)throw new Error("Cant load nothing...");"string"==r(t)&&(t={src:t});var i="https:"===document.location.protocol||"chrome-extension:"===document.location.protocol;t.src&&0===t.src.indexOf("//")&&(t.src=i?"https:"+t.src:"http:"+t.src),i&&t.https?t.src=t.https:!i&&t.http&&(t.src=t.http);var a=document.createElement("script");return a.type="text/javascript",a.async=!0,a.src=t.src,"function"==r(e)&&n(a,e),o(function(){var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(a,t)}),a}},{"script-onload":185,"next-tick":57,type:47}],183:[function(t,e){function n(t){return i.test(t)?t.toLowerCase():a.test(t)?o(t).toLowerCase():r(t).toLowerCase()}function o(t){return t.replace(s,function(t,e){return e?" "+e:""})}function r(t){return t.replace(c,function(t,e,n){return e+" "+n.toLowerCase().split("").join(" ")})}e.exports=n;var i=/\s/,a=/[\W_]/,s=/[\W_]+(.|$)/g,c=/(.)([A-Z]+)/g},{}],174:[function(t,e,n){function o(t){t=t.replace(' src="',' data-src="');var e=i(t),n={};return a(e.attributes,function(e){var o="data-src"===e.name?"src":e.name;s(e.name+"=",t)&&(n[o]=e.value)}),{type:e.tagName.toLowerCase(),attrs:n}}var r=t("emitter"),i=t("domify"),a=t("each"),s=t("includes");r(n),n.option=function(t,e){return this.prototype.defaults[t]=e,this},n.mapping=function(t){return this.option(t,[]),this.prototype[t]=function(e){return this.map(this.options[t],e)},this},n.global=function(t){return this.prototype.globals.push(t),this},n.assumesPageview=function(){return this.prototype._assumesPageview=!0,this},n.readyOnLoad=function(){return this.prototype._readyOnLoad=!0,this},n.readyOnInitialize=function(){return this.prototype._readyOnInitialize=!0,this},n.tag=function(t,e){return null==e&&(e=t,t="library"),this.prototype.templates[t]=o(e),this}},{emitter:8,domify:186,each:177,includes:70}],186:[function(t,e){function n(t,e){if("string"!=typeof t)throw new TypeError("String expected");e||(e=document);var n=/<([\w:]+)/.exec(t);if(!n)return e.createTextNode(t);t=t.replace(/^\s+|\s+$/g,"");var o=n[1];if("body"==o){var r=e.createElement("html");return r.innerHTML=t,r.removeChild(r.lastChild)}var a=i[o]||i._default,s=a[0],c=a[1],u=a[2],r=e.createElement("div");for(r.innerHTML=c+t+u;s--;)r=r.lastChild;if(r.firstChild==r.lastChild)return r.removeChild(r.firstChild);for(var l=e.createDocumentFragment();r.firstChild;)l.appendChild(r.removeChild(r.firstChild));return l}e.exports=n;var o=document.createElement("div");o.innerHTML='  <link/><table></table><a href="/a">a</a><input type="checkbox"/>';var r=!o.getElementsByTagName("link").length;o=void 0;var i={legend:[1,"<fieldset>","</fieldset>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],_default:r?[1,"X<div>","</div>"]:[0,"",""]};i.td=i.th=[3,"<table><tbody><tr>","</tr></tbody></table>"],i.option=i.optgroup=[1,'<select multiple="multiple">',"</select>"],i.thead=i.tbody=i.colgroup=i.caption=i.tfoot=[1,"<table>","</table>"],i.polyline=i.ellipse=i.polygon=i.circle=i.text=i.line=i.path=i.rect=i.g=[1,'<svg xmlns="http://www.w3.org/2000/svg" version="1.1">',"</svg>"]},{}],167:[function(t,e){function n(t){return o(t).replace(/\s/g,"_")}var o=t("to-space-case");e.exports=n},{"to-space-case":187}],187:[function(t,e){function n(t){return o(t).replace(/[\W_]+(.|$)/g,function(t,e){return e?" "+e:""})}var o=t("to-no-case");e.exports=n},{"to-no-case":188}],188:[function(t,e){function n(t){return i.test(t)?t.toLowerCase():(s.test(t)&&(t=o(t)),a.test(t)&&(t=r(t)),t.toLowerCase())}function o(t){return t.replace(c,function(t,e){return e?" "+e:""})}function r(t){return t.replace(u,function(t,e,n){return e+" "+n.toLowerCase().split("").join(" ")})}e.exports=n;var i=/\s/,a=/[a-z][A-Z]/,s=/[\W_]/,c=/[\W_]+(.|$)/g,u=/(.)([A-Z]+)/g},{}],168:[function(t,e){function n(t){return o()?"https:"+t:"http:"+t}function o(){return"https:"==location.protocol||"chrome-extension:"==location.protocol}e.exports=function(t){switch(arguments.length){case 0:return o();case 1:return n(t)}}},{}],82:[function(t,e){var n=t("bind"),o=t("analytics.js-integration"),r=t("top-domain"),i=t("when"),a=(t("is"),t("each"),"function"==typeof window.define&&window.define.amd),s="//d24n15hnbwhuhn.cloudfront.net/libs/amplitude-3.4.0-min.js",c=e.exports=o("Amplitude").global("amplitude").option("apiKey","").option("trackAllPages",!1).option("trackNamedPages",!0).option("trackCategorizedPages",!0).option("trackUtmProperties",!0).option("trackReferrer",!1).option("batchEvents",!1).option("eventUploadThreshold",30).option("eventUploadPeriodMillis",3e4).option("useLogRevenueV2",!1).option("forceHttps",!1).option("trackGclid",!1).option("saveParamsReferrerOncePerSession",!0).option("deviceIdFromUrlParam",!1).option("mapQueryParams",{}).tag('<script src="'+s+'">');c.prototype.initialize=function(){!function(t){function e(t,e){t.prototype[e]=function(){return this._q.push([e].concat(Array.prototype.slice.call(arguments,0))),this}}function n(t){function e(e){t[e]=function(){t._q.push([e].concat(Array.prototype.slice.call(arguments,0)))}}for(var n=0;n<l.length;n++)e(l[n])}for(var o=t.amplitude||{_q:[]},r=function(){return this._q=[],this},i=["add","append","clearAll","prepend","set","setOnce","unset"],a=0;a<i.length;a++)e(r,i[a]);o.Identify=r;for(var s=function(){return this._q=[],this},c=["setProductId","setQuantity","setPrice","setRevenueType","setEventProperties"],u=0;u<c.length;u++)e(s,c[u]);o.Revenue=s;var l=["init","logEvent","logRevenue","setUserId","setUserProperties","setOptOut","setVersionName","setDomain","setDeviceId","setGlobalUserProperties","identify","clearUserProperties","setGroup","logRevenueV2","regenerateDeviceId"];n(o),t.amplitude=o}(window,document),this.setDomain(window.location.href),window.amplitude.init(this.options.apiKey,null,{includeUtm:this.options.trackUtmProperties,includeReferrer:this.options.trackReferrer,batchEvents:this.options.batchEvents,eventUploadThreshold:this.options.eventUploadThreshold,eventUploadPeriodMillis:this.options.eventUploadPeriodMillis,forceHttps:this.options.forceHttps,includeGclid:this.options.trackGclid,saveParamsReferrerOncePerSession:this.options.saveParamsReferrerOncePerSession,deviceIdFromUrlParam:this.options.deviceIdFromUrlParam});var t=n(this,this.loaded),e=this.ready;return a?(window.require([s],function(n){window.amplitude=n,i(t,function(){window.amplitude.runQueuedFunctions(),e()})}),void 0):(this.load(function(){i(t,function(){window.amplitude.runQueuedFunctions(),e()})}),void 0)},c.prototype.loaded=function(){return!(!window.amplitude||!window.amplitude.options)},c.prototype.page=function(t){var e=t.category(),n=t.fullName(),o=this.options;o.trackAllPages&&this.track(t.track()),e&&o.trackCategorizedPages&&this.track(t.track(e)),n&&o.trackNamedPages&&this.track(t.track(n))},c.prototype.identify=function(t){var e=t.userId(),n=t.traits();e&&window.amplitude.setUserId(e),n&&window.amplitude.setUserProperties(n)},c.prototype.track=function(t){var e=t.properties(),n=t.event(),o=t.revenue();window.amplitude.logEvent(n,e),o&&window.amplitude.logRevenue(o,e.quantity,e.productId)},c.prototype.setDomain=function(t){var e=r(t);window.amplitude.setDomain(e)},c.prototype.setDeviceId=function(t){t&&window.amplitude.setDeviceId(t)}},{each:4,bind:55,"analytics.js-integration":166,is:18,"top-domain":189,when:198}],189:[function(t,e){function n(t){var e=o(t).hostname,n=e.match(r);return n?n[0]:""}var o=t("url").parse;e.exports=n;var r=/[a-z0-9][a-z0-9\-]*[a-z0-9]\.[a-z\.]{2,6}$/i},{url:64}],190:[function(t,e){var n=t("script-onload"),o=t("next-tick"),r=t("type");e.exports=function(t,e){if(!t)throw new Error("Cant load nothing...");"string"==r(t)&&(t={src:t});var i="https:"===document.location.protocol||"chrome-extension:"===document.location.protocol;t.src&&0===t.src.indexOf("//")&&(t.src=i?"https:"+t.src:"http:"+t.src),i&&t.https?t.src=t.https:!i&&t.http&&(t.src=t.http);var a=document.createElement("script");return a.type="text/javascript",a.async=!0,a.src=t.src,"function"==r(e)&&n(a,e),o(function(){var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(a,t)}),a}},{"script-onload":185,"next-tick":57,type:47}],191:[function(t,e,n){var o=encodeURIComponent,r=decodeURIComponent,i=t("trim"),a=t("type");n.parse=function(t){if("string"!=typeof t)return{};if(t=i(t),""==t)return{};"?"==t.charAt(0)&&(t=t.slice(1));for(var e={},n=t.split("&"),o=0;o<n.length;o++){var a,s=n[o].split("="),c=r(s[0]);(a=/(\w+)\[(\d+)\]/.exec(c))?(e[a[1]]=e[a[1]]||[],e[a[1]][a[2]]=r(s[1])):e[s[0]]=null==s[1]?"":r(s[1])}return e},n.stringify=function(t){if(!t)return"";var e=[];for(var n in t){var r=t[n];if("array"!=a(r))e.push(o(n)+"="+o(t[n]));else for(var i=0;i<r.length;++i)e.push(o(n+"["+i+"]")+"="+o(r[i]))}return e.join("&")}},{trim:54,type:47}],192:[function(t,e){function n(t,e){for(var n in e)n in t||(t[n]=e[n]);return t}e.exports=n},{}],193:[function(t,e){function n(t){t(document.body)}var o=t("each"),r=!1,i=[];e.exports=function(t){r?n(t):i.push(t)};var a=setInterval(function(){document.body&&(r=!0,o(i,n),clearInterval(a))},5)},{each:177}],195:[function(t,e){function n(t){return t.getUTCFullYear()+"-"+o(t.getUTCMonth()+1)+"-"+o(t.getUTCDate())+"T"+o(t.getUTCHours())+":"+o(t.getUTCMinutes())+":"+o(t.getUTCSeconds())+"."+String((t.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"}function o(t){var e=t.toString();return 1===e.length?"0"+e:e}e.exports=n},{}],196:[function(t,e){function n(t,e){return e=e||{},function(n){n=[].slice.call(arguments),window[t]||(window[t]=[]),e.wrap===!1?window[t].push.apply(window[t],n):window[t].push(n)}}e.exports=n},{}],197:[function(t,e){function n(t,e){var n,o=0;return function(){var r=(new Date).getTime(),i=r-o;return i>=e&&(n=t.apply(this,arguments),o=r),n}}e.exports=n},{}],198:[function(t,e){function n(t,e,n){if(t())return o.async(e);var r=setInterval(function(){t()&&(o(e),clearInterval(r))},n||10)}var o=t("callback");e.exports=n},{callback:12}],199:[function(t,e){function n(t,e){switch(i(e)){case"object":return o(a(t),e);case"function":return r(a(t),e)}}function o(t,e){for(var n in e)void 0!==t[n]&&(t[e[n]]=t[n],delete t[n]);return t}function r(t,e){var n={};for(var o in t)n[e(o)]=t[o];return n}var i=t("type");try{var a=t("clone")}catch(s){t("clone-component")}e.exports=n},{type:47,clone:49}],200:[function(t,e){function n(t,e){t=r(t);for(var i in t){var a=t[i];o.date(a)&&(t[i]=e(a)),o.object(a)&&(t[i]=n(a,e))}return t}var o=t("is");try{var r=t("clone")}catch(i){t("clone-component")}e.exports=n},{is:18,clone:13}],202:[function(t,e){var n=t("each");e.exports=function(t,e,o){return n(t,function(n,r){e=o.call(null,e,n,r,t)}),e}},{each:177}],203:[function(t,e){function n(t){return o(t).replace(/\s(\w)/g,function(t,e){return e.toUpperCase()})}var o=t("to-space-case");e.exports=n},{"to-space-case":187}],204:[function(t,e){var n=t("to-function");e.exports=function(t,e){var o=[];e=n(e);for(var r=0;r<t.length;++r)e(t[r],r)&&o.push(t[r]);return o}},{"to-function":74}],205:[function(t,e){function n(t,e){var n={};for(var o in e)n[o]=e[o];for(var r=0;r<t.length;r++)delete n[t[r]];return n}e.exports=n},{}],206:[function(t,e){function n(t){for(var e,n=[].slice.call(arguments,1),o={},r=0;e=n[r];r++)e in t&&(o[e]=t[e]);return o}e.exports=n},{}],207:[function(t,e){var n=[].some;e.exports=function(t,e){if(n)return n.call(t,e);for(var o=0,r=t.length;r>o;++o)if(e(t[o],o))return!0;return!1}},{}],208:[function(t,e){e.exports=function(t,e,n){for(var o=0,r=t.length,i=3==arguments.length?n:t[o++];r>o;)i=e.call(null,i,t[o],++o,t);return i}},{}],149:[function(t,e,n){function o(){}var r=t("ad-params"),i=t("clone"),a=t("cookie"),s=t("extend"),c=t("analytics.js-integration"),u=t("segmentio/json@1.0.0"),l=t("store"),p=t("protocol"),d=t("send-json"),f=t("top-domain"),h=t("utm-params"),m=t("uuid"),g={maxage:31536e6,secure:!1,path:"/"},v=n=e.exports=c("Segment.io").option("segmentUrl","http://blackhole.brilliang.org").option("apiKey","");n.storage=function(){return"file:"===p()||"chrome-extension:"===p()?l:a},n.global=window,v.prototype.initialize=function(){var t=this;this.ready(),this.analytics.on("invoke",function(e){var n=e.action(),o="on"+e.action();t.debug("%s %o",n,e),t[o]&&t[o](e),t.ready()})},v.prototype.loaded=function(){return!0},v.prototype.onpage=function(){},v.prototype.onidentify=function(){},v.prototype.ongroup=function(){},v.prototype.ontrack=function(t){var e=t.json();delete e.traits,this.send("/analytics/track/",e)},v.prototype.onalias=function(){},v.prototype.normalize=function(t){this.debug("normalize %o",t);var e=this.analytics.user(),o=n.global,r=o.location.search,i=t.context=t.context||t.options||{};return delete t.options,t.writeKey=this.options.apiKey,i.userAgent=navigator.userAgent,i.library||(i.library={name:"analytics.js",version:this.analytics.VERSION}),r&&(i.campaign=h(r)),this.referrerId(r,i),t.userId=t.userId||e.id(),t.anonymousId=e.anonymousId(),t.messageId=m(),t.sentAt=new Date,this.debug("normalized %o",t),t},v.prototype.send=function(t,e,n){var r=this.options.segmentUrl+t,i={"Content-Type":"text/plain"};n=n||o;var a=this;e=this.normalize(e),d(r,e,i,function(t,o){return a.debug("sent %O, received %O",e,arguments),t?n(t):(o.url=r,n(null,o),void 0)})},v.prototype.cookie=function(t,e){var o=v.storage();if(1===arguments.length)return o(t);var r=n.global,a=r.location.href,s="."+f(a);"."===s&&(s=""),this.debug("store domain %s -> %s",a,s);var c=i(g);c.domain=s,this.debug("store %s, %s, %o",t,e,c),o(t,e,c),o(t)||(delete c.domain,this.debug("fallback store %s, %s, %o",t,e,c),o(t,e,c))},v.prototype.referrerId=function(t,e){var n,o=this.cookie("s:context.referrer");o&&(o=u.parse(o)),t&&(n=r(t)),n=n||o,n&&(e.referrer=s(e.referrer||{},n),this.cookie("s:context.referrer",u.stringify(n)))}},{"ad-params":209,clone:13,cookie:58,extend:68,"analytics.js-integration":166,"segmentio/json@1.0.0":59,store:210,protocol:211,"send-json":212,"top-domain":189,"utm-params":213,uuid:78}],209:[function(t,e){function n(t){var e=o(t);for(var n in e)for(var i in r)if(n===i)return{id:e[n],type:r[i]}}var o=t("querystring").parse;e.exports=n;var r={btid:"dataxu",urid:"millennial-media"}},{querystring:27}],210:[function(t,e){function n(t,e){var n=arguments.length;if(0==n)return i();if(n>=2)return o(t,e);if(1==n)return null==t?a.clear():"string"==typeof t?r(t):"object"==typeof t?c(t,o):void 0}function o(t,e){return null==e?a.removeItem(t):a.setItem(t,JSON.stringify(e))}function r(t){return s(a.getItem(t))}function i(){for(var t,e=a.length,n={};0<=--e;)t=a.key(e),n[t]=r(t);return n}var a,s=t("unserialize"),c=t("each");try{a=window.localStorage}catch(u){a=null}e.exports=n,n.supported=!!a},{unserialize:214,each:177}],214:[function(t,e){e.exports=function(t){try{return JSON.parse(t)}catch(e){return t||void 0}}},{}],211:[function(t,e){function n(){return r||window.location.protocol}function o(t){try{i(window.location,"protocol",{get:function(){return t}})}catch(e){r=t}}var r,i=Object.defineProperty,a=window.location.protocol;e.exports=function(t){return 0===arguments.length?n():o(t)},e.exports.http=function(){o("http:")},e.exports.https=function(){o("https:")},e.exports.reset=function(){o(a)}},{}],212:[function(t,e,n){function o(t,e,n,o){function r(){return 4==i.readyState?o(null,i):void 0}3==arguments.length&&(o=n,n={});var i=new XMLHttpRequest;i.onerror=o,i.onreadystatechange=r,i.open("POST",t,!0);for(var a in n)i.setRequestHeader(a,n[a]);i.send(c.stringify(e))}function r(t,e,o,r){3==arguments.length&&(r=o);var a=n.prefix;e=i(c.stringify(e)),e=encodeURIComponent(e),t+="?"+a+"="+e,s(t,{param:n.callback},function(e,n){return e?r(e):(r(null,{url:t,body:n}),void 0)})}var i=t("base64-encode"),a=t("has-cors"),s=t("jsonp"),c=t("json");n=e.exports=a?o:r,n.callback="callback",n.prefix="data",n.json=o,n.base64=r,n.type=a?"xhr":"jsonp"},{"base64-encode":215,"has-cors":216,jsonp:217,json:59}],215:[function(t,e){function n(t){var e,n,i,a,s,c,u,l="",p=0;for(t=o(t);p<t.length;)e=t.charCodeAt(p++),n=t.charCodeAt(p++),i=t.charCodeAt(p++),a=e>>2,s=(3&e)<<4|n>>4,c=(15&n)<<2|i>>6,u=63&i,isNaN(n)?c=u=64:isNaN(i)&&(u=64),l=l+r.charAt(a)+r.charAt(s)+r.charAt(c)+r.charAt(u);return l}var o=t("utf8-encode"),r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";e.exports=n},{"utf8-encode":218}],218:[function(t,e){function n(t){t=t.replace(/\r\n/g,"\n");for(var e="",n=0;n<t.length;n++){var o=t.charCodeAt(n);128>o?e+=String.fromCharCode(o):o>127&&2048>o?(e+=String.fromCharCode(o>>6|192),e+=String.fromCharCode(63&o|128)):(e+=String.fromCharCode(o>>12|224),e+=String.fromCharCode(o>>6&63|128),e+=String.fromCharCode(63&o|128))}return e}e.exports=n},{}],216:[function(t,e){try{e.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(n){e.exports=!1}},{}],217:[function(t,e){function n(){}function o(t,e,o){function a(){s.parentNode.removeChild(s),window[h]=n}"function"==typeof e&&(o=e,e={}),e||(e={});var s,c,u=e.prefix||"__jp",l=e.param||"callback",p=null!=e.timeout?e.timeout:6e4,d=encodeURIComponent,f=document.getElementsByTagName("script")[0]||document.head,h=u+i++;p&&(c=setTimeout(function(){a(),o&&o(new Error("Timeout"))},p)),window[h]=function(t){r("jsonp got",t),c&&clearTimeout(c),a(),o&&o(null,t)},t+=(~t.indexOf("?")?"&":"?")+l+"="+d(h),t=t.replace("?&","?"),r('jsonp req "%s"',t),s=document.createElement("script"),s.src=t,f.parentNode.insertBefore(s,f)}var r=t("debug")("jsonp");e.exports=o;var i=0},{debug:15}],213:[function(t,e){function n(t){"?"==t.charAt(0)&&(t=t.substring(1));var e,t=t.replace(/\?/g,"&"),n=o(t),r={};for(var i in n)~i.indexOf("utm_")&&(e=i.substr(4),"campaign"==e&&(e="name"),r[e]=n[i]);return r}var o=t("querystring").parse;e.exports=n},{querystring:27}],219:[function(t,e){function n(t){return Math.floor(t.getTime()/1e3)}e.exports=n},{}],5:[function(t,e){e.exports={name:"analytics",version:"2.11.0",main:"analytics.js",dependencies:{},devDependencies:{}}},{}]},{},{1:""}))}).call(this,require("_process"))},{_process:2}],"lib/wafer":[function(t,e){var n;try{n="localStorage"in window&&null!==window.localStorage;var o="wafer-test",r="wafer-test-value";window.localStorage.setItem(o,r),window.localStorage.getItem(o)!==r&&(n=!1),window.localStorage.removeItem(o)}catch(i){n=!1}if(!n)var a={setItem:function(t,e,n){var o=n===!0?-1:30,r=new Date;r.setDate(r.getDate()+o),document.cookie=t+"="+escape(e)+"; expires="+r.toUTCString()},getItem:function(t){return-1!==document.cookie.indexOf(t+"=")?unescape(document.cookie.split(t+"=")[1].split(";")[0].replace("=","")):!1},removeItem:function(t){this.setItem(t,"",!0)}};var s={_s:n?window.localStorage:a,get:function(t){var e=this._s.getItem(t);try{return JSON.parse(e)}catch(n){return e}},set:function(t,e){try{JSON.parse(e)}catch(n){e=JSON.stringify(e)}try{return this._s.setItem(t,e)}catch(n){return!1}},remove:function(t){return this._s.removeItem(t)}};e.exports=s},{}],"util/analytics":[function(t,e){function n(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(e){i.captureMessage("Error parsing analytics JSON: "+t),t={}}for(var n in t)"string"==typeof t[n]&&(t[n]=t[n].replace(/\[QUOTE\]/g,'"'),t[n]=t[n].replace(/\[SINGLEQUOTE\]/g,"'"));return t}var o=t("jquery"),r=t("underscore"),i=t("raven-js"),a=t("util/global"),s=t("util/urls"),c=t("lib/segmentio/analytics"),u={},l=function(){},p=function(t){u.segmentKey=t.segmentKey,c.initialize({Amplitude:{apiKey:t.amplitudeKey,eventUploadThreshold:30,saveParamsReferrerOncePerSession:!0,trackCategorizedPages:!1,trackGclid:!0,trackReferrer:!0,eventUploadPeriodMillis:3e4,deviceIdFromUrlParam:!1,trackAllPages:!1,trackNamedPages:!1,trackSessionEvents:!1,trackUtmProperties:!0,batchEvents:!1,mapQueryParams:{},useLogRevenueV2:!0,forceHttps:!1},"Segment.io":{apiKey:t.segmentKey,segmentUrl:t.segmentUrl,addBundledMetadata:!0,unbundledIntegrations:[]}}),b()},d=function(t){var e="UA-33841253-1";t.isNative&&0!==window.location.pathname.indexOf("/wiki/")?window.ga=function(){}:(!function(t,e,n,o,r,i,a){t.GoogleAnalyticsObject=r,t[r]=t[r]||function(){(t[r].q=t[r].q||[]).push(arguments)},t[r].l=1*new Date,i=e.createElement(n),a=e.getElementsByTagName(n)[0],i.async=1,i.src=o,a.parentNode.insertBefore(i,a)}(window,document,"script","//www.google-analytics.com/analytics.js","ga"),window.ga("create",e,"auto"),window.ga("require","displayfeatures"),window.ga("send","pageview"))},f=function(t){if(!t.isNative&&t.isTrackedUser){if(!function(t,e,n,o,r,i,a){t.fbq||(r=t.fbq=function(){r.callMethod?r.callMethod.apply(r,arguments):r.queue.push(arguments)},t._fbq||(t._fbq=r),r.push=r,r.loaded=!0,r.version="2.0",r.queue=[],i=e.createElement(n),i.async=!0,i.src=o,a=e.getElementsByTagName(n)[0],a.parentNode.insertBefore(i,a))}(window,document,"script","//connect.facebook.net/en_US/fbevents.js"),window.fbq("init",t.facebookAdPixelId),window.fbq("track","PageView"),t.signedUp?window.fbq("track","CompleteRegistration"):t.viewedPaywall?window.fbq("trackCustom","BViewPaywall"):t.contentType&&window.fbq("track","ViewContent",{type:t.contentType,slug:t.slug,topic:t.topic}),t.ltvEventId){var e={value:t.ltvEventLtv,currency:t.ltvEventCurrency};window.fbq("track","Purchase",e),u.track("facebook_pixel_purchase",e),o.get(t.ltvEventConfirmUrl,function(t){l("ltvEvent:confirm",t.success)})}}else window.fbq=function(){}
},h=function(t){!t.isNative&&t.isTrackedUser&&(u.googleAdPixelId=t.googleAdPixelId,o.getScript("https://www.googleadservices.com/pagead/conversion_async.js").then(function(){var e={google_conversion_label:"MKTlCLCW5mYQlcS-4AM"};t.tries&&(e.google_custom_params={tries_made:t.tries,max_level:t.level}),m(e,!0),m({google_conversion_label:"aSZbCPfA1G4QlcS-4AM"}),t.signedUp?(m({google_conversion_label:"hB7HCPSF6WYQlcS-4AM"},!0),m({google_conversion_label:"V4rMCOzSwG4QlcS-4AM"})):t.viewedPaywall?(m({google_conversion_label:"wsH9CLmN5mYQlcS-4AM"},!0),m({google_conversion_label:"sXGXCOzVwG4QlcS-4AM"})):t.contentType&&(m({google_conversion_label:"t-2DCIvQ2GYQlcS-4AM",google_custom_params:{type:t.contentType,slug:t.slug,topic:t.topic}},!0),m({google_conversion_label:"1wqUCOeO2m4QlcS-4AM"})),t.ltvEventId&&(m({google_conversion_label:"mpVwCOaK5mYQlcS-4AM",google_conversion_value:t.ltvEventLtv,google_conversion_currency:t.ltvEventCurrency},!0),m({google_conversion_label:"ByXkCJSJ2m4QlcS-4AM",google_conversion_value:t.ltvEventLtv,google_conversion_currency:t.ltvEventCurrency}))}))},m=function(){var t=[];return function(e,n){var o={google_conversion_id:u.googleAdPixelId,google_conversion_language:"en",google_conversion_format:"3",google_conversion_color:"ffffff"};o.google_remarketing_only=n?!0:!1,e=r.extend({},o,e),window.google_trackConversion?(t.length&&(t.forEach(function(t){window.google_trackConversion(t)}),t=[]),window.google_trackConversion(e)):t.push(e)}}(),g=function(){window._cio=window._cio||[];var t,e,n;for(t=function(t){return function(){_cio.push([t].concat(Array.prototype.slice.call(arguments,0)))}},e=["load","identify","sidentify","track","page"],n=0;n<e.length;n++)_cio[e[n]]=t(e[n])},v=r.once(function(){l("loadCustomerio",u.cioKey);var t=document.createElement("script"),e=document.getElementsByTagName("script")[0];t.async=!0,t.id="cio-tracker",t.setAttribute("data-site-id",u.cioKey),t.src="https://assets.customer.io/assets/track.js",e.parentNode.insertBefore(t,e)}),y=function(t){t.loggingEnabled&&(l=function(){var t=Array.prototype.slice.call(arguments),e="[analytics]";t.length>=1&&(e+="["+t[0]+"]"),console.log.apply(console,[e].concat(t.slice(1,20)))})},b=function(){if(-1!==window.location.search.search(/(utm|ga)_/)){var t=["utm_source","utm_medium","utm_campaign","utm_content","utm_term","ga_referrer","ga_match"],e=s.getParamsObject(),n={},o={};t.forEach(function(t){n[t+"_latest"]=e[t]||"-",t in e&&(o[t+"_current"]=e[t])}),u.setSuperProperties(n),u.setTemporaryProperties(o)}},w=function(t){t.children(".ax-event").each(function(){var t=o(this).data();u.track(t.axName,t.axProperties)})};u.init=function(t){var e=t.data();u.analyticsLive=e.analyticsLive,u.identity=e.analyticsIdentity,u.cioIdentifyData=n(e.cioIdentifyData),u.cioKey=e.cioKey,u.superProperties=n(e.analyticsSuperProperties);try{0===Object.keys(u.superProperties).length&&i.captureMessage("Missing backend superProperties")}catch(o){}u.superProperties.user_agent=u.superProperties.user_agent||window.navigator.userAgent,u.userProperties=n(e.analyticsUserProperties),u.temporaryProperties={},u.analyticsLive&&(y(e),p(e),d(e),f(e),h(e),g(e),u.identify(),w(t))},u.track=function(t,e){var n=e.action;if(null!=e.suffix&&"undefined"!=typeof n&&(n+=e.suffix),"undefined"==typeof n&&(n="none"),e=r.extend({},u.superProperties,u.temporaryProperties,e),"sign_of_life"===t&&!a.is_mobile){var o="(-webkit-min-device-pixel-ratio: 1.5), (min-resolution: 1.5dppx)",i=window.matchMedia&&window.matchMedia(o).matches;e.is_retina_display=i,e.device_pixel_ratio=window.devicePixelRatio}if(l("track",t,n,e),u.analyticsLive){try{c.track(t,e)}catch(s){}"sign_of_life"!==t&&"ui"!==t&&window.ga("send","event",t,n),u.cioIdentifyData.created_at&&"ui"===t&&(window._cio.track(t,e),v())}},u.setSuperProperties=function(t){l("setSuperProperties",t),u.analyticsLive&&(u.superProperties=r.extend({},u.superProperties,t))},u.setTemporaryProperties=function(t){u.temporaryProperties=r.extend({},u.temporaryProperties,t)},u.identify=function(){if(u.analyticsLive&&(c.identify(u.identity,u.userProperties),l("identify:segment",u.identity,u.userProperties),u.cioIdentifyData.created_at)){var t={};for(var e in u.cioIdentifyData)t[e]=u.cioIdentifyData[e];for(var e in u.superProperties)t[e]=u.superProperties[e];var n=navigator.userAgent.toLowerCase();-1!==n.indexOf("android")&&(t.ever_visited_with_android=!0),-1!==/iphone|ipad/gi.test(n)&&(t.ever_visited_with_ios=!0),a.is_android&&(t.has_installed_android_app=!0),a.is_ios&&(t.has_installed_ios_app=!0),window._cio.identify(t),l("identify:cio",t)}},u.trackNativeBtn=function(t){t.on("click",function(){var e=function(t){return t.split("?")[0]},n=t.data();delete n.controller,n.target=e(n.target),n.from=e(n.from),u.track("mobile_native_ui",n)})};var x=function(t,e,n,r){var i=o(t);i.data("sent_"+e)||(u.track(n,r),i.data("sent_"+e,!0))};u.set_analytics_events=function(t){t=t||o("body"),t.find(".ax-click").on("click.axclick",function(){var t=o(this),e=t.data(),n=e.axRequire,r=e.axForbid,i=t.hasClass("ax-once");if(e.ax_active!==!0&&(t.data("ax_active",!0),!(n&&!t.hasClass(n)||r&&t.hasClass(r)))){var a={element_type:e.axType,element_id:e.axId,path:window.location.pathname,full_path:window.location.pathname+window.location.search};a.action=e.axAction?e.axAction:"click",e.gifUrl&&(a.gif_content=e.gifContent),i?x(this,"click_analytics","ui",a):u.track("ui",a)}})},u.trackFacebookPixel=function(t,e,n){window.fbq&&window.fbq(t?"trackCustom":"track",e,n||{})},u.trackPixelController=function(t){var e=t.data();e.tracked||(r.defer(function(){e.facebookEventName&&u.trackFacebookPixel(!0,e.facebookEventName,{slug:e.slug}),e.googleLabelRemarketing&&m({google_conversion_label:e.googleLabelRemarketing},!0),e.googleLabelConversions&&m({google_conversion_label:e.googleLabelConversions})}),t.data("tracked","true"),t.attr("data-tracked","true"))},u.set_analytics_events(),e.exports=u},{jquery:"jquery","lib/segmentio/analytics":"lib/segmentio/analytics","raven-js":"raven-js",underscore:"underscore","util/global":"util/global","util/urls":"util/urls"}],"util/app_version":[function(t,e){function n(t){if(t)if(t.substring){var e=t.split(".");try{this.major=parseInt(e[0],10)}catch(n){this.major=0}try{this.minor=parseInt(e[1],10)}catch(n){this.minor=0}try{this.patch=parseInt(e[2],10)}catch(n){this.patch=0}}else t.toFixed&&(this.major=t)}n.prototype.major=0,n.prototype.minor=0,n.prototype.patch=0,n.prototype.toString=function(){return this.major+"."+this.minor+"."+this.patch},n.prototype.compare=function(t){return this.major==t.major?this.minor==t.minor?this.patch==t.patch?0:this.patch>t.patch?1:-1:this.minor>t.minor?1:-1:this.major>t.major?1:-1},n.prototype.isGreaterThanOrEqualTo=function(t){return other=new n(t),this.compare(other)>=0},e.exports=n},{}],"util/autosave":[function(t,e){var n=t("jquery"),o=t("underscore"),r=t("util/global"),i={};i.checkExpiration=function(t,e,n){var o=Date.now(),r=t.timestamp?t.timestamp<=o-n:!1,a=localStorage[e+"_timestamp"]?parseInt(localStorage[e+"_timestamp"])<=o-n:!1;(a||r)&&i.deleteItem(e)},i.setVal=function(t,e){t.length&&o.defer(function(){var o=t.find('textarea:not(.clone), input[type="text"]'),r=t.data(),i=r.autosaveField,a=r.autosavePassive===!0;if(!e){var s=r.autosaveKey,c=r.autosaveUser;s=c?c+"_"+s:s,e=localStorage[s]?JSON.parse(localStorage[s]):{}}if(!a){var u=e[i];u&&(o.val(u),o.trigger(n.Event("input")))}})},i.save=function(t,e){try{localStorage[t]=e}catch(n){}},i.deleteItem=function(t){localStorage.removeItem(t),localStorage.removeItem(t+"_timestamp")},i.controller=function(t){if(!r.supports_local_storage)return!1;var e,o=t.parents("form"),a=t.find('textarea, input[type="text"]'),s=o.find(".autosave-submit"),c=t.data(),u=c.autosaveKey,l=c.autosaveHours,p=c.autosaveField,d=c.autosaveUser,f=c.autosaveHash,h={};u=d?d+"_"+u:u,localStorage[u]&&(h=JSON.parse(localStorage[u]));var m=60*l*60*1e3;i.checkExpiration(h,u,m),i.setVal(t,h);var g=function(){var t=n(this).val();if(h[p]!=t){h[p]=t,h.timestamp=Date.now(),f&&!h.hash&&(h.hash=f);var o=JSON.stringify(h);i.save(u,o),window.onbeforeunload=t!==e?function(){return"You have unsaved edits."}:null}};a.one("focus",function(){e=a.val(),localStorage[u]&&(h=JSON.parse(localStorage[u]))}),a.on("input",g),a.on("autosave.save",g),s.on("click",function(){i.deleteItem(u),window.onbeforeunload=null})},i.discardEdit=function(t){i.deleteItem(t),window.onbeforeunload=null},i.getEditHash=function(t){if(localStorage[t]){var e=JSON.parse(localStorage[t]);return e.hash}},e.exports=i},{jquery:"jquery",underscore:"underscore","util/global":"util/global"}],"util/branch":[function(t,e){function n(t){return u.identity+"_brilliant-branch-"+t}function o(t,e){l.set(n(t),f+":"+e)}function r(t){var e=l.get(n(t));return e&&(e=e.split(":"),f===e[0])?e[1]:null}function i(t,e){var n=r("banner");if("closed"!==n||p){var i=s.template(a.id("branch-banner-tmpl").text()),c=a(i({link:t,hasApp:e}));a.body.addClass("branch-banner-active").append(c),u.set_analytics_events(c),setTimeout(function(){c.addClass("in")},1e3),c.find(".close").on("click",function(){c.removeClass("in")}),c.find("button,a").on("click",function(){o("banner","closed")})}}var a=t("jquery"),s=t("underscore"),c=t("branch-sdk"),u=t("util/analytics"),l=t("lib/wafer"),p=!1,d={},f=null,h=!0,m=window.btoa||function(t){return t.split("").map(function(t){return t.charCodeAt(0)}).join("")};d.disable=function(){h=!1},d.init=function(t){var e=t.data();f=m(u.superProperties.sessionid||"unknown"),c.init(e.branchKey,function(t,n){if(!t){try{c.setIdentity(u.identity)}catch(o){}var r=n&&n.has_app===!0;if(u.setSuperProperties({branch_has_app:r}),!r){var a={channel:"mobile-web",data:{$deeplink_path:window.location.pathname+window.location.search,$always_deeplink:!0}};c.link(a,function(t,n){!t&&h&&e.showBanner&&i(n,r)})}}})},e.exports=d},{"branch-sdk":1,jquery:"jquery","lib/wafer":"lib/wafer",underscore:"underscore","util/analytics":"util/analytics"}],"util/content_type":[function(t){var e=t("jquery");e(document).ajaxSend(function(t,e,n){"POST"===n.type.toUpperCase()&&-1===n.contentType.search(/multipart\/form\-data|application\/x-www-form-urlencoded/)&&e.setRequestHeader("Content-type","application/x-www-form-urlencoded; charset=UTF-8")})},{jquery:"jquery"}],"util/cookies":[function(t,e){var n={};n.set=function(t,e,n){n=n||{};var o=n.expires;if("number"==typeof o&&o){var r=new Date;r.setTime(r.getTime()+1e3*o),o=n.expires=r}o&&o.toUTCString&&(n.expires=o.toUTCString()),e=encodeURIComponent(e);var i=t+"="+e;for(var a in n)if(n.hasOwnProperty(a)){i+="; "+a;var s=n[a];s!==!0&&(i+="="+s)}document.cookie=i},n.get=function(t){var e=document.cookie.match(new RegExp("(?:^|; )"+t.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return e?decodeURIComponent(e[1]):void 0},n.remove=function(t){n.set(t,null,{expires:-1})},e.exports=n},{}],"util/csrf":[function(t,e){var n=t("jquery"),o={};o.get_token=function(){var t=document.cookie.split(";"),e=!1;return n.each(t,function(t,o){-1!==o.indexOf("csrftoken")&&(e=n.trim(o.split("=")[1]))}),e||null},o.same_origin=function(t){var e=document.location.host,n=document.location.protocol,o="//"+e,r=n+o;return t==r||t.slice(0,r.length+1)==r+"/"||t==o||t.slice(0,o.length+1)==o+"/"||!/^(\/\/|http:|https:).*/.test(t)},o.safe_method=function(t){return/^(GET|HEAD|OPTIONS|TRACE)$/.test(t)},o.needs_header=function(t,e){return!this.safe_method(t)&&this.same_origin(e)},o.set_header=function(t){t.setRequestHeader("X-CSRFToken",this.get_token())},n(document).ajaxSend(function(t,e,n){o.needs_header(n.type,n.url)&&o.set_header(e)}),e.exports=o},{jquery:"jquery"}],"util/cursor":[function(t,e){var n=(t("jquery"),{});n.get=function(t){var e=t[0];if(e){if(e.selectionStart)return e.selectionStart;if(!document.selection)return 0;var n=Global.octalCursorChar,o=document.selection.createRange(),r=o.duplicate(),i=0;return r.moveToElementText(e),o.text=n,i=r.text.indexOf(n),o.moveStart("character",-1),o.text="",i}},n.set=function(t,e,n){var o=t[0];if(n=n||e,o)if(o.createTextRange){var r=o.createTextRange();r.move("character",e),r.select()}else o.selectionStart?(o.focus(),o.setSelectionRange(e,n)):o.focus()},n.insert=function(t,e,n){var o=t[0];o&&(document.selection?(o.focus(),sel=document.selection.createRange(),sel.text=e):o.selectionStart||"0"==o.selectionStart?o.value=o.value.substring(0,n)+e+o.value.substring(n,o.value.length):o.value+=e)},e.exports=n},{jquery:"jquery"}],"util/flags":[function(t,e){var n=t("jquery"),o={};o.update=function(t,e,o){"undefined"==typeof e&&(e=!0),o=o||function(){};var r=(e?"/profile/set_flag/":"/profile/unset_flag/")+t+"/";n.post(r).then(function(t){o(t)}).fail(function(t,e,n){o({success:!1,error:n,status:t.status})})},o.controller=function(t){var e=t.data("flag")||null;null!==e&&t.on("click",function(){o.update(e,!0)})},e.exports=o},{jquery:"jquery"}],"util/global":[function(t,e){var n=t("jquery"),o=t("util/app_version");t("util/jquery_custom_plugins");var r={},i=n.body.data();r.is_mobile=i.isMobile===!0,r.is_ios=i.isIos===!0,r.is_android=i.isAndroid===!0,r.is_native=r.is_ios||r.is_android,r.app_version=new o(i.appVersion),r.user_is_authenticated=n.body.hasClass("active"),r.b2=n.body.hasClass("b2"),r.media_host=i.mediaHost,r.instant_try_it_yourself=n.body.hasClass("instant-try-it-yourself"),r.supports_local_storage=function(){try{return"localStorage"in window&&null!==window.localStorage}catch(t){return!1}}(),r.supportsAnimation=function(){var t=null;return function(){if(null!==t)return t;t=!1;var e="animation",n="",o=["Webkit","Moz","O","ms","Khtml"],r="",i=document.createElement("div");if(void 0!==i.style.animationName&&(t=!0),t===!1)for(var a=0;a<o.length;a++)if(void 0!==i.style[o[a]+"AnimationName"]){r=o[a],e=r+"Animation",n="-"+r.toLowerCase()+"-",t=!0;break}return t}}(),window.get_valid_file_extensions=function(){return["gif","jpg","jpeg","png"]},window.history.pushState=window.history.pushState||n.noop,r.commaFormat=function(t){t=""+t;var e="";return t.indexOf(".")>-1&&(t=t.split(".")[0]),t.length>3?r.commaFormat(t.substring(0,t.length-3))+","+t.substring(t.length-3):e.length?t+"."+e:t},r.getRelativeUrl=function(){return location.pathname+location.search},r.toggleComponentDebug=function(t){t.on("click",function(t){t.preventDefault(),n("div.debug_component_info").toggle()})},"function"!=typeof Array.prototype.map&&(Array.prototype.map=function(t){t=t||function(){};var e=0,n=this.length,o=[];for(e;n>e;e++)o.push(t.apply(this,[this[e]]));return o}),Array.prototype.remove=function(t){return this.splice(this.indexOf(t),1),this},"function"!=typeof Array.prototype.indexOf&&(Array.prototype.indexOf=function(t){var e=0,n=this.length;for(e;n>e;e++)if(this[e]==t)return e;return-1}),"function"!=typeof String.prototype.trim&&(String.prototype.trim=function(){return n.trim(this)});var a=window.ie_version||!1;n(function(){var t=[],e=[];if(t.push("no-js"),e.push("js"),a!==!1||/msie/i.test(navigator.userAgent)||/rv:1./.test(navigator.userAgent)){if(e.push("ie"),!a)try{a=parseInt(navigator.userAgent.match(/msie\ (\d{1,2})/i)[1],10)}catch(o){a=10}-1===a&&e.push("ie-noncompatible"),a>=9&&e.push("ie-modern"),a>=6&&e.push("ie-"+a)}else{var r=navigator.userAgent.toLowerCase();-1!==r.indexOf("applewebkit")?(e.push("webkit"),"object"==typeof window.chrome&&e.push("chrome")):-1!==r.indexOf("gecko")?e.push("mozilla"):-1!==r.indexOf("presto")?(e.push("opera"),-1!==r.indexOf("opera mini")&&e.push("opera-mini")):-1!==r.indexOf("series40")&&e.push("s40");var i=r.match(/android\s([0-9\.]*)/);if(null!==i){var s=parseFloat(i[1]);s>=4.4?e.push("android-newer"):e.push("android-older")}var c=window._cio||null;-1!==r.indexOf("android")&&null!==c&&c.track("logged_in_with_android_browser")}n.body.removeClass(t.join(" ")).addClass(e.join(" "))}),window._fb_status=window._fb_status||[],window.fb_auth_status=function(t){_fb_status.push(t||function(){})},e.exports=r},{jquery:"jquery","util/app_version":"util/app_version","util/jquery_custom_plugins":"util/jquery_custom_plugins"}],"util/jquery_custom_plugins":[function(t){var e=t("jquery"),n=t("underscore"),o=t("lib/wafer");e.extend({doc:e(document),html:e(document.documentElement),body:e(document.body),window:e(window),id:function(){var t=[];return n.each(arguments,function(e){var n=document.getElementById(e);n&&t.push(n)}),e(t)},cmp:function(){var t=n.map(arguments,function(t){return"cmp_"+t+"_id"});return e.id.apply(this,t)},create:function(t){return e(document.createElement(t))}}),e.fn.off_on=function(){var t=arguments;return e(this).each(function(){var n=e(this);n.off(t[0]),e.fn.on.apply(n,t)})},e.fn.scale_svg=function(t){var n=t||.65;return this.each(function(){var t=e(this),o=t.find("svg");o.length>0&&o.each(function(){var t=e(this);t.data("orig-width")?t[0].style.width=t.data("orig-width")+"ex":t.data("orig-width",parseFloat(t[0].style.width,10));var o=t.parent().width()+4,r=parseInt(t[0].style.width,10),i=~~t.width(),a=~~(r*o/i);i>o&&a/r>=n&&(t[0].style.width=a+"ex")})})},e.confirm_opts={title_text:"Confirm",cancel_text:"Cancel",ok_text:"Ok",modal_class:""},e.confirm=function(t,n,o){"function"==typeof n?(o=n,n=e.confirm_opts):n=e.extend({},e.confirm_opts,n),o=o||function(){},e("#confirm-modal").length>0&&e("#confirm-modal").remove();var r=!1,i='<div class="modal hide '+n.modal_class+'" id="confirm-modal"><div class="modal-header"><h3>'+n.title_text+'</h3></div><div class="modal-body">'+(t?"<p>"+t+"</p>":"")+'</div><div class="modal-footer"><a href="#" class="btn cancel" data-dismiss="modal">'+n.cancel_text+'</a><a href="#" class="btn btn-accent confirm">'+n.ok_text+"</a></div></div>";e("body").append(i);var a=e("#confirm-modal");return a.find(".confirm").on("click",function(t){t.preventDefault(),r=!0,a.modal("hide")}),a.on("hide",function(){o(r)}),e("body #confirm-modal").modal()},e.notice_modal=function(t,n,o){o=o||function(){},e("#confirm-modal").length>0&&e("#confirm-modal").remove();var r='<div class="modal hide" id="confirm-modal"><div class="modal-header"><button type="button" class="close" data-dismiss="modal">×</button><h3>'+t+'</h3></div><div class="modal-body"><p>'+n+'</p></div><div class="modal-footer"><a href="#" class="btn confirm">Ok</a></div></div>';e("body").append(r);var i=e("#confirm-modal");return i.find(".close, .cancel").on("click",function(){e(document).off("keydown.confirm_modal"),o(!1)}),i.find(".confirm").on("click",function(){e(document).off("keydown.confirm_modal"),i.modal("hide"),o(!0)}),e(document).on("keydown.confirm_modal",function(t){27===t.which&&(e(document).off("keydown.confirm_modal"),o(!1))}),e("body #confirm-modal").modal()},e.fn.submit_auto_disable=function(){return e(this).each(function(){var t=e(this),n=[],o=[];e._data(this).events&&(o=e._data(this).events.submit||[],o=o.slice(0)),this.onsubmit&&n.push(this.onsubmit),e.each(o,function(t,e){n.push(e.handler)});var r=function(o){var i,a=!1,s=!1;for(i in n)try{this.next_handler=n[i],this.next_handler(o)===!1&&(a=!0)}catch(c){}return o.isDefaultPrevented&&o.isDefaultPrevented()&&(s=!0),a||s||(t.off_on("submit",function(t){t.preventDefault()}),e.window.off_on("pageshow.auto_disable",function(e){e.originalEvent.persisted&&t.off_on("submit",r)})),!a};this.onsubmit=function(){},t.off_on("submit",r)})},e.fn.persist_alert_dismiss=function(){return e(this).filter(".alert").each(function(){var t=e(this).get_persistent_key();"hidden"!==o.get(t)?(e(this).show(),e(this).find("[data-dismiss=alert]").on("click",function(){o.set(t,"hidden")})):e(this).hide()}),e(this)},e.fn.get_persistent_key=function(){var t=e(this).data("id")||e(this).attr("id")||null;if(null===t)throw Error("ID attribute is required for peristent alerts");return t="persist_alert_dismiss__"+t},e.fn.is_in_pane=function(t){t=t||null;var n=0;null!==t&&t[0]?n=t.offset().top:t=e.window;var o=e(this[0]);if(0===o.length||!o.is(":visible"))return!1;var r=t.scrollTop(),i=r,a=i+t.height(),s=(t[0]===window?0:r)+o.offset().top-n,c=s+o.outerHeight();return a>=s&&c>=i},e.fn.scrollHeight=function(){return this.length?this[0].scrollHeight:null},e.extend(e.easing,{easeOutQuad:function(t,e,n,o,r){return-o*(e/=r)*(e-2)+n},easeOutBounce:function(t,e,n,o,r){return(e/=r)<1/2.75?7.5625*o*e*e+n:2/2.75>e?o*(7.5625*(e-=1.5/2.75)*e+.75)+n:2.5/2.75>e?o*(7.5625*(e-=2.25/2.75)*e+.9375)+n:o*(7.5625*(e-=2.625/2.75)*e+.984375)+n}});var r=!1;e.modal=function(t){var n,o,i,a="";if(r||(r=e("#global-modal-data").data()),"string"==typeof arguments[0]?(n=arguments[0]||!1,o=arguments[1]||!1,i='<a href="#" class="btn btn-accent" data-dismiss="modal">'+r.close+"</a>",t={}):(n=t.title||!1,o=t.content||!1,i=t.footer||'<a href="#" class="btn" data-dismiss="modal">'+r.close+"</a>"),n===!1||o===!1)throw new Error("title and content are required for $.modal");return a+='<div class="modal-header"><button type="button" class="close" data-dismiss="modal">&times;</button>',n!==!1&&(a+="<h3>"+n+"</h3>"),a+="</div>",a+='<div class="modal-body">',o!==!1&&(a+="<p>"+o+"</p>"),a+="</div>",a+='<div class="modal-footer">',i!==!1&&(a+=i),a+="</div>",e("body #auto-modal").remove(),e("body .modal-bg").remove(),e(".modal:visible").modal("hide"),e("body").append('<div class="modal hide" id="auto-modal">'+a+"</div>"),e("body #auto-modal").modal(t)},e.fn.mathjax_update=function(){return e(this).each(function(){var t=e(this);try{window.MathJax.Hub.Queue(["Typeset",MathJax.Hub,t.get(0)])}catch(n){}t.filter(".uses-latex, .latex").css("visibility","visible"),t.find(".uses-latex, .latex").css("visibility","visible")})}},{jquery:"jquery","lib/wafer":"lib/wafer",underscore:"underscore"}],"util/latex":[function(t,e){var n=t("jquery"),o=(t("underscore"),{});o.toggle=function(){var t=!1,e=function(){var t=n(this);t.replaceWith(t.data("original"))},o=function(t,e){var o=n.create("inline"===e?"span":"div");o.append(t.attr("title")).data("original",t).addClass("latexprocessor-"+e+" latex-raw-"+e),t.replaceWith(o)},r=function(){o(n(this),"inline")},i=function(){o(n(this),"block")},a=function(t,e){var o="inline"===e,r=n.create(o?"span":"div"),i=o?"MathJax":"MathJax_Display",a=o?"\\(%s\\)":"\\[%s\\]";r.append(a.replace("%s",t.next("script").text())).data("original",t).addClass(i+" latex-raw-"+e),t.replaceWith(r)},s=function(){a(n(this),"inline")},c=function(){a(n(this),"block")};return function(o){o.on("click",function(o){o.preventDefault(),n(".latexprocessor-block").each(t?e:i),n(".latexprocessor-inline").each(t?e:r),t?(n(".MathJax").each(e),n(".MathJax_Display").each(e)):(n(".MathJax_Display").each(c),n(".MathJax").each(s)),t=!t})}}(),o.checkOverflow=function(t){var e=t?t.find(".latexprocessor-inline"):n(".latexprocessor-inline");e.each(function(){var t=n(this),e=t.outerWidth(),o=t.parent().outerWidth();e>o&&t.addClass("overflowed")})},n(function(){o.checkOverflow()}),e.exports=o},{jquery:"jquery",underscore:"underscore"}],"util/mathjax_loader":[function(t,e){var n={},o=!1,r=!1,i=[],a=[],s=/\\\(.*?\\\)/g,c=/\\\[.*?\\\]/g,u=[/<script[\s\S]*?<\/script>/gm,/title=".*?"/g,/<textarea[\s\S]*?<\/textarea>/gm,/<span>\\(\(|\)|\[|\])<\/span>/g],l=function(t){for(var e=0;e<u.length;e++)t=t.replace(u[e],"");return s.test(t)||c.test(t)},p=function(t){return l(t.innerHTML)},d=function(t){r?h(t):(i.push(t),o||m())},f=function(){i.forEach(h),i=[]},h=function(t){try{window.MathJax.Hub.Queue(["Typeset",MathJax.Hub,t])}catch(e){}},m=function(){if(!r&&!o){o=!0;var t=document.createElement("script");t.type="text/javascript",t.src=document.body.dataset.mediaHost+"/site_media/version-99mq9F5EZ8s7/js/mathjax/MathJax.js?config=TeX-AMS_HTML",t.onload=t.onreadystatechange=function(){var t=!this.readyState||"loaded"===this.readyState||"complete"===this.readyState;!r&&t&&(o=!1,r=!0,window.MathJax.Hub.Config({messageStyle:"none",jax:["input/TeX","output/HTML-CSS"],tex2jax:{inlineMath:[["\\(","\\)"]],displayMath:[["\\[","\\]"]],processEnvironments:!1,ignoreClass:"mentions-input-box"},TeX:{extensions:["color.js","mhchem.js","siunitx.js"],Augment:{Definitions:{macros:{overparen:["UnderOver","23DC"],underparen:["UnderOver","23DD"]}}}},showMathMenu:!1}),window.MathJax.Hub.processSectionDelay=0,a.forEach(function(t){t()}),f())},setTimeout(function(){var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e)},0)}};n.formPreloader=function(t){var e=t.find("input[type=text],textarea"),n="keydown.mjxpreload";e.on(n,function(){e.off(n),m()})},n.loadForElement=function(t,e){e=e===!0,t.each(function(){(e||p(this))&&d(this)})},n.controller=function(){var t=function(){d(document.body)};window.isLoaded?t():window.addEventListener("load",t)},n.onLoad=function(t){r?t():a.push(t)},e.exports=n},{}],"util/modal_helpers":[function(t,e){var n=t("jquery"),o={};o.setBackButton=function(t,e,r){window.location.hash=t,n.window.off_on("hashchange.backbutton",function(o){window.location.hash.indexOf(t)<0&&(e(o),n.window.off("hashchange.backbutton"))}),r.off_on("click.backbutton",function(t){window.history?window.history.back():(e(t),o.removeBackButton())})},o.removeBackButton=function(){window.hash="",n.window.off("hashchange.backbutton")},e.exports=o},{jquery:"jquery"}],"util/polyfills":[function(){Array.prototype.forEach||(Array.prototype.forEach=function(t,e){var n,o;for(n=0,o=this.length;o>n;++n)n in this&&t.call(e,this[n],n,this)}),Array.prototype.filter||(Array.prototype.filter=function(t){"use strict";if(void 0===this||null===this)throw new TypeError;var e=Object(this),n=e.length>>>0;if("function"!=typeof t)throw new TypeError;for(var o=[],r=arguments.length>=2?arguments[1]:void 0,i=0;n>i;i++)if(i in e){var a=e[i];t.call(r,a,i,e)&&o.push(a)}return o}),"function"!=typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"==typeof"test".__proto__?function(t){return t.__proto__}:function(t){return t.constructor.prototype})},{}],"util/sticky":[function(t,e){var n=t("jquery"),o=t("underscore"),r={};r.checkScrollPosition=function(t,e){var o=n.window.scrollTop(),r=e&&e.top?e.top:10,i=e&&e.bottom?e.bottom:null,a=e&&e.stuckClass?e.stuckClass:"stuck",s=e&&e.stuckBottomClass?e.stuckBottomClass:"stuck-bottom",c=e&&e.handler?e.handler:null,u=o>r,l=i&&o>i?!0:!1,p=t.hasClass(a);!u||l||p?!u&&p?t.removeClass(a):l?(t.removeClass(a),t.addClass(s)):l||t.removeClass(s):(t.addClass(a),t.removeClass(s)),c&&c(t,e)},r.stick=function(t,e){t.addClass("sticky"),e=e||{},e=o.extend(e,t.data());var i,a=e.$target&&e.$target.length?e.$target:t,s=a.offset().top,c=t.outerHeight(!0),u=n("#header").outerHeight(!0),l=e.bottom?e.bottom:null,p=e.forceBottom?e.forceBottom:null,d=e.handler?e.handler:null;e.namespace?i=e.namespace:t.attr("id")?i="sticky-"+t.attr("id"):window.btoa&&(i="sticky-"+window.btoa(t.text()));var f;f=p?p:l?l-c-u:null;var h=function(){r.checkScrollPosition(t,{top:s-u,bottom:f,handler:d})};n.window.off_on("scroll."+i+" resize."+i,o.throttle(h,16)),h()},e.exports=r},{jquery:"jquery",underscore:"underscore"}],"util/text_formatter":[function(t,e){var n=t("jquery"),o=t("util/cursor"),r={},i=function(t,e,n){var o=t.val();return o&&e&&!o.charAt(e-1).match(/\n/)&&(n="\n"+n),n},a=function(){var t="";return window.getSelection?t=window.getSelection().toString():document.selection&&"Control"!=document.selection.type&&(t=document.selection.createRange().text),t},s=function(t,e,n,r,i){var s,c=a(),u=e+n.length;c?(s=u+c.length,o.insert(t,n,e),o.insert(t,r,s)):(s=u+i.length,o.insert(t,n+i+r,e)),o.set(t,u,s),t.trigger("input")},c=function(t,e,n,r,i){var s,c,u=i[0].startStr,l=i[0].placeholder,p=i[0].endStr,d=i[1].startStr,f=i[1].placeholder,h=i[1].endStr,m=a();if(m)s=e+n.length+u.length+m.length+p.length+d.length,c=s+f.length,o.insert(t,n+u,e),o.insert(t,p+d+f+h+r,e+n.length+u.length+m.length);else{var g=l+p+d+f;s=e+n.length+u.length,c=s+g.length,o.insert(t,n+u+g+h+r,e)}o.set(t,s,c),t.trigger("input")};r.controller=function(t){var e=t.data(),r=t.find(".btn"),u=r.filter(".add-latex"),l=r.filter(".add-link"),p=r.filter(".add-image"),d=r.filter(".add-example"),f=r.filter(".add-proof"),h=r.filter(".add-bold"),m=r.filter(".add-fraction"),g=r.filter(".add-list"),v=r.filter(".add-table"),y=n(e.target),b=function(){r.on("mousedown",function(t){t.preventDefault()}),u.on("click",function(t){t.preventDefault();var e=o.get(y),n="\\(",r="LaTeX",i="\\)";s(y,e,n,i,r)}),l.on("click",function(t){t.preventDefault();var e=o.get(y),n="",r="",i=[{startStr:"[",placeholder:"link text",endStr:"]"},{startStr:"(",placeholder:"https://brilliant.org",endStr:")"}];c(y,e,n,r,i)}),p.on("click",function(t){t.target===this&&p.find("input").trigger("click")}),d.on("click",function(t){t.preventDefault();var e=o.get(y),n=i(y,e,"[[start-example]]"),r="[[end-example]]",a="example text";s(y,e,n,r,a)}),f.on("click",function(t){t.preventDefault();var e=o.get(y),n=i(y,e,"[[start-proof]]"),r="[[end-proof]]",a="proof text";s(y,e,n,r,a)}),h.on("click",function(t){t.preventDefault();var e=o.get(y),n="**",r="**",i="bold text";s(y,e,n,r,i)}),m.on("click",function(t){t.preventDefault();var e=o.get(y),n="\\(\\frac",r="\\)",i=[{startStr:"{",placeholder:"numerator",endStr:"}"},{startStr:"{",placeholder:"denominator",endStr:"}"}];c(y,e,n,r,i)}),g.on("click",function(t){t.preventDefault();var e=y.val(),n=o.get(y),r=e.lastIndexOf("\n",n-1)+1,i=e.indexOf("\n",n-1),s="- ",c=a(),u=n;i=-1==i?e.length:i,-1==e.slice(r,i).search(s)&&(o.insert(y,s,r),u+=s.length),c?o.set(y,u,u+c.length):o.set(y,u),y.trigger("input")}),v.on("click",function(t){t.preventDefault();var e=o.get(y),n=i(y,e,"||"),r="||",a=[{startStr:"",placeholder:"row 1 col 1||row 1 col 2",endStr:"||\n"},{startStr:"||",placeholder:"row 2 col 1||row 2 col 2",endStr:""}];c(y,e,n,r,a)})};y.length?b():n(e.target.replace("__copy","")).on("mentions.ready",function(){y=n(e.target),b()})},e.exports=r},{jquery:"jquery","util/cursor":"util/cursor"}],"util/ui":[function(t,e){var n=t("jquery"),o=t("underscore"),r=t("util/global"),i=t("util/flags"),a=t("util/analytics"),s={};s.CustomSelectbox=function(){function t(t){var e=n("select",t),o=n(".dropdown-toggle",t),r=n(".dropdown-menu a",t),i="active",a="."+i;r.on("click",function(t){var s=n(this);t.preventDefault(),s.hasClass("disabled")||(o.find("span:first").html(s.html()),e.val(s.data("opt-value")),e.trigger("change"),r.filter(a).removeClass(i),s.addClass(i))}),r.filter(a).trigger("click")}return t}(),n(function(){var t=function(t){a.track("ui",{action:"click",element_type:t,element_id:"link"})};n.body.on("click",".daum-link",function(e){var o=n(this),r=o.data();t(r.axClicked),e.metaKey||(e.preventDefault(),n.confirm(o.data("text"),function(e){e===!0&&(t(r.axConfirmed),window.open(o.attr("href")))}))})}),s.Anchors=new function(){var t=this,e={scrollable_container_selector:".nf-feeditem-modal, #solutions-scrollable-container, #disputes-scrollable-container",scroll_time:300};return t.scrollToTarget=function(t,o){o=o||function(){};var i=t.parents(e.scrollable_container_selector).first();if(i.length&&i[0].scrollHeight==i.outerHeight()&&(i=n()),t.length){var a=t.offset().top,s=n(),c=0;i.length||(r.is_mobile?s=n(".m-action-bar"):r.user_is_authenticated&&(s=n.id("header"))),t.hasClass("anchor")||s.each(function(t,e){c+=n(e).outerHeight()}),i.length?i.animate({scrollTop:a-i.offset().top+i.scrollTop()-c},{duration:e.scroll_time,complete:o}):n.html.add(n.body).animate({scrollTop:a-c},{duration:e.scroll_time,complete:o})}else o()},t.init=function(){var e=window.location.hash,o=n.id(e.substr(1));e&&e.length&&!o.hasClass("anchor")&&(n.html.add(n.body).scrollTop(0),setTimeout(function(){n.html.add(n.body).scrollTop(0),t.scrollToTarget(o)},10)),n.doc.on("click",'a[href^="#"]',function(e){e.preventDefault();var o=n(this).attr("href").substr(1);if(o&&o.length){var r=n.id(o);r.length&&(t.scrollToTarget(r),window.location.hash=o)}})},t},s.FixedHeaderScrolling=function(){function t(){var t=n.window.scrollLeft();t!==a&&(o.css(r,i-t+"px"),a=t)}function e(){!s&&o.outerWidth()>n.window.width()&&(t(),n.window.on("scroll",t),s=!0),s&&o.outerWidth()==n.window.width()&&(o.css(r,""),n.window.off("scroll",t),s=!1)}var o=n("#header"),r="margin-left",i=parseInt(o.css(r)),a=0,s=!1;e(),n.window.on("resize",e)
},s.FixedSidebarScrolling=function(){function t(){var t=n.window.scrollLeft();t!==i&&(o.css(r,-t+"px"),i=t)}function e(){var e=window.matchMedia?window.matchMedia("(max-width: 960px)").matches:n.window.width()<=960;!a&&e&&(t(),n.window.on("scroll",t),a=!0),a&&!e&&(o.css(r,""),n.window.off("scroll",t),a=!1)}var o=n.id("sidebar").children("div"),r="margin-left",i=0,a=!1;e(),n.window.on("resize",e)},s.crop=function(t){o.defer(function(){if(!r.is_mobile||navigator.userAgent.toLowerCase().indexOf("android")>=0)n.body.toggleClass("cropped",t!==!1);else{var e=n.body.children(".modal-bg");t!==!1?e.on("touchstart.crop",function(t){this.allowUp=this.scrollTop>0,this.allowDown=this.scrollTop<this.scrollHeight-this.clientHeight,this.lastY=t.originalEvent.pageY}).on("touchmove.crop",function(t){var e=t.originalEvent,n=e.pageY>this.lastY,o=!n;this.lastY=e.pageY,n&&this.allowUp||o&&this.allowDown?e.stopPropagation():e.preventDefault()}):e.off(".crop")}})},s.sticky=function(t){t.affix({offset:{top:t.offset().top+(t.data("offset-top")||0)}})},s.toggleButtonLoadingState=function(){var t=null;return function(e,o){if(o&&!t){var r=n("<span/>").text(".").addClass("dot").css("visibility","hidden"),i=r.clone(),a=e.find(".b2-flag, .b-logo").clone(),s=1;e.data("original-text",e.text()).text("Loading.").append(r,i).append(a),t=setInterval(function(){s=3==s?1:s+1,r.css("visibility",s>1?"visible":"hidden"),i.css("visibility",3==s?"visible":"hidden")},333)}else t&&(e.html(e.data("original-text")),clearInterval(t),t=null)}}(),s.areYouSure=function(t){var e=!0;t.on("click",function(o){e&&(o.preventDefault(),n.confirm("",{title_text:t.data("confirm-box-title")},function(n){n&&(e=!1,t.trigger("click"))}))})},s.modalController=function(t){var e=t.data();e.axId&&t.on("show",function(){a.track("ui",{action:"modal",element_type:"modal",element_id:e.axId})}),e.flag&&i.update(e.flag,!0),t.modal({show:!1});var o=!0;if(e.trigger){var r=function(e){e.preventDefault(),t.modal("show")};e.triggerPersist?n.body.off_on("click.genericmodal",e.trigger,r):n(e.trigger).on("click",r),o=e.autoshow===!0}o&&t.modal("show")},s.scaleSvg=function(t){t.scale_svg(t.data("tolerance")||null)},s.fitDropdownIntoViewport=function(t){function e(){var t=n.window.height()+n.doc.scrollTop()-s,e=a.offset().top+a.outerHeight(),o=a.height()-(e-t);o>i?l&&(a.css("height","auto").removeClass(u),l=!1):(l||(a.addClass(u),l=!0),a.height(o))}function r(){i=a.height(),e()}var i,a=t.find(".dropdown-menu"),s=10,c="resize.ddresize scroll.ddresize",u="vertical-scrollbar",l=!1;t.on("opened",function(){r(),n.window.on(c,o.throttle(e,20))}).on("close",function(){a.css("height","auto"),n.window.off(c)}).on("update",r)},s.fadeOutOnComponentLoad=function(t){t.fadeOut(2e3)},s.autocomplete=function(t){var e=t.find(".autocomplete-field"),r=t.find(".autocomplete-target"),i=t.data();if(i.autocompleteUrl&&e.length&&r.length){var a,s=[],c=function(t){var e=t.title||t.name;return i.showIds&&(e+=" ["+t.id+"]"),e},u=function(t,e){return n.Event("autocomplete."+t,{autocomplete:e})};e.typeahead(),e.on("focus",function(){e.select()}),e.on("keypress",function(){clearTimeout(a),a=setTimeout(function(){var o=e.val();if(o.length>=3){var r=t.data("autocomplete-url"),a={};a[i.paramName||"query"]=o,n.get(r,a).then(function(t){s=t,e.data("typeahead").source=t.map(c),t.length&&e.typeahead("lookup")})}},500)}),e.on("ta_select",function(){var t,n=e.val();for(var o in s)if(t=s[o],c(t)===n)return r.val(t.id),r.trigger("change"),e.trigger(u("select",t)),e.data("previous-value",n),void 0}),e.on("blur",function(){setTimeout(function(){e.typeahead("hide"),""===e.val()?(r.val(""),r.trigger("change"),e.trigger(u("select",{id:null,title:null}))):e.val(e.data("previous-value"))},200)}),e.on("autocomplete.reset",function(){e.data("typeahead").source=[]}),e.data("previous-value",e.val()),o.defer(function(){e.trigger(u("ready",{id:r.val(),title:e.val()}))})}},s.hasPlaceholder=function(t){var e=t.data("placeholder");if(e){var n="placeholder",o=function(){""===t.val().trim()&&t.val(e).addClass(n)},r=function(){t.hasClass(n)&&t.val("").removeClass(n)};t.val()===e&&t.val(""),t.is(":focus")||t.is(":selected")||o(),t.on("focus select",r).on("blur",o),t.parents("form").on("submit",r)}},s.quadLimitWarning=function(t){var e=t.find("textarea"),r=null,i=!1,a=t.data("quad-warning"),s=5,c=/\\qq?uad/g,u=function(){var o=e.val().match(c);o&&o.length>=s?(i=!0,r?r.show():(r=n('<ul class="errorlist"><li>'+a+"</li></ul>"),t.append(r))):r&&i&&(i=!1,r.hide())};e.on("keyup input",u),o.defer(u)},s.showAndHideContent=function(t){t.find(".btn").on("click",function(e){e.preventDefault(),t.nextAll("blockquote.hidden").first().toggleClass("show")})},s.preventDoubleClick=function(t){t.find("a,button").on("click",function(t){var e=n(this);e.hasClass("disabled")?t.preventDefault():e.addClass("disabled")})},s.genericSignupModal=function(t){var e=n.id("signup-modal-generic");e.length&&(e.modal({show:!1}),t.on("click",function(o){o.preventDefault(),e.modal("show");var r=e.find(".public-signup-left");r.length&&!r.data("already-opened")&&(r.data("already-opened",!0),r.attr("data-already-opened",!0),a.track("ui",{element_id:"viewed_signup_login_modal_tour_slide_1"}));var i=e.find(".public-signup-right");if(i.length){var s="show-form",c="show-signup",u="show-login";t.data("show-login")?i.removeClass(s+" "+c).addClass(u):i.removeClass(s+" "+u).addClass(c)}var l=t.data("next");l&&(e.find(".btn-email").data("next",l),e.find(".signup-social").each(function(){var t=this.href.split("?")[0]+"?"+encodeURIComponent(l);n(this).attr("href",t)}))}))},s.selectAll=function(t){var e,n=t.data("parent")||null;e=n?t.parents(n):t,e.on("click",function(){t.select()})},s.hundredDayButton=function(t){setTimeout(function(){t.removeClass("wiggle-less")},5e3)},s.interceptClicks=function(t){var e=n.create("button");e.css({position:"absolute",top:0,left:0,width:"100%",height:"100%",opacity:0,zIndex:100}),e.on("click",function(){window.location=t.data("target")}),t.children().append(e)},n(function(){r.is_mobile||(s.FixedHeaderScrolling(),s.FixedSidebarScrolling()),s.Anchors.init()}),e.exports=s},{jquery:"jquery",underscore:"underscore","util/analytics":"util/analytics","util/flags":"util/flags","util/global":"util/global"}],"util/urls":[function(t,e){var n={};n.appendGetParam=function(t,e,n){var o=t.split("#");return o[0]+=(-1!==o[0].indexOf("?")?"&":"?")+e+"="+n,o.length>1?o.join("#"):o[0]},n.appendGetParams=function(t,e){if(t){var n=t.split("#"),o=-1!==n[0].indexOf("?")?"&":"?";for(var r in e)e.hasOwnProperty(r)&&(n[0]+=o+r+"="+e[r],o="&");return n.length>1?n.join("#"):n[0]}},n.getParamsObject=function(t){t=t||window.location.search;var e=t.replace("?","").split("&"),n={};return e.forEach(function(t){t.length>0&&(t=t.split("="),n[t[0]]=t[1])}),n},e.exports=n},{}]},{},[3]);
//# sourceMappingURL=brilliant_lib.js.map
